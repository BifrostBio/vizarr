{"version":3,"file":"index-B_qSkfT6.js","sources":["../node_modules/imjoy-rpc/dist/imjoy-rpc.js","../node_modules/imjoy-rpc/dist/imjoy-rpc-socketio.js","../node_modules/imjoy-rpc/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"imjoyRPC\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"imjoyRPC\"] = factory();\n\telse\n\t\troot[\"imjoyRPC\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/worker-loader/dist/workers/InlineWorker.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/worker-loader/dist/workers/InlineWorker.js ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\n\nvar URL = window.URL || window.webkitURL;\n\nmodule.exports = function (content, url) {\n  try {\n    try {\n      var blob;\n\n      try {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n\n        blob = new BlobBuilder();\n\n        blob.append(content);\n\n        blob = blob.getBlob();\n      } catch (e) {\n        // The proposed API\n        blob = new Blob([content]);\n      }\n\n      return new Worker(URL.createObjectURL(blob));\n    } catch (e) {\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error('Inline worker is not supported');\n    }\n\n    return new Worker(url);\n  }\n};\n\n/***/ }),\n\n/***/ \"./package.json\":\n/*!**********************!*\\\n  !*** ./package.json ***!\n  \\**********************/\n/*! exports provided: name, version, description, module, scripts, repository, keywords, author, license, bugs, homepage, dependencies, devDependencies, eslintConfig, default */\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"name\\\":\\\"imjoy-rpc\\\",\\\"version\\\":\\\"0.2.42\\\",\\\"description\\\":\\\"Remote procedure calls for ImJoy.\\\",\\\"module\\\":\\\"index.js\\\",\\\"scripts\\\":{\\\"build\\\":\\\"rm -rf dist && npm run build-umd\\\",\\\"build-umd\\\":\\\"webpack --config webpack.config.js --mode development && NODE_ENV=production webpack --config webpack.config.js --mode production --devtool source-map \\\",\\\"watch\\\":\\\"NODE_ENV=production webpack --watch --progress --config webpack.config.js --mode production --devtool source-map\\\",\\\"publish-npm\\\":\\\"npm install && npm run build && npm publish\\\",\\\"serve\\\":\\\"webpack-dev-server\\\",\\\"stats\\\":\\\"webpack --profile --json > stats.json\\\",\\\"stats-prod\\\":\\\"webpack --profile --json --mode production > stats-prod.json\\\",\\\"analyze\\\":\\\"webpack-bundle-analyzer -p 9999 stats.json\\\",\\\"analyze-prod\\\":\\\"webpack-bundle-analyzer -p 9999 stats-prod.json\\\",\\\"clean\\\":\\\"rimraf dist/*\\\",\\\"deploy\\\":\\\"npm run build && node deploy-site.js\\\",\\\"format\\\":\\\"prettier --write \\\\\\\"{src,tests}/**/**\\\\\\\"\\\",\\\"check-format\\\":\\\"prettier --check \\\\\\\"{src,tests}/**/**\\\\\\\"\\\",\\\"test\\\":\\\"karma start --single-run --browsers ChromeHeadless,FirefoxHeadless karma.conf.js\\\",\\\"test-watch\\\":\\\"karma start --auto-watch --browsers Chrome,FirefoxHeadless karma.conf.js --debug\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/imjoy-team/imjoy-rpc.git\\\"},\\\"keywords\\\":[\\\"imjoy\\\",\\\"rpc\\\"],\\\"author\\\":\\\"imjoy-team <imjoy.team@gmail.com>\\\",\\\"license\\\":\\\"MIT\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/imjoy-team/imjoy-rpc/issues\\\"},\\\"homepage\\\":\\\"https://github.com/imjoy-team/imjoy-rpc\\\",\\\"dependencies\\\":{\\\"socket.io-client\\\":\\\"^4.0.1\\\"},\\\"devDependencies\\\":{\\\"@babel/core\\\":\\\"^7.0.0-beta.39\\\",\\\"@babel/plugin-syntax-dynamic-import\\\":\\\"^7.0.0-beta.39\\\",\\\"@babel/polyfill\\\":\\\"^7.0.0-beta.39\\\",\\\"@babel/preset-env\\\":\\\"^7.0.0-beta.39\\\",\\\"@types/requirejs\\\":\\\"^2.1.28\\\",\\\"babel-core\\\":\\\"^6.26.0\\\",\\\"babel-eslint\\\":\\\"^10.1.0\\\",\\\"babel-loader\\\":\\\"^8.1.0\\\",\\\"babel-runtime\\\":\\\"^6.26.0\\\",\\\"chai\\\":\\\"^4.2.0\\\",\\\"clean-webpack-plugin\\\":\\\"^0.1.19\\\",\\\"copy-webpack-plugin\\\":\\\"^5.0.5\\\",\\\"eslint\\\":\\\"^6.8.0\\\",\\\"eslint-config-prettier\\\":\\\"^4.2.0\\\",\\\"eslint-loader\\\":\\\"^4.0.2\\\",\\\"file-loader\\\":\\\"^0.11.2\\\",\\\"fs-extra\\\":\\\"^0.30.0\\\",\\\"gh-pages\\\":\\\"^2.0.1\\\",\\\"html-loader\\\":\\\"^0.5.5\\\",\\\"html-webpack-plugin\\\":\\\"^3.2.0\\\",\\\"json-loader\\\":\\\"^0.5.4\\\",\\\"karma\\\":\\\"^4.4.1\\\",\\\"karma-chrome-launcher\\\":\\\"^3.1.0\\\",\\\"karma-firefox-launcher\\\":\\\"^1.3.0\\\",\\\"karma-mocha\\\":\\\"^1.3.0\\\",\\\"karma-spec-reporter\\\":\\\"0.0.32\\\",\\\"karma-webpack\\\":\\\"^4.0.2\\\",\\\"lerna\\\":\\\"^3.8.0\\\",\\\"lodash.debounce\\\":\\\"^4.0.8\\\",\\\"mocha\\\":\\\"^7.1.2\\\",\\\"postcss\\\":\\\"^6.0.2\\\",\\\"prettier\\\":\\\"^1.6.1\\\",\\\"rimraf\\\":\\\"^2.6.2\\\",\\\"schema-utils\\\":\\\"^0.4.3\\\",\\\"socket.io-client\\\":\\\"^2.3.0\\\",\\\"style-loader\\\":\\\"^0.18.1\\\",\\\"url-loader\\\":\\\"^0.5.9\\\",\\\"webpack\\\":\\\"^4.0.0\\\",\\\"webpack-bundle-analyzer\\\":\\\"^3.3.2\\\",\\\"webpack-cli\\\":\\\"^3.1.2\\\",\\\"webpack-dev-server\\\":\\\"^3.1.1\\\",\\\"webpack-merge\\\":\\\"^4.1.1\\\",\\\"workbox-webpack-plugin\\\":\\\"^4.3.1\\\",\\\"worker-loader\\\":\\\"^2.0.0\\\",\\\"write-file-webpack-plugin\\\":\\\"^4.5.1\\\"},\\\"eslintConfig\\\":{\\\"globals\\\":{\\\"document\\\":true,\\\"window\\\":true}}}\");\n\n/***/ }),\n\n/***/ \"./src/main.js\":\n/*!*********************!*\\\n  !*** ./src/main.js ***!\n  \\*********************/\n/*! exports provided: RPC, API_VERSION, VERSION, waitForInitialization, setupRPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"waitForInitialization\", function() { return waitForInitialization; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupRPC\", function() { return setupRPC; });\n/* harmony import */ var _plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./plugin.webworker.js */ \"./src/plugin.webworker.js\");\n/* harmony import */ var _plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pluginIframe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pluginIframe.js */ \"./src/pluginIframe.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rpc.js */ \"./src/rpc.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RPC\", function() { return _rpc_js__WEBPACK_IMPORTED_MODULE_3__[\"RPC\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"API_VERSION\", function() { return _rpc_js__WEBPACK_IMPORTED_MODULE_3__[\"API_VERSION\"]; });\n\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../package.json */ \"./package.json\", 1);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"VERSION\", function() { return _package_json__WEBPACK_IMPORTED_MODULE_4__[\"version\"]; });\n\n/**\n * Contains the code executed in the sandboxed frame under web-browser\n *\n * Tries to create a Web-Worker inside the frame and set up the\n * communication between the worker and the parent window. Some\n * browsers restrict creating a worker inside a sandboxed iframe - if\n * this happens, the plugin initialized right inside the frame (in the\n * same thread)\n */\n\n\n\n\n\n\nfunction _inIframe() {\n  try {\n    return window.self !== window.top;\n  } catch (e) {\n    return true;\n  }\n}\n/**\n * Initializes the plugin inside a web worker. May throw an exception\n * in case this was not permitted by the browser.\n */\n\n\nfunction setupWebWorker(config) {\n  if (!config.allow_execution) throw new Error(\"web-worker plugin can only work with allow_execution=true\");\n  const worker = new _plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0___default.a(); // mixed content warning in Chrome silently skips worker\n  // initialization without exception, handling this with timeout\n\n  const fallbackTimeout = setTimeout(function () {\n    worker.terminate();\n    console.warn(`Plugin failed to start as a web-worker, running in an iframe instead.`);\n    Object(_pluginIframe_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n  }, 2000);\n  const peer_id = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"randId\"])(); // forwarding messages between the worker and parent window\n\n  worker.addEventListener(\"message\", function (e) {\n    let transferables = undefined;\n    const m = e.data;\n\n    if (m.type === \"worker-ready\") {\n      // send config to the worker\n      worker.postMessage({\n        type: \"connectRPC\",\n        config: config\n      });\n      clearTimeout(fallbackTimeout);\n      return;\n    } else if (m.type === \"initialized\") {\n      // complete the missing fields\n      m.config = Object.assign({}, config, m.config);\n      m.origin = window.location.origin;\n      m.peer_id = peer_id;\n    } else if (m.type === \"imjoy_remote_api_ready\") {\n      // if it's a webworker, there will be no api object returned\n      window.dispatchEvent(new CustomEvent(\"imjoy_remote_api_ready\", {\n        detail: null\n      }));\n    } else if (m.type === \"cacheRequirements\" && typeof cache_requirements === \"function\") {\n      cache_requirements(m.requirements);\n    } else if (m.type === \"disconnect\") {\n      worker.terminate();\n    } else {\n      if (m.__transferables__) {\n        transferables = m.__transferables__;\n        delete m.__transferables__;\n      }\n    }\n\n    parent.postMessage(m, config.target_origin || \"*\", transferables);\n  });\n  window.addEventListener(\"message\", function (e) {\n    let transferables = undefined;\n    const m = e.data;\n\n    if (m.__transferables__) {\n      transferables = m.__transferables__;\n      delete m.__transferables__;\n    }\n\n    if (m.peer_id === peer_id) {\n      worker.postMessage(m, transferables);\n    } else if (config.debug) {\n      console.log(`connection peer id mismatch ${m.peer_id} !== ${peer_id}`);\n    }\n  });\n}\n\nfunction waitForInitialization(config) {\n  if (!_inIframe()) {\n    throw new Error(\"waitForInitialization (imjoy-rpc) should only run inside an iframe.\");\n  }\n\n  config = config || {};\n  const targetOrigin = config.target_origin || \"*\";\n\n  if (config.credential_required && typeof config.verify_credential !== \"function\") {\n    throw new Error(\"Please also provide the `verify_credential` function with `credential_required`.\");\n  }\n\n  if (config.credential_required && targetOrigin === \"*\") {\n    throw new Error(\"`target_origin` was set to `*` with `credential_required=true`, there is a security risk that you may leak the credential to website from other origin. Please specify the `target_origin` explicitly.\");\n  }\n\n  const done = () => {\n    window.removeEventListener(\"message\", handleEvent);\n  };\n\n  const peer_id = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"randId\"])();\n\n  const handleEvent = e => {\n    if (e.type === \"message\" && (targetOrigin === \"*\" || e.origin === targetOrigin)) {\n      if (e.data.type === \"initialize\") {\n        done();\n\n        if (e.data.peer_id !== peer_id) {\n          // TODO: throw an error when we are sure all the peers will send the peer_id\n          console.warn(`${e.data.config && e.data.config.name}: connection peer id mismatch ${e.data.peer_id} !== ${peer_id}`);\n        }\n\n        const cfg = e.data.config; // override the target_origin setting if it's configured by the rpc client\n        // otherwise take the setting from the core\n\n        if (targetOrigin !== \"*\") {\n          cfg.target_origin = targetOrigin;\n        }\n\n        if (config.credential_required) {\n          config.verify_credential(cfg.credential).then(result => {\n            if (result && result.auth && !result.error) {\n              // pass the authentication information with tokens\n              cfg.auth = result.auth;\n              setupRPC(cfg).then(() => {\n                console.log(\"ImJoy RPC loaded successfully!\");\n              });\n            } else {\n              throw new Error(\"Failed to verify the credentail:\" + (result && result.error));\n            }\n          });\n        } else {\n          setupRPC(cfg).then(() => {\n            console.log(\"ImJoy RPC loaded successfully!\");\n          });\n        }\n      } else {\n        throw new Error(`unrecognized message: ${e.data}`);\n      }\n    }\n  };\n\n  window.addEventListener(\"message\", handleEvent);\n  parent.postMessage({\n    type: \"imjoyRPCReady\",\n    config: config,\n    peer_id: peer_id\n  }, \"*\");\n}\nfunction setupRPC(config) {\n  config = config || {};\n  if (!config.name) throw new Error(\"Please specify a name for your app.\");\n  config = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"normalizeConfig\"])(config);\n  return new Promise((resolve, reject) => {\n    const handleEvent = e => {\n      const api = e.detail;\n\n      if (config.expose_api_globally) {\n        window.api = api;\n      } // imjoy plugin api\n\n\n      resolve(api);\n      window.removeEventListener(\"imjoy_remote_api_ready\", handleEvent);\n    };\n\n    if (_inIframe()) {\n      if (config.type === \"web-worker\") {\n        try {\n          setupWebWorker(config);\n        } catch (e) {\n          // fallback to iframe\n          Object(_pluginIframe_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n        }\n      } else if ([\"rpc-window\", \"rpc-worker\", \"iframe\", \"window\"].includes(config.type)) {\n        Object(_pluginIframe_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n      } else {\n        console.error(\"Unsupported plugin type: \" + config.type);\n        reject(\"Unsupported plugin type: \" + config.type);\n        return;\n      }\n\n      window.addEventListener(\"imjoy_remote_api_ready\", handleEvent);\n    } else {\n      reject(new Error(\"imjoy-rpc should only run inside an iframe.\"));\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./src/plugin.webworker.js\":\n/*!*********************************!*\\\n  !*** ./src/plugin.webworker.js ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function() {\n  return __webpack_require__(/*! !./node_modules/worker-loader/dist/workers/InlineWorker.js */ \"./node_modules/worker-loader/dist/workers/InlineWorker.js\")(\"/******/ (function(modules) { // webpackBootstrap\\n/******/ \\t// The module cache\\n/******/ \\tvar installedModules = {};\\n/******/\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tif(installedModules[moduleId]) {\\n/******/ \\t\\t\\treturn installedModules[moduleId].exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = installedModules[moduleId] = {\\n/******/ \\t\\t\\ti: moduleId,\\n/******/ \\t\\t\\tl: false,\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n/******/\\n/******/ \\t\\t// Flag the module as loaded\\n/******/ \\t\\tmodule.l = true;\\n/******/\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/\\n/******/\\n/******/ \\t// expose the modules object (__webpack_modules__)\\n/******/ \\t__webpack_require__.m = modules;\\n/******/\\n/******/ \\t// expose the module cache\\n/******/ \\t__webpack_require__.c = installedModules;\\n/******/\\n/******/ \\t// define getter function for harmony exports\\n/******/ \\t__webpack_require__.d = function(exports, name, getter) {\\n/******/ \\t\\tif(!__webpack_require__.o(exports, name)) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n/******/ \\t\\t}\\n/******/ \\t};\\n/******/\\n/******/ \\t// define __esModule on exports\\n/******/ \\t__webpack_require__.r = function(exports) {\\n/******/ \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n/******/ \\t\\t}\\n/******/ \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n/******/ \\t};\\n/******/\\n/******/ \\t// create a fake namespace object\\n/******/ \\t// mode & 1: value is a module id, require it\\n/******/ \\t// mode & 2: merge all properties of value into the ns\\n/******/ \\t// mode & 4: return value when already ns object\\n/******/ \\t// mode & 8|1: behave like require\\n/******/ \\t__webpack_require__.t = function(value, mode) {\\n/******/ \\t\\tif(mode & 1) value = __webpack_require__(value);\\n/******/ \\t\\tif(mode & 8) return value;\\n/******/ \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n/******/ \\t\\tvar ns = Object.create(null);\\n/******/ \\t\\t__webpack_require__.r(ns);\\n/******/ \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n/******/ \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n/******/ \\t\\treturn ns;\\n/******/ \\t};\\n/******/\\n/******/ \\t// getDefaultExport function for compatibility with non-harmony modules\\n/******/ \\t__webpack_require__.n = function(module) {\\n/******/ \\t\\tvar getter = module && module.__esModule ?\\n/******/ \\t\\t\\tfunction getDefault() { return module['default']; } :\\n/******/ \\t\\t\\tfunction getModuleExports() { return module; };\\n/******/ \\t\\t__webpack_require__.d(getter, 'a', getter);\\n/******/ \\t\\treturn getter;\\n/******/ \\t};\\n/******/\\n/******/ \\t// Object.prototype.hasOwnProperty.call\\n/******/ \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n/******/\\n/******/ \\t// __webpack_public_path__\\n/******/ \\t__webpack_require__.p = \\\"\\\";\\n/******/\\n/******/\\n/******/ \\t// Load entry module and return exports\\n/******/ \\treturn __webpack_require__(__webpack_require__.s = \\\"./src/plugin.webworker.js\\\");\\n/******/ })\\n/************************************************************************/\\n/******/ ({\\n\\n/***/ \\\"./src/plugin.webworker.js\\\":\\n/*!*********************************!*\\\\\\n  !*** ./src/plugin.webworker.js ***!\\n  \\\\*********************************/\\n/*! no exports provided */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\n__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pluginCore.js */ \\\"./src/pluginCore.js\\\");\\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rpc.js */ \\\"./src/rpc.js\\\");\\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \\\"./src/utils.js\\\");\\n/**\\n * Contains the routines loaded by the plugin Worker under web-browser.\\n *\\n * Initializes the web environment version of the platform-dependent\\n * connection object for the plugin site\\n */\\n\\n\\n\\n\\n(function() {\\n  // make sure this runs inside a webworker\\n  if (\\n    typeof WorkerGlobalScope === \\\"undefined\\\" ||\\n    !self ||\\n    !(self instanceof WorkerGlobalScope)\\n  ) {\\n    throw new Error(\\\"This script can only loaded in a webworker\\\");\\n  }\\n  /**\\n   * Connection object provided to the RPC constructor,\\n   * plugin site implementation for the web-based environment.\\n   * Global will be then cleared to prevent exposure into the\\n   * Worker, so we put this local connection object into a closure\\n   */\\n  class Connection extends _utils_js__WEBPACK_IMPORTED_MODULE_2__[\\\"MessageEmitter\\\"] {\\n    constructor(config) {\\n      super(config && config.debug);\\n      this.config = config || {};\\n    }\\n    connect() {\\n      self.addEventListener(\\\"message\\\", e => {\\n        this._fire(e.data.type, e.data);\\n      });\\n      this.emit({\\n        type: \\\"initialized\\\",\\n        config: this.config\\n      });\\n    }\\n    disconnect() {\\n      this._fire(\\\"beforeDisconnect\\\");\\n      self.close();\\n      this._fire(\\\"disconnected\\\");\\n    }\\n    emit(data) {\\n      let transferables = undefined;\\n      if (data.__transferables__) {\\n        transferables = data.__transferables__;\\n        delete data.__transferables__;\\n      }\\n      self.postMessage(data, transferables);\\n    }\\n    async execute(code) {\\n      if (code.type === \\\"requirements\\\") {\\n        try {\\n          if (\\n            code.requirements &&\\n            (Array.isArray(code.requirements) ||\\n              typeof code.requirements === \\\"string\\\")\\n          ) {\\n            try {\\n              if (!Array.isArray(code.requirements)) {\\n                code.requirements = [code.requirements];\\n              }\\n              for (var i = 0; i < code.requirements.length; i++) {\\n                if (\\n                  code.requirements[i].toLowerCase().endsWith(\\\".css\\\") ||\\n                  code.requirements[i].startsWith(\\\"css:\\\")\\n                ) {\\n                  throw \\\"unable to import css in a webworker\\\";\\n                } else if (\\n                  code.requirements[i].toLowerCase().endsWith(\\\".js\\\") ||\\n                  code.requirements[i].startsWith(\\\"js:\\\")\\n                ) {\\n                  if (code.requirements[i].startsWith(\\\"js:\\\")) {\\n                    code.requirements[i] = code.requirements[i].slice(3);\\n                  }\\n                  importScripts(code.requirements[i]);\\n                } else if (code.requirements[i].startsWith(\\\"http\\\")) {\\n                  importScripts(code.requirements[i]);\\n                } else if (code.requirements[i].startsWith(\\\"cache:\\\")) {\\n                  //ignore cache\\n                } else {\\n                  console.log(\\n                    \\\"Unprocessed requirements url: \\\" + code.requirements[i]\\n                  );\\n                }\\n              }\\n            } catch (e) {\\n              throw \\\"failed to import required scripts: \\\" +\\n                code.requirements.toString();\\n            }\\n          }\\n        } catch (e) {\\n          throw e;\\n        }\\n      } else if (code.type === \\\"script\\\") {\\n        try {\\n          if (\\n            code.requirements &&\\n            (Array.isArray(code.requirements) ||\\n              typeof code.requirements === \\\"string\\\")\\n          ) {\\n            try {\\n              if (Array.isArray(code.requirements)) {\\n                for (let i = 0; i < code.requirements.length; i++) {\\n                  importScripts(code.requirements[i]);\\n                }\\n              } else {\\n                importScripts(code.requirements);\\n              }\\n            } catch (e) {\\n              throw \\\"failed to import required scripts: \\\" +\\n                code.requirements.toString();\\n            }\\n          }\\n          eval(code.content);\\n        } catch (e) {\\n          console.error(e.message, e.stack);\\n          throw e;\\n        }\\n      } else {\\n        throw \\\"unsupported code type.\\\";\\n      }\\n      if (code.type === \\\"requirements\\\") {\\n        self.postMessage({\\n          type: \\\"cacheRequirements\\\",\\n          requirements: code.requirements\\n        });\\n      }\\n    }\\n  }\\n  const config = {\\n    type: \\\"web-worker\\\",\\n    dedicated_thread: true,\\n    allow_execution: true,\\n    lang: \\\"javascript\\\",\\n    api_version: _rpc_js__WEBPACK_IMPORTED_MODULE_1__[\\\"API_VERSION\\\"]\\n  };\\n  const conn = new Connection(config);\\n  conn.on(\\\"connectRPC\\\", data => {\\n    Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__[\\\"connectRPC\\\"])(conn, Object.assign(data.config, config));\\n  });\\n  conn.connect();\\n  self.postMessage({\\n    type: \\\"worker-ready\\\"\\n  });\\n})();\\n\\n\\n/***/ }),\\n\\n/***/ \\\"./src/pluginCore.js\\\":\\n/*!***************************!*\\\\\\n  !*** ./src/pluginCore.js ***!\\n  \\\\***************************/\\n/*! exports provided: connectRPC */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\n__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"connectRPC\\\", function() { return connectRPC; });\\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rpc.js */ \\\"./src/rpc.js\\\");\\n/**\\n * Core plugin script loaded into the plugin process/thread.\\n *\\n * Initializes the plugin-site API global methods.\\n */\\n\\nfunction connectRPC(connection, config) {\\n  config = config || {};\\n  const codecs = {};\\n  const rpc = new _rpc_js__WEBPACK_IMPORTED_MODULE_0__[\\\"RPC\\\"](connection, config, codecs);\\n  rpc.on(\\\"getInterface\\\", function () {\\n    launchConnected();\\n  });\\n  rpc.on(\\\"remoteReady\\\", function () {\\n    const api = rpc.getRemote() || {};\\n\\n    api.registerCodec = function (config) {\\n      if (!config[\\\"name\\\"] || !config[\\\"encoder\\\"] && !config[\\\"decoder\\\"]) {\\n        throw new Error(\\\"Invalid codec format, please make sure you provide a name, type, encoder and decoder.\\\");\\n      } else {\\n        if (config.type) {\\n          for (let k of Object.keys(codecs)) {\\n            if (codecs[k].type === config.type || k === config.name) {\\n              delete codecs[k];\\n              console.warn(\\\"Remove duplicated codec: \\\" + k);\\n            }\\n          }\\n        }\\n\\n        codecs[config[\\\"name\\\"]] = config;\\n      }\\n    };\\n\\n    api.init = function (config) {\\n      // register a minimal plugin api\\n      rpc.setInterface({\\n        setup() {}\\n\\n      }, config);\\n    };\\n\\n    api.disposeObject = function (obj) {\\n      rpc.disposeObject(obj);\\n    };\\n\\n    api.export = function (_interface, config) {\\n      rpc.setInterface(_interface, config);\\n    };\\n\\n    api.onLoad = function (handler) {\\n      handler = checkHandler(handler);\\n\\n      if (connected) {\\n        handler();\\n      } else {\\n        connectedHandlers.push(handler);\\n      }\\n    };\\n\\n    api.dispose = function (_interface) {\\n      rpc.disconnect();\\n    };\\n\\n    if (typeof WorkerGlobalScope !== \\\"undefined\\\" && self instanceof WorkerGlobalScope) {\\n      self.api = api;\\n      self.postMessage({\\n        type: \\\"imjoy_remote_api_ready\\\"\\n      });\\n    } else if (typeof window) {\\n      window.dispatchEvent(new CustomEvent(\\\"imjoy_remote_api_ready\\\", {\\n        detail: api\\n      }));\\n    }\\n  });\\n  let connected = false;\\n  const connectedHandlers = [];\\n\\n  const launchConnected = function () {\\n    if (!connected) {\\n      connected = true;\\n      let handler;\\n\\n      while (handler = connectedHandlers.pop()) {\\n        handler();\\n      }\\n    }\\n  };\\n\\n  const checkHandler = function (handler) {\\n    const type = typeof handler;\\n\\n    if (type !== \\\"function\\\") {\\n      const msg = \\\"A function may only be subsribed to the event, \\\" + type + \\\" was provided instead\\\";\\n      throw new Error(msg);\\n    }\\n\\n    return handler;\\n  };\\n\\n  return rpc;\\n}\\n\\n/***/ }),\\n\\n/***/ \\\"./src/rpc.js\\\":\\n/*!********************!*\\\\\\n  !*** ./src/rpc.js ***!\\n  \\\\********************/\\n/*! exports provided: API_VERSION, RPC */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\n__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"API_VERSION\\\", function() { return API_VERSION; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"RPC\\\", function() { return RPC; });\\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \\\"./src/utils.js\\\");\\n/**\\n * Contains the RPC object used both by the application\\n * site, and by each plugin\\n */\\n\\nconst API_VERSION = \\\"0.2.3\\\";\\nconst ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor;\\n\\nfunction _appendBuffer(buffer1, buffer2) {\\n  const tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\\n  tmp.set(new Uint8Array(buffer1), 0);\\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\\n  return tmp.buffer;\\n}\\n\\nfunction indexObject(obj, is) {\\n  if (!is) throw new Error(\\\"undefined index\\\");\\n  if (typeof is === \\\"string\\\") return indexObject(obj, is.split(\\\".\\\"));else if (is.length === 0) return obj;else return indexObject(obj[is[0]], is.slice(1));\\n}\\n/**\\n * RPC object represents a single site in the\\n * communication protocol between the application and the plugin\\n *\\n * @param {Object} connection a special object allowing to send\\n * and receive messages from the opposite site (basically it\\n * should only provide send() and onMessage() methods)\\n */\\n\\n\\nclass RPC extends _utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"MessageEmitter\\\"] {\\n  constructor(connection, config, codecs) {\\n    super(config && config.debug);\\n    this._connection = connection;\\n    this.config = config || {};\\n    this._codecs = codecs || {};\\n    this._object_store = {};\\n    this._method_weakmap = new WeakMap();\\n    this._object_weakmap = new WeakMap();\\n    this._local_api = null; // make sure there is an execute function\\n\\n    const name = this.config.name;\\n\\n    this._connection.execute = this._connection.execute || function () {\\n      throw new Error(`connection.execute not implemented (in \\\"${name}\\\")`);\\n    };\\n\\n    this._store = new ReferenceStore();\\n    this._method_refs = new ReferenceStore();\\n\\n    this._method_refs.onReady(() => {\\n      this._fire(\\\"remoteIdle\\\");\\n    });\\n\\n    this._method_refs.onBusy(() => {\\n      this._fire(\\\"remoteBusy\\\");\\n    });\\n\\n    this._setupMessageHanlders();\\n  }\\n\\n  init() {\\n    this._connection.emit({\\n      type: \\\"initialized\\\",\\n      config: this.config,\\n      peer_id: this._connection.peer_id\\n    });\\n  }\\n\\n  setConfig(config) {\\n    if (config) for (const k of Object.keys(config)) {\\n      this.config[k] = config[k];\\n    }\\n  }\\n  /**\\n   * Set a handler to be called when received a responce from the\\n   * remote site reporting that the previously provided interface\\n   * has been successfully set as remote for that site\\n   *\\n   * @param {Function} handler\\n   */\\n\\n\\n  getRemoteCallStack() {\\n    return this._method_refs.getStack();\\n  }\\n  /**\\n   * @returns {Object} set of remote interface methods\\n   */\\n\\n\\n  getRemote() {\\n    return this._remote_interface;\\n  }\\n  /**\\n   * Sets the interface of this site making it available to the\\n   * remote site by sending a message with a set of methods names\\n   *\\n   * @param {Object} _interface to set\\n   */\\n\\n\\n  setInterface(_interface, config) {\\n    config = config || {};\\n    this.config.name = config.name || this.config.name;\\n    this.config.description = config.description || this.config.description;\\n\\n    if (this.config.forwarding_functions) {\\n      for (let func_name of this.config.forwarding_functions) {\\n        const _remote = this._remote_interface;\\n\\n        if (_remote[func_name]) {\\n          if (_interface.constructor === Object) {\\n            if (!_interface[func_name]) {\\n              _interface[func_name] = (...args) => {\\n                _remote[func_name](...args);\\n              };\\n            }\\n          } else if (_interface.constructor.constructor === Function) {\\n            if (!_interface.constructor.prototype[func_name]) {\\n              _interface.constructor.prototype[func_name] = (...args) => {\\n                _remote[func_name](...args);\\n              };\\n            }\\n          }\\n        }\\n      }\\n    }\\n\\n    this._local_api = _interface;\\n\\n    this._fire(\\\"interfaceAvailable\\\");\\n  }\\n  /**\\n   * Sends the actual interface to the remote site upon it was\\n   * updated or by a special request of the remote site\\n   */\\n\\n\\n  sendInterface() {\\n    if (!this._local_api) {\\n      throw new Error(\\\"interface is not set.\\\");\\n    }\\n\\n    this._encode(this._local_api, true).then(api => {\\n      this._connection.emit({\\n        type: \\\"setInterface\\\",\\n        api: api\\n      });\\n    });\\n  }\\n\\n  _disposeObject(objectId) {\\n    if (this._object_store[objectId]) {\\n      delete this._object_store[objectId];\\n    } else {\\n      throw new Error(`Object (id=${objectId}) not found.`);\\n    }\\n  }\\n\\n  disposeObject(obj) {\\n    return new Promise((resolve, reject) => {\\n      if (this._object_weakmap.has(obj)) {\\n        const objectId = this._object_weakmap.get(obj);\\n\\n        this._connection.once(\\\"disposed\\\", data => {\\n          if (data.error) reject(new Error(data.error));else resolve();\\n        });\\n\\n        this._connection.emit({\\n          type: \\\"disposeObject\\\",\\n          object_id: objectId\\n        });\\n      } else {\\n        throw new Error(\\\"Invalid object\\\");\\n      }\\n    });\\n  }\\n  /**\\n   * Handles a message from the remote site\\n   */\\n\\n\\n  _setupMessageHanlders() {\\n    this._connection.on(\\\"init\\\", this.init);\\n\\n    this._connection.on(\\\"execute\\\", data => {\\n      Promise.resolve(this._connection.execute(data.code)).then(() => {\\n        this._connection.emit({\\n          type: \\\"executed\\\"\\n        });\\n      }).catch(e => {\\n        console.error(e);\\n\\n        this._connection.emit({\\n          type: \\\"executed\\\",\\n          error: String(e)\\n        });\\n      });\\n    });\\n\\n    this._connection.on(\\\"method\\\", async data => {\\n      let resolve, reject, method, method_this, args, result;\\n\\n      try {\\n        if (data.promise) {\\n          [resolve, reject] = await this._unwrap(data.promise, false);\\n        }\\n\\n        const _interface = this._object_store[data.object_id];\\n        method = indexObject(_interface, data.name);\\n\\n        if (data.name.includes(\\\".\\\")) {\\n          const tmp = data.name.split(\\\".\\\");\\n          const intf_index = tmp.slice(0, tmp.length - 1).join(\\\".\\\");\\n          method_this = indexObject(_interface, intf_index);\\n        } else {\\n          method_this = _interface;\\n        }\\n\\n        args = await this._unwrap(data.args, true);\\n\\n        if (data.promise) {\\n          result = method.apply(method_this, args);\\n\\n          if (result instanceof Promise || method.constructor && method.constructor.name === \\\"AsyncFunction\\\") {\\n            result.then(resolve).catch(reject);\\n          } else {\\n            resolve(result);\\n          }\\n        } else {\\n          method.apply(method_this, args);\\n        }\\n      } catch (err) {\\n        console.error(this.config.name, err);\\n\\n        if (reject) {\\n          reject(err);\\n        }\\n      }\\n    });\\n\\n    this._connection.on(\\\"callback\\\", async data => {\\n      let resolve, reject, method, args, result;\\n\\n      try {\\n        if (data.promise) {\\n          [resolve, reject] = await this._unwrap(data.promise, false);\\n        }\\n\\n        if (data.promise) {\\n          method = this._store.fetch(data.id);\\n          args = await this._unwrap(data.args, true);\\n\\n          if (!method) {\\n            throw new Error(\\\"Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\\\");\\n          }\\n\\n          result = method.apply(null, args);\\n\\n          if (result instanceof Promise || method.constructor && method.constructor.name === \\\"AsyncFunction\\\") {\\n            result.then(resolve).catch(reject);\\n          } else {\\n            resolve(result);\\n          }\\n        } else {\\n          method = this._store.fetch(data.id);\\n          args = await this._unwrap(data.args, true);\\n\\n          if (!method) {\\n            throw new Error(\\\"Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\\\");\\n          }\\n\\n          method.apply(null, args);\\n        }\\n      } catch (err) {\\n        console.error(this.config.name, err);\\n\\n        if (reject) {\\n          reject(err);\\n        }\\n      }\\n    });\\n\\n    this._connection.on(\\\"disposeObject\\\", data => {\\n      try {\\n        this._disposeObject(data.object_id);\\n\\n        this._connection.emit({\\n          type: \\\"disposed\\\"\\n        });\\n      } catch (e) {\\n        console.error(e);\\n\\n        this._connection.emit({\\n          type: \\\"disposed\\\",\\n          error: String(e)\\n        });\\n      }\\n    });\\n\\n    this._connection.on(\\\"setInterface\\\", data => {\\n      this._setRemoteInterface(data.api);\\n    });\\n\\n    this._connection.on(\\\"getInterface\\\", () => {\\n      this._fire(\\\"getInterface\\\");\\n\\n      if (this._local_api) {\\n        this.sendInterface();\\n      } else {\\n        this.once(\\\"interfaceAvailable\\\", () => {\\n          this.sendInterface();\\n        });\\n      }\\n    });\\n\\n    this._connection.on(\\\"interfaceSetAsRemote\\\", () => {\\n      this._fire(\\\"interfaceSetAsRemote\\\");\\n    });\\n\\n    this._connection.on(\\\"disconnect\\\", () => {\\n      this._fire(\\\"beforeDisconnect\\\");\\n\\n      this._connection.disconnect();\\n\\n      this._fire(\\\"disconnected\\\");\\n    });\\n  }\\n  /**\\n   * Sends a requests to the remote site asking it to provide its\\n   * current interface\\n   */\\n\\n\\n  requestRemote() {\\n    this._connection.emit({\\n      type: \\\"getInterface\\\"\\n    });\\n  }\\n\\n  _ndarray(typedArray, shape, dtype) {\\n    const _dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"typedArrayToDtype\\\"])(typedArray);\\n\\n    if (dtype && dtype !== _dtype) {\\n      throw \\\"dtype doesn't match the type of the array: \\\" + _dtype + \\\" != \\\" + dtype;\\n    }\\n\\n    shape = shape || [typedArray.length];\\n    return {\\n      _rtype: \\\"ndarray\\\",\\n      _rvalue: typedArray.buffer,\\n      _rshape: shape,\\n      _rdtype: _dtype\\n    };\\n  }\\n  /**\\n   * Sets the new remote interface provided by the other site\\n   *\\n   * @param {Array} names list of function names\\n   */\\n\\n\\n  _setRemoteInterface(api) {\\n    this._decode(api).then(intf => {\\n      // update existing interface instead of recreating it\\n      if (this._remote_interface) {\\n        Object.assign(this._remote_interface, intf);\\n      } else this._remote_interface = intf;\\n\\n      this._fire(\\\"remoteReady\\\");\\n\\n      this._reportRemoteSet();\\n    });\\n  }\\n  /**\\n   * Generates the wrapped function corresponding to a single remote\\n   * method. When the generated function is called, it will send the\\n   * corresponding message to the remote site asking it to execute\\n   * the particular method of its interface\\n   *\\n   * @param {String} name of the remote method\\n   *\\n   * @returns {Function} wrapped remote method\\n   */\\n\\n\\n  _genRemoteMethod(targetId, name, objectId) {\\n    const me = this;\\n\\n    const remoteMethod = function () {\\n      return new Promise(async (resolve, reject) => {\\n        let id = null;\\n\\n        try {\\n          id = me._method_refs.put(objectId ? objectId + \\\"/\\\" + name : name);\\n\\n          const wrapped_resolve = function () {\\n            if (id !== null) me._method_refs.fetch(id);\\n            return resolve.apply(this, arguments);\\n          };\\n\\n          const wrapped_reject = function () {\\n            if (id !== null) me._method_refs.fetch(id);\\n            return reject.apply(this, arguments);\\n          };\\n\\n          const encodedPromise = await me._wrap([wrapped_resolve, wrapped_reject]); // store the key id for removing them from the reference store together\\n\\n          wrapped_resolve.__promise_pair = encodedPromise[1]._rvalue;\\n          wrapped_reject.__promise_pair = encodedPromise[0]._rvalue;\\n          let args = Array.prototype.slice.call(arguments);\\n\\n          if (name === \\\"register\\\" || name === \\\"registerService\\\" || name === \\\"export\\\" || name === \\\"on\\\") {\\n            args = await me._wrap(args, true);\\n          } else {\\n            args = await me._wrap(args);\\n          }\\n\\n          const transferables = args.__transferables__;\\n          if (transferables) delete args.__transferables__;\\n\\n          me._connection.emit({\\n            type: \\\"method\\\",\\n            target_id: targetId,\\n            name: name,\\n            object_id: objectId,\\n            args: args,\\n            promise: encodedPromise\\n          }, transferables);\\n        } catch (e) {\\n          if (id) me._method_refs.fetch(id);\\n          reject(`Failed to exectue remote method (interface: ${objectId || me.id}, method: ${name}), error: ${e}`);\\n        }\\n      });\\n    };\\n\\n    remoteMethod.__remote_method = true;\\n    return remoteMethod;\\n  }\\n  /**\\n   * Sends a responce reporting that interface just provided by the\\n   * remote site was successfully set by this site as remote\\n   */\\n\\n\\n  _reportRemoteSet() {\\n    this._connection.emit({\\n      type: \\\"interfaceSetAsRemote\\\"\\n    });\\n  }\\n  /**\\n   * Prepares the provided set of remote method arguments for\\n   * sending to the remote site, replaces all the callbacks with\\n   * identifiers\\n   *\\n   * @param {Array} args to wrap\\n   *\\n   * @returns {Array} wrapped arguments\\n   */\\n\\n\\n  async _encode(aObject, asInterface, objectId) {\\n    const aType = typeof aObject;\\n\\n    if (aType === \\\"number\\\" || aType === \\\"string\\\" || aType === \\\"boolean\\\" || aObject === null || aObject === undefined || aObject instanceof ArrayBuffer) {\\n      return aObject;\\n    }\\n\\n    let bObject;\\n\\n    if (typeof aObject === \\\"function\\\") {\\n      if (asInterface) {\\n        if (!objectId) throw new Error(\\\"objectId is not specified.\\\");\\n        bObject = {\\n          _rtype: \\\"interface\\\",\\n          _rtarget_id: this._connection.peer_id,\\n          _rintf: objectId,\\n          _rvalue: asInterface\\n        };\\n\\n        this._method_weakmap.set(aObject, bObject);\\n      } else if (this._method_weakmap.has(aObject)) {\\n        bObject = this._method_weakmap.get(aObject);\\n      } else {\\n        const cid = this._store.put(aObject);\\n\\n        bObject = {\\n          _rtype: \\\"callback\\\",\\n          _rtarget_id: this._connection.peer_id,\\n          _rname: aObject.constructor && aObject.constructor.name || cid,\\n          _rvalue: cid\\n        };\\n      }\\n\\n      return bObject;\\n    } // skip if already encoded\\n\\n\\n    if (aObject.constructor instanceof Object && aObject._rtype) {\\n      // make sure the interface functions are encoded\\n      if (aObject._rintf) {\\n        const temp = aObject._rtype;\\n        delete aObject._rtype;\\n        bObject = await this._encode(aObject, asInterface, objectId);\\n        bObject._rtype = temp;\\n      } else {\\n        bObject = aObject;\\n      }\\n\\n      return bObject;\\n    }\\n\\n    const transferables = [];\\n    const _transfer = aObject._transfer;\\n    const isarray = Array.isArray(aObject);\\n\\n    for (let tp of Object.keys(this._codecs)) {\\n      const codec = this._codecs[tp];\\n\\n      if (codec.encoder && aObject instanceof codec.type) {\\n        // TODO: what if multiple encoders found\\n        let encodedObj = await Promise.resolve(codec.encoder(aObject));\\n        if (encodedObj && !encodedObj._rtype) encodedObj._rtype = codec.name; // encode the functions in the interface object\\n\\n        if (encodedObj && encodedObj._rintf) {\\n          const temp = encodedObj._rtype;\\n          delete encodedObj._rtype;\\n          encodedObj = await this._encode(encodedObj, asInterface, objectId);\\n          encodedObj._rtype = temp;\\n        }\\n\\n        bObject = encodedObj;\\n        return bObject;\\n      }\\n    }\\n\\n    if (\\n    /*global tf*/\\n    typeof tf !== \\\"undefined\\\" && tf.Tensor && aObject instanceof tf.Tensor) {\\n      const v_buffer = aObject.dataSync();\\n\\n      if (aObject._transfer || _transfer) {\\n        transferables.push(v_buffer.buffer);\\n        delete aObject._transfer;\\n      }\\n\\n      bObject = {\\n        _rtype: \\\"ndarray\\\",\\n        _rvalue: v_buffer.buffer,\\n        _rshape: aObject.shape,\\n        _rdtype: aObject.dtype\\n      };\\n    } else if (\\n    /*global nj*/\\n    typeof nj !== \\\"undefined\\\" && nj.NdArray && aObject instanceof nj.NdArray) {\\n      const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"typedArrayToDtype\\\"])(aObject.selection.data);\\n\\n      if (aObject._transfer || _transfer) {\\n        transferables.push(aObject.selection.data.buffer);\\n        delete aObject._transfer;\\n      }\\n\\n      bObject = {\\n        _rtype: \\\"ndarray\\\",\\n        _rvalue: aObject.selection.data.buffer,\\n        _rshape: aObject.shape,\\n        _rdtype: dtype\\n      };\\n    } else if (aObject instanceof Error) {\\n      console.error(aObject);\\n      bObject = {\\n        _rtype: \\\"error\\\",\\n        _rvalue: aObject.toString()\\n      };\\n    } else if (typeof File !== \\\"undefined\\\" && aObject instanceof File) {\\n      bObject = {\\n        _rtype: \\\"file\\\",\\n        _rvalue: aObject,\\n        _rpath: aObject._path || aObject.webkitRelativePath\\n      };\\n    } // send objects supported by structure clone algorithm\\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\\n    else if (aObject !== Object(aObject) || aObject instanceof Boolean || aObject instanceof String || aObject instanceof Date || aObject instanceof RegExp || aObject instanceof ImageData || typeof FileList !== \\\"undefined\\\" && aObject instanceof FileList || typeof FileSystemDirectoryHandle !== \\\"undefined\\\" && aObject instanceof FileSystemDirectoryHandle || typeof FileSystemFileHandle !== \\\"undefined\\\" && aObject instanceof FileSystemFileHandle || typeof FileSystemHandle !== \\\"undefined\\\" && aObject instanceof FileSystemHandle || typeof FileSystemWritableFileStream !== \\\"undefined\\\" && aObject instanceof FileSystemWritableFileStream) {\\n        bObject = aObject; // TODO: avoid object such as DynamicPlugin instance.\\n      } else if (typeof File !== \\\"undefined\\\" && aObject instanceof File) {\\n        bObject = {\\n          _rtype: \\\"file\\\",\\n          _rname: aObject.name,\\n          _rmime: aObject.type,\\n          _rvalue: aObject,\\n          _rpath: aObject._path || aObject.webkitRelativePath\\n        };\\n      } else if (aObject instanceof Blob) {\\n        bObject = {\\n          _rtype: \\\"blob\\\",\\n          _rvalue: aObject\\n        };\\n      } else if (aObject instanceof ArrayBufferView) {\\n        if (aObject._transfer || _transfer) {\\n          transferables.push(aObject.buffer);\\n          delete aObject._transfer;\\n        }\\n\\n        const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"typedArrayToDtype\\\"])(aObject);\\n        bObject = {\\n          _rtype: \\\"typedarray\\\",\\n          _rvalue: aObject.buffer,\\n          _rdtype: dtype\\n        };\\n      } else if (aObject instanceof DataView) {\\n        if (aObject._transfer || _transfer) {\\n          transferables.push(aObject.buffer);\\n          delete aObject._transfer;\\n        }\\n\\n        bObject = {\\n          _rtype: \\\"memoryview\\\",\\n          _rvalue: aObject.buffer\\n        };\\n      } else if (aObject instanceof Set) {\\n        bObject = {\\n          _rtype: \\\"set\\\",\\n          _rvalue: await this._encode(Array.from(aObject), asInterface)\\n        };\\n      } else if (aObject instanceof Map) {\\n        bObject = {\\n          _rtype: \\\"orderedmap\\\",\\n          _rvalue: await this._encode(Array.from(aObject), asInterface)\\n        };\\n      } else if (aObject.constructor instanceof Object || Array.isArray(aObject)) {\\n        bObject = isarray ? [] : {};\\n        let keys; // an object/array\\n\\n        if (aObject.constructor === Object || Array.isArray(aObject)) {\\n          keys = Object.keys(aObject);\\n        } // a class\\n        else if (aObject.constructor === Function) {\\n            throw new Error(\\\"Please instantiate the class before exportting it.\\\");\\n          } // instance of a class\\n          else if (aObject.constructor.constructor === Function) {\\n              keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject)); // TODO: use a proxy object to represent the actual object\\n              // always encode class instance as interface\\n\\n              asInterface = true;\\n            } else {\\n              throw Error(\\\"Unsupported interface type\\\");\\n            }\\n\\n        let hasFunction = false; // encode interfaces\\n\\n        if (aObject._rintf || asInterface) {\\n          if (!objectId) {\\n            objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"randId\\\"])();\\n            this._object_store[objectId] = aObject;\\n          }\\n\\n          for (let k of keys) {\\n            if (k === \\\"constructor\\\") continue;\\n\\n            if (k.startsWith(\\\"_\\\")) {\\n              continue;\\n            }\\n\\n            bObject[k] = await this._encode(aObject[k], typeof asInterface === \\\"string\\\" ? asInterface + \\\".\\\" + k : k, objectId);\\n\\n            if (typeof aObject[k] === \\\"function\\\") {\\n              hasFunction = true;\\n            }\\n          } // object id for dispose the object remotely\\n\\n\\n          if (hasFunction) bObject._rintf = objectId; // remove interface when closed\\n\\n          if (aObject.on && typeof aObject.on === \\\"function\\\") {\\n            aObject.on(\\\"close\\\", () => {\\n              delete this._object_store[objectId];\\n            });\\n          }\\n        } else {\\n          for (let k of keys) {\\n            if ([\\\"hasOwnProperty\\\", \\\"constructor\\\"].includes(k)) continue;\\n            bObject[k] = await this._encode(aObject[k]);\\n          }\\n        } // for example, browserFS object\\n\\n      } else if (typeof aObject === \\\"object\\\") {\\n        const keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject));\\n        const objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"randId\\\"])();\\n\\n        for (let k of keys) {\\n          if ([\\\"hasOwnProperty\\\", \\\"constructor\\\"].includes(k)) continue; // encode as interface\\n\\n          bObject[k] = await this._encode(aObject[k], k, bObject);\\n        } // object id, used for dispose the object\\n\\n\\n        bObject._rintf = objectId;\\n      } else {\\n        throw \\\"imjoy-rpc: Unsupported data type:\\\" + aObject;\\n      }\\n\\n    if (transferables.length > 0) {\\n      bObject.__transferables__ = transferables;\\n    }\\n\\n    if (!bObject) {\\n      throw new Error(\\\"Failed to encode object\\\");\\n    }\\n\\n    return bObject;\\n  }\\n\\n  async _decode(aObject, withPromise) {\\n    if (!aObject) {\\n      return aObject;\\n    }\\n\\n    let bObject;\\n\\n    if (aObject[\\\"_rtype\\\"]) {\\n      if (this._codecs[aObject._rtype] && this._codecs[aObject._rtype].decoder) {\\n        if (aObject._rintf) {\\n          const temp = aObject._rtype;\\n          delete aObject._rtype;\\n          aObject = await this._decode(aObject, withPromise);\\n          aObject._rtype = temp;\\n        }\\n\\n        bObject = await Promise.resolve(this._codecs[aObject._rtype].decoder(aObject));\\n      } else if (aObject._rtype === \\\"callback\\\") {\\n        bObject = this._genRemoteCallback(aObject._rtarget_id, aObject._rvalue, withPromise);\\n      } else if (aObject._rtype === \\\"interface\\\") {\\n        bObject = this._genRemoteMethod(aObject._rtarget_id, aObject._rvalue, aObject._rintf);\\n      } else if (aObject._rtype === \\\"ndarray\\\") {\\n        /*global nj tf*/\\n        //create build array/tensor if used in the plugin\\n        if (typeof nj !== \\\"undefined\\\" && nj.array) {\\n          if (Array.isArray(aObject._rvalue)) {\\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\\n          }\\n\\n          bObject = nj.array(new Uint8(aObject._rvalue), aObject._rdtype).reshape(aObject._rshape);\\n        } else if (typeof tf !== \\\"undefined\\\" && tf.Tensor) {\\n          if (Array.isArray(aObject._rvalue)) {\\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\\n          }\\n\\n          const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"dtypeToTypedArray\\\"][aObject._rdtype];\\n          bObject = tf.tensor(new arraytype(aObject._rvalue), aObject._rshape, aObject._rdtype);\\n        } else {\\n          //keep it as regular if transfered to the main app\\n          bObject = aObject;\\n        }\\n      } else if (aObject._rtype === \\\"error\\\") {\\n        bObject = new Error(aObject._rvalue);\\n      } else if (aObject._rtype === \\\"file\\\") {\\n        if (aObject._rvalue instanceof File) {\\n          bObject = aObject._rvalue; //patch _path\\n\\n          bObject._path = aObject._rpath;\\n        } else {\\n          bObject = new File([aObject._rvalue], aObject._rname, {\\n            type: aObject._rmime\\n          });\\n          bObject._path = aObject._rpath;\\n        }\\n      } else if (aObject._rtype === \\\"typedarray\\\") {\\n        const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"dtypeToTypedArray\\\"][aObject._rdtype];\\n        if (!arraytype) throw new Error(\\\"unsupported dtype: \\\" + aObject._rdtype);\\n        bObject = new arraytype(aObject._rvalue);\\n      } else if (aObject._rtype === \\\"memoryview\\\") {\\n        bObject = new DataView(aObject._rvalue);\\n      } else if (aObject._rtype === \\\"blob\\\") {\\n        if (aObject._rvalue instanceof Blob) {\\n          bObject = aObject._rvalue;\\n        } else {\\n          bObject = new Blob([aObject._rvalue], {\\n            type: aObject._rmime\\n          });\\n        }\\n      } else if (aObject._rtype === \\\"orderedmap\\\") {\\n        bObject = new Map((await this._decode(aObject._rvalue, withPromise)));\\n      } else if (aObject._rtype === \\\"set\\\") {\\n        bObject = new Set((await this._decode(aObject._rvalue, withPromise)));\\n      } else {\\n        // make sure all the interface functions are decoded\\n        if (aObject._rintf) {\\n          const temp = aObject._rtype;\\n          delete aObject._rtype;\\n          bObject = await this._decode(aObject, withPromise);\\n          bObject._rtype = temp;\\n        } else bObject = aObject;\\n      }\\n    } else if (aObject.constructor === Object || Array.isArray(aObject)) {\\n      const isarray = Array.isArray(aObject);\\n      bObject = isarray ? [] : {};\\n\\n      for (let k of Object.keys(aObject)) {\\n        if (isarray || aObject.hasOwnProperty(k)) {\\n          const v = aObject[k];\\n          bObject[k] = await this._decode(v, withPromise);\\n        }\\n      }\\n    } else {\\n      bObject = aObject;\\n    }\\n\\n    if (bObject === undefined) {\\n      throw new Error(\\\"Failed to decode object\\\");\\n    } // store the object id for dispose\\n\\n\\n    if (aObject._rintf) {\\n      this._object_weakmap.set(bObject, aObject._rintf);\\n    }\\n\\n    return bObject;\\n  }\\n\\n  async _wrap(args, asInterface) {\\n    return await this._encode(args, asInterface);\\n  }\\n  /**\\n   * Unwraps the set of arguments delivered from the remote site,\\n   * replaces all callback identifiers with a function which will\\n   * initiate sending that callback identifier back to other site\\n   *\\n   * @param {Object} args to unwrap\\n   *\\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\\n   *\\n   * @returns {Array} unwrapped args\\n   */\\n\\n\\n  async _unwrap(args, withPromise) {\\n    return await this._decode(args, withPromise);\\n  }\\n  /**\\n   * Generates the wrapped function corresponding to a single remote\\n   * callback. When the generated function is called, it will send\\n   * the corresponding message to the remote site asking it to\\n   * execute the particular callback previously saved during a call\\n   * by the remote site a method from the interface of this site\\n   *\\n   * @param {Number} id of the remote callback to execute\\n   * @param {Number} argNum argument index of the callback\\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\\n   *\\n   * @returns {Function} wrapped remote callback\\n   */\\n\\n\\n  _genRemoteCallback(targetId, cid, withPromise) {\\n    const me = this;\\n    let remoteCallback;\\n\\n    if (withPromise) {\\n      remoteCallback = function () {\\n        return new Promise(async (resolve, reject) => {\\n          const args = await me._wrap(Array.prototype.slice.call(arguments));\\n          const transferables = args.__transferables__;\\n          if (transferables) delete args.__transferables__;\\n          const encodedPromise = await me._wrap([resolve, reject]); // store the key id for removing them from the reference store together\\n\\n          resolve.__promise_pair = encodedPromise[1]._rvalue;\\n          reject.__promise_pair = encodedPromise[0]._rvalue;\\n\\n          try {\\n            me._connection.emit({\\n              type: \\\"callback\\\",\\n              target_id: targetId,\\n              id: cid,\\n              args: args,\\n              promise: encodedPromise\\n            }, transferables);\\n          } catch (e) {\\n            reject(`Failed to exectue remote callback ( id: ${cid}).`);\\n          }\\n        });\\n      };\\n\\n      return remoteCallback;\\n    } else {\\n      remoteCallback = async function () {\\n        const args = await me._wrap(Array.prototype.slice.call(arguments));\\n        const transferables = args.__transferables__;\\n        if (transferables) delete args.__transferables__;\\n        return me._connection.emit({\\n          type: \\\"callback\\\",\\n          target_id: targetId,\\n          id: cid,\\n          args: args\\n        }, transferables);\\n      };\\n\\n      return remoteCallback;\\n    }\\n  }\\n\\n  reset() {\\n    this._event_handlers = {};\\n    this._once_handlers = {};\\n    this._remote_interface = null;\\n    this._object_store = {};\\n    this._method_weakmap = new WeakMap();\\n    this._object_weakmap = new WeakMap();\\n    this._local_api = null;\\n    this._store = new ReferenceStore();\\n    this._method_refs = new ReferenceStore();\\n  }\\n  /**\\n   * Sends the notification message and breaks the connection\\n   */\\n\\n\\n  disconnect() {\\n    this._connection.emit({\\n      type: \\\"disconnect\\\"\\n    });\\n\\n    this.reset();\\n    setTimeout(() => {\\n      this._connection.disconnect();\\n    }, 2000);\\n  }\\n\\n}\\n/**\\n * ReferenceStore is a special object which stores other objects\\n * and provides the references (number) instead. This reference\\n * may then be sent over a json-based communication channel (IPC\\n * to another Node.js process or a message to the Worker). Other\\n * site may then provide the reference in the responce message\\n * implying the given object should be activated.\\n *\\n * Primary usage for the ReferenceStore is a storage for the\\n * callbacks, which therefore makes it possible to initiate a\\n * callback execution by the opposite site (which normally cannot\\n * directly execute functions over the communication channel).\\n *\\n * Each stored object can only be fetched once and is not\\n * available for the second time. Each stored object must be\\n * fetched, since otherwise it will remain stored forever and\\n * consume memory.\\n *\\n * Stored object indeces are simply the numbers, which are however\\n * released along with the objects, and are later reused again (in\\n * order to postpone the overflow, which should not likely happen,\\n * but anyway).\\n */\\n\\nclass ReferenceStore {\\n  constructor() {\\n    this._store = {}; // stored object\\n\\n    this._indices = [0]; // smallest available indices\\n\\n    this._readyHandler = function () {};\\n\\n    this._busyHandler = function () {};\\n\\n    this._readyHandler();\\n  }\\n  /**\\n   * call handler when the store is empty\\n   *\\n   * @param {FUNCTION} id of a handler\\n   */\\n\\n\\n  onReady(readyHandler) {\\n    this._readyHandler = readyHandler || function () {};\\n  }\\n  /**\\n   * call handler when the store is not empty\\n   *\\n   * @param {FUNCTION} id of a handler\\n   */\\n\\n\\n  onBusy(busyHandler) {\\n    this._busyHandler = busyHandler || function () {};\\n  }\\n  /**\\n   * get the length of the store\\n   *\\n   */\\n\\n\\n  getStack() {\\n    return Object.keys(this._store).length;\\n  }\\n  /**\\n   * @function _genId() generates the new reference id\\n   *\\n   * @returns {Number} smallest available id and reserves it\\n   */\\n\\n\\n  _genId() {\\n    let id;\\n\\n    if (this._indices.length === 1) {\\n      id = this._indices[0]++;\\n    } else {\\n      id = this._indices.shift();\\n    }\\n\\n    return id;\\n  }\\n  /**\\n   * Releases the given reference id so that it will be available by\\n   * another object stored\\n   *\\n   * @param {Number} id to release\\n   */\\n\\n\\n  _releaseId(id) {\\n    for (let i = 0; i < this._indices.length; i++) {\\n      if (id < this._indices[i]) {\\n        this._indices.splice(i, 0, id);\\n\\n        break;\\n      }\\n    } // cleaning-up the sequence tail\\n\\n\\n    for (let i = this._indices.length - 1; i >= 0; i--) {\\n      if (this._indices[i] - 1 === this._indices[i - 1]) {\\n        this._indices.pop();\\n      } else {\\n        break;\\n      }\\n    }\\n  }\\n  /**\\n   * Stores the given object and returns the refernce id instead\\n   *\\n   * @param {Object} obj to store\\n   *\\n   * @returns {Number} reference id of the stored object\\n   */\\n\\n\\n  put(obj) {\\n    if (this._busyHandler && Object.keys(this._store).length === 0) {\\n      this._busyHandler();\\n    }\\n\\n    const id = this._genId();\\n\\n    this._store[id] = obj;\\n    return id;\\n  }\\n  /**\\n   * Retrieves previously stored object and releases its reference\\n   *\\n   * @param {Number} id of an object to retrieve\\n   */\\n\\n\\n  fetch(id) {\\n    const obj = this._store[id];\\n\\n    if (obj && !obj.__remote_method) {\\n      delete this._store[id];\\n\\n      this._releaseId(id);\\n\\n      if (this._readyHandler && Object.keys(this._store).length === 0) {\\n        this._readyHandler();\\n      }\\n    }\\n\\n    if (obj && obj.__promise_pair) {\\n      this.fetch(obj.__promise_pair);\\n    }\\n\\n    return obj;\\n  }\\n\\n}\\n\\n/***/ }),\\n\\n/***/ \\\"./src/utils.js\\\":\\n/*!**********************!*\\\\\\n  !*** ./src/utils.js ***!\\n  \\\\**********************/\\n/*! exports provided: randId, dtypeToTypedArray, normalizeConfig, typedArrayToDtypeMapping, typedArrayToDtype, cacheRequirements, setupServiceWorker, urlJoin, MessageEmitter */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\n__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"randId\\\", function() { return randId; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"dtypeToTypedArray\\\", function() { return dtypeToTypedArray; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"normalizeConfig\\\", function() { return normalizeConfig; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"typedArrayToDtypeMapping\\\", function() { return typedArrayToDtypeMapping; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"typedArrayToDtype\\\", function() { return typedArrayToDtype; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"cacheRequirements\\\", function() { return cacheRequirements; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"setupServiceWorker\\\", function() { return setupServiceWorker; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"urlJoin\\\", function() { return urlJoin; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"MessageEmitter\\\", function() { return MessageEmitter; });\\nfunction randId() {\\n  return Math.random().toString(36).substr(2, 10) + new Date().getTime();\\n}\\nconst dtypeToTypedArray = {\\n  int8: Int8Array,\\n  int16: Int16Array,\\n  int32: Int32Array,\\n  uint8: Uint8Array,\\n  uint16: Uint16Array,\\n  uint32: Uint32Array,\\n  float32: Float32Array,\\n  float64: Float64Array,\\n  array: Array\\n};\\nfunction normalizeConfig(config) {\\n  config.version = config.version || \\\"0.1.0\\\";\\n  config.description = config.description || `[TODO: add description for ${config.name} ]`;\\n  config.type = config.type || \\\"rpc-window\\\";\\n  config.id = config.id || randId();\\n  config.allow_execution = config.allow_execution || false;\\n\\n  if (config.enable_service_worker) {\\n    setupServiceWorker(config.base_url, config.target_origin, config.cache_requirements);\\n  }\\n\\n  if (config.cache_requirements) {\\n    delete config.cache_requirements;\\n  } // remove functions\\n\\n\\n  config = Object.keys(config).reduce((p, c) => {\\n    if (typeof config[c] !== \\\"function\\\") p[c] = config[c];\\n    return p;\\n  }, {});\\n  return config;\\n}\\nconst typedArrayToDtypeMapping = {\\n  Int8Array: \\\"int8\\\",\\n  Int16Array: \\\"int16\\\",\\n  Int32Array: \\\"int32\\\",\\n  Uint8Array: \\\"uint8\\\",\\n  Uint16Array: \\\"uint16\\\",\\n  Uint32Array: \\\"uint32\\\",\\n  Float32Array: \\\"float32\\\",\\n  Float64Array: \\\"float64\\\",\\n  Array: \\\"array\\\"\\n};\\nconst typedArrayToDtypeKeys = [];\\n\\nfor (const arrType of Object.keys(typedArrayToDtypeMapping)) {\\n  typedArrayToDtypeKeys.push(eval(arrType));\\n}\\n\\nfunction typedArrayToDtype(obj) {\\n  let dtype = typedArrayToDtypeMapping[obj.constructor.name];\\n\\n  if (!dtype) {\\n    const pt = Object.getPrototypeOf(obj);\\n\\n    for (const arrType of typedArrayToDtypeKeys) {\\n      if (pt instanceof arrType) {\\n        dtype = typedArrayToDtypeMapping[arrType.name];\\n        break;\\n      }\\n    }\\n  }\\n\\n  return dtype;\\n}\\n\\nfunction cacheUrlInServiceWorker(url) {\\n  return new Promise(function (resolve, reject) {\\n    const message = {\\n      command: \\\"add\\\",\\n      url: url\\n    };\\n\\n    if (!navigator.serviceWorker || !navigator.serviceWorker.register) {\\n      reject(\\\"Service worker is not supported.\\\");\\n      return;\\n    }\\n\\n    const messageChannel = new MessageChannel();\\n\\n    messageChannel.port1.onmessage = function (event) {\\n      if (event.data && event.data.error) {\\n        reject(event.data.error);\\n      } else {\\n        resolve(event.data && event.data.result);\\n      }\\n    };\\n\\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\\n      navigator.serviceWorker.controller.postMessage(message, [messageChannel.port2]);\\n    } else {\\n      reject(\\\"Service worker controller is not available\\\");\\n    }\\n  });\\n}\\n\\nasync function cacheRequirements(requirements) {\\n  if (!Array.isArray(requirements)) {\\n    requirementsm.code.requirements = [requirements];\\n  }\\n\\n  if (requirements && requirements.length > 0) {\\n    for (let req of requirements) {\\n      //remove prefix\\n      if (req.startsWith(\\\"js:\\\")) req = req.slice(3);\\n      if (req.startsWith(\\\"css:\\\")) req = req.slice(4);\\n      if (req.startsWith(\\\"cache:\\\")) req = req.slice(6);\\n      if (!req.startsWith(\\\"http\\\")) continue;\\n      await cacheUrlInServiceWorker(req).catch(e => {\\n        console.error(e);\\n      });\\n    }\\n  }\\n}\\nfunction setupServiceWorker(baseUrl, targetOrigin, cacheCallback) {\\n  // register service worker for offline access\\n  if (\\\"serviceWorker\\\" in navigator) {\\n    baseUrl = baseUrl || \\\"/\\\";\\n    navigator.serviceWorker.register(baseUrl + \\\"plugin-service-worker.js\\\").then(function (registration) {\\n      // Registration was successful\\n      console.log(\\\"ServiceWorker registration successful with scope: \\\", registration.scope);\\n    }, function (err) {\\n      // registration failed :(\\n      console.log(\\\"ServiceWorker registration failed: \\\", err);\\n    });\\n    targetOrigin = targetOrigin || \\\"*\\\";\\n    cacheCallback = cacheCallback || cacheRequirements;\\n\\n    if (cacheCallback && typeof cacheCallback !== \\\"function\\\") {\\n      throw new Error(\\\"config.cache_requirements must be a function\\\");\\n    }\\n\\n    window.addEventListener(\\\"message\\\", function (e) {\\n      if (targetOrigin === \\\"*\\\" || e.origin === targetOrigin) {\\n        const m = e.data;\\n\\n        if (m.type === \\\"cacheRequirements\\\") {\\n          cacheCallback(m.requirements);\\n        }\\n      }\\n    });\\n  }\\n} //#Source https://bit.ly/2neWfJ2\\n\\nfunction urlJoin(...args) {\\n  return args.join(\\\"/\\\").replace(/[\\\\/]+/g, \\\"/\\\").replace(/^(.+):\\\\//, \\\"$1://\\\").replace(/^file:/, \\\"file:/\\\").replace(/\\\\/(\\\\?|&|#[^!])/g, \\\"$1\\\").replace(/\\\\?/g, \\\"&\\\").replace(\\\"&\\\", \\\"?\\\");\\n}\\nclass MessageEmitter {\\n  constructor(debug) {\\n    this._event_handlers = {};\\n    this._once_handlers = {};\\n    this._debug = debug;\\n  }\\n\\n  emit() {\\n    throw new Error(\\\"emit is not implemented\\\");\\n  }\\n\\n  on(event, handler) {\\n    if (!this._event_handlers[event]) {\\n      this._event_handlers[event] = [];\\n    }\\n\\n    this._event_handlers[event].push(handler);\\n  }\\n\\n  once(event, handler) {\\n    handler.___event_run_once = true;\\n    this.on(event, handler);\\n  }\\n\\n  off(event, handler) {\\n    if (!event && !handler) {\\n      // remove all events handlers\\n      this._event_handlers = {};\\n    } else if (event && !handler) {\\n      // remove all hanlders for the event\\n      if (this._event_handlers[event]) this._event_handlers[event] = [];\\n    } else {\\n      // remove a specific handler\\n      if (this._event_handlers[event]) {\\n        const idx = this._event_handlers[event].indexOf(handler);\\n\\n        if (idx >= 0) {\\n          this._event_handlers[event].splice(idx, 1);\\n        }\\n      }\\n    }\\n  }\\n\\n  _fire(event, data) {\\n    if (this._event_handlers[event]) {\\n      var i = this._event_handlers[event].length;\\n\\n      while (i--) {\\n        const handler = this._event_handlers[event][i];\\n\\n        try {\\n          handler(data);\\n        } catch (e) {\\n          console.error(e);\\n        } finally {\\n          if (handler.___event_run_once) {\\n            this._event_handlers[event].splice(i, 1);\\n          }\\n        }\\n      }\\n    } else {\\n      if (this._debug) {\\n        console.warn(\\\"unhandled event\\\", event, data);\\n      }\\n    }\\n  }\\n\\n}\\n\\n/***/ })\\n\\n/******/ });\\n//# sourceMappingURL=plugin.webworker.js.map\", null);\n};\n\n/***/ }),\n\n/***/ \"./src/pluginCore.js\":\n/*!***************************!*\\\n  !*** ./src/pluginCore.js ***!\n  \\***************************/\n/*! exports provided: connectRPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"connectRPC\", function() { return connectRPC; });\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rpc.js */ \"./src/rpc.js\");\n/**\n * Core plugin script loaded into the plugin process/thread.\n *\n * Initializes the plugin-site API global methods.\n */\n\nfunction connectRPC(connection, config) {\n  config = config || {};\n  const codecs = {};\n  const rpc = new _rpc_js__WEBPACK_IMPORTED_MODULE_0__[\"RPC\"](connection, config, codecs);\n  rpc.on(\"getInterface\", function () {\n    launchConnected();\n  });\n  rpc.on(\"remoteReady\", function () {\n    const api = rpc.getRemote() || {};\n\n    api.registerCodec = function (config) {\n      if (!config[\"name\"] || !config[\"encoder\"] && !config[\"decoder\"]) {\n        throw new Error(\"Invalid codec format, please make sure you provide a name, type, encoder and decoder.\");\n      } else {\n        if (config.type) {\n          for (let k of Object.keys(codecs)) {\n            if (codecs[k].type === config.type || k === config.name) {\n              delete codecs[k];\n              console.warn(\"Remove duplicated codec: \" + k);\n            }\n          }\n        }\n\n        codecs[config[\"name\"]] = config;\n      }\n    };\n\n    api.init = function (config) {\n      // register a minimal plugin api\n      rpc.setInterface({\n        setup() {}\n\n      }, config);\n    };\n\n    api.disposeObject = function (obj) {\n      rpc.disposeObject(obj);\n    };\n\n    api.export = function (_interface, config) {\n      rpc.setInterface(_interface, config);\n    };\n\n    api.onLoad = function (handler) {\n      handler = checkHandler(handler);\n\n      if (connected) {\n        handler();\n      } else {\n        connectedHandlers.push(handler);\n      }\n    };\n\n    api.dispose = function (_interface) {\n      rpc.disconnect();\n    };\n\n    if (typeof WorkerGlobalScope !== \"undefined\" && self instanceof WorkerGlobalScope) {\n      self.api = api;\n      self.postMessage({\n        type: \"imjoy_remote_api_ready\"\n      });\n    } else if (typeof window) {\n      window.dispatchEvent(new CustomEvent(\"imjoy_remote_api_ready\", {\n        detail: api\n      }));\n    }\n  });\n  let connected = false;\n  const connectedHandlers = [];\n\n  const launchConnected = function () {\n    if (!connected) {\n      connected = true;\n      let handler;\n\n      while (handler = connectedHandlers.pop()) {\n        handler();\n      }\n    }\n  };\n\n  const checkHandler = function (handler) {\n    const type = typeof handler;\n\n    if (type !== \"function\") {\n      const msg = \"A function may only be subsribed to the event, \" + type + \" was provided instead\";\n      throw new Error(msg);\n    }\n\n    return handler;\n  };\n\n  return rpc;\n}\n\n/***/ }),\n\n/***/ \"./src/pluginIframe.js\":\n/*!*****************************!*\\\n  !*** ./src/pluginIframe.js ***!\n  \\*****************************/\n/*! exports provided: Connection, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Connection\", function() { return Connection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setupIframe; });\n/* harmony import */ var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pluginCore.js */ \"./src/pluginCore.js\");\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rpc.js */ \"./src/rpc.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n/**\n * Contains the routines loaded by the plugin iframe under web-browser\n * in case when worker failed to initialize\n *\n * Initializes the web environment version of the platform-dependent\n * connection object for the plugin site\n */\n\n\n // Create a new, plain <span> element\n\nfunction _htmlToElement(html) {\n  var template = document.createElement(\"template\");\n  html = html.trim(); // Never return a text node of whitespace as the result\n\n  template.innerHTML = html;\n  return template.content.firstChild;\n}\n\nvar _importScript = function (url) {\n  //url is URL of external file, implementationCode is the code\n  //to be called from the file, location is the location to\n  //insert the <script> element\n  return new Promise((resolve, reject) => {\n    var scriptTag = document.createElement(\"script\");\n    scriptTag.src = url;\n    scriptTag.type = \"text/javascript\";\n    scriptTag.onload = resolve;\n\n    scriptTag.onreadystatechange = function () {\n      if (this.readyState === \"loaded\" || this.readyState === \"complete\") {\n        resolve();\n      }\n    };\n\n    scriptTag.onerror = reject;\n    document.head.appendChild(scriptTag);\n  });\n}; // support importScripts outside web worker\n\n\nasync function importScripts() {\n  var args = Array.prototype.slice.call(arguments),\n      len = args.length,\n      i = 0;\n\n  for (; i < len; i++) {\n    await _importScript(args[i]);\n  }\n}\n\nclass Connection extends _utils_js__WEBPACK_IMPORTED_MODULE_2__[\"MessageEmitter\"] {\n  constructor(config) {\n    super(config && config.debug);\n    this.config = config || {};\n    this.peer_id = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"randId\"])();\n  }\n\n  connect() {\n    this.config.target_origin = this.config.target_origin || \"*\"; // this will call handleEvent function\n\n    window.addEventListener(\"message\", this);\n    this.emit({\n      type: \"initialized\",\n      config: this.config,\n      origin: window.location.origin,\n      peer_id: this.peer_id\n    });\n\n    this._fire(\"connected\");\n  }\n\n  handleEvent(e) {\n    if (e.type === \"message\" && (this.config.target_origin === \"*\" || e.origin === this.config.target_origin)) {\n      if (e.data.peer_id === this.peer_id) {\n        this._fire(e.data.type, e.data);\n      } else if (this.config.debug) {\n        console.log(`connection peer id mismatch ${e.data.peer_id} !== ${this.peer_id}`);\n      }\n    }\n  }\n\n  disconnect() {\n    this._fire(\"beforeDisconnect\");\n\n    window.removeEventListener(\"message\", this);\n\n    this._fire(\"disconnected\");\n  }\n\n  emit(data) {\n    let transferables;\n\n    if (data.__transferables__) {\n      transferables = data.__transferables__;\n      delete data.__transferables__;\n    }\n\n    parent.postMessage(data, this.config.target_origin, transferables);\n  }\n\n  async execute(code) {\n    try {\n      if (code.type === \"requirements\") {\n        if (code.requirements && (Array.isArray(code.requirements) || typeof code.requirements === \"string\")) {\n          try {\n            var link_node;\n            code.requirements = typeof code.requirements === \"string\" ? [code.requirements] : code.requirements;\n\n            if (Array.isArray(code.requirements)) {\n              for (var i = 0; i < code.requirements.length; i++) {\n                if (code.requirements[i].toLowerCase().endsWith(\".css\") || code.requirements[i].startsWith(\"css:\")) {\n                  if (code.requirements[i].startsWith(\"css:\")) {\n                    code.requirements[i] = code.requirements[i].slice(4);\n                  }\n\n                  link_node = document.createElement(\"link\");\n                  link_node.rel = \"stylesheet\";\n                  link_node.href = code.requirements[i];\n                  document.head.appendChild(link_node);\n                } else if (code.requirements[i].toLowerCase().endsWith(\".js\") || code.requirements[i].startsWith(\"js:\")) {\n                  if (code.requirements[i].startsWith(\"js:\")) {\n                    code.requirements[i] = code.requirements[i].slice(3);\n                  }\n\n                  await importScripts(code.requirements[i]);\n                } else if (code.requirements[i].startsWith(\"http\")) {\n                  await importScripts(code.requirements[i]);\n                } else if (code.requirements[i].startsWith(\"cache:\")) {//ignore cache\n                } else {\n                  console.log(\"Unprocessed requirements url: \" + code.requirements[i]);\n                }\n              }\n            } else {\n              throw \"unsupported requirements definition\";\n            }\n          } catch (e) {\n            throw \"failed to import required scripts: \" + code.requirements.toString();\n          }\n        }\n      } else if (code.type === \"script\") {\n        if (code.src) {\n          var script_node = document.createElement(\"script\");\n          script_node.setAttribute(\"type\", code.attrs.type);\n          script_node.setAttribute(\"src\", code.src);\n          document.head.appendChild(script_node);\n        } else {\n          if (code.content && (!code.attrs.type || code.attrs.type === \"text/javascript\")) {\n            // document.addEventListener(\"DOMContentLoaded\", function(){\n            eval(code.content); // });\n          } else {\n            var node = document.createElement(\"script\");\n            node.setAttribute(\"type\", code.attrs.type);\n            node.appendChild(document.createTextNode(code.content));\n            document.body.appendChild(node);\n          }\n        }\n      } else if (code.type === \"style\") {\n        const style_node = document.createElement(\"style\");\n\n        if (code.src) {\n          style_node.src = code.src;\n        }\n\n        style_node.innerHTML = code.content;\n        document.head.appendChild(style_node);\n      } else if (code.type === \"link\") {\n        const link_node_ = document.createElement(\"link\");\n\n        if (code.rel) {\n          link_node_.rel = code.rel;\n        }\n\n        if (code.href) {\n          link_node_.href = code.href;\n        }\n\n        if (code.attrs && code.attrs.type) {\n          link_node_.type = code.attrs.type;\n        }\n\n        document.head.appendChild(link_node_);\n      } else if (code.type === \"html\") {\n        document.body.appendChild(_htmlToElement(code.content));\n      } else {\n        throw \"unsupported code type.\";\n      }\n\n      parent.postMessage({\n        type: \"executed\"\n      }, this.config.target_origin);\n    } catch (e) {\n      console.error(\"failed to execute scripts: \", code, e);\n      parent.postMessage({\n        type: \"executed\",\n        error: e.stack || String(e)\n      }, this.config.target_origin);\n    }\n  }\n\n}\nfunction setupIframe(config) {\n  config = config || {};\n  config.dedicated_thread = false;\n  config.lang = \"javascript\";\n  config.api_version = _rpc_js__WEBPACK_IMPORTED_MODULE_1__[\"API_VERSION\"];\n  const conn = new Connection(config);\n  Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__[\"connectRPC\"])(conn, config);\n  conn.connect();\n}\n\n/***/ }),\n\n/***/ \"./src/rpc.js\":\n/*!********************!*\\\n  !*** ./src/rpc.js ***!\n  \\********************/\n/*! exports provided: API_VERSION, RPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"API_VERSION\", function() { return API_VERSION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RPC\", function() { return RPC; });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n/**\n * Contains the RPC object used both by the application\n * site, and by each plugin\n */\n\nconst API_VERSION = \"0.2.3\";\nconst ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor;\n\nfunction _appendBuffer(buffer1, buffer2) {\n  const tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n}\n\nfunction indexObject(obj, is) {\n  if (!is) throw new Error(\"undefined index\");\n  if (typeof is === \"string\") return indexObject(obj, is.split(\".\"));else if (is.length === 0) return obj;else return indexObject(obj[is[0]], is.slice(1));\n}\n/**\n * RPC object represents a single site in the\n * communication protocol between the application and the plugin\n *\n * @param {Object} connection a special object allowing to send\n * and receive messages from the opposite site (basically it\n * should only provide send() and onMessage() methods)\n */\n\n\nclass RPC extends _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"MessageEmitter\"] {\n  constructor(connection, config, codecs) {\n    super(config && config.debug);\n    this._connection = connection;\n    this.config = config || {};\n    this._codecs = codecs || {};\n    this._object_store = {};\n    this._method_weakmap = new WeakMap();\n    this._object_weakmap = new WeakMap();\n    this._local_api = null; // make sure there is an execute function\n\n    const name = this.config.name;\n\n    this._connection.execute = this._connection.execute || function () {\n      throw new Error(`connection.execute not implemented (in \"${name}\")`);\n    };\n\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n\n    this._method_refs.onReady(() => {\n      this._fire(\"remoteIdle\");\n    });\n\n    this._method_refs.onBusy(() => {\n      this._fire(\"remoteBusy\");\n    });\n\n    this._setupMessageHanlders();\n  }\n\n  init() {\n    this._connection.emit({\n      type: \"initialized\",\n      config: this.config,\n      peer_id: this._connection.peer_id\n    });\n  }\n\n  setConfig(config) {\n    if (config) for (const k of Object.keys(config)) {\n      this.config[k] = config[k];\n    }\n  }\n  /**\n   * Set a handler to be called when received a responce from the\n   * remote site reporting that the previously provided interface\n   * has been successfully set as remote for that site\n   *\n   * @param {Function} handler\n   */\n\n\n  getRemoteCallStack() {\n    return this._method_refs.getStack();\n  }\n  /**\n   * @returns {Object} set of remote interface methods\n   */\n\n\n  getRemote() {\n    return this._remote_interface;\n  }\n  /**\n   * Sets the interface of this site making it available to the\n   * remote site by sending a message with a set of methods names\n   *\n   * @param {Object} _interface to set\n   */\n\n\n  setInterface(_interface, config) {\n    config = config || {};\n    this.config.name = config.name || this.config.name;\n    this.config.description = config.description || this.config.description;\n\n    if (this.config.forwarding_functions) {\n      for (let func_name of this.config.forwarding_functions) {\n        const _remote = this._remote_interface;\n\n        if (_remote[func_name]) {\n          if (_interface.constructor === Object) {\n            if (!_interface[func_name]) {\n              _interface[func_name] = (...args) => {\n                _remote[func_name](...args);\n              };\n            }\n          } else if (_interface.constructor.constructor === Function) {\n            if (!_interface.constructor.prototype[func_name]) {\n              _interface.constructor.prototype[func_name] = (...args) => {\n                _remote[func_name](...args);\n              };\n            }\n          }\n        }\n      }\n    }\n\n    this._local_api = _interface;\n\n    this._fire(\"interfaceAvailable\");\n  }\n  /**\n   * Sends the actual interface to the remote site upon it was\n   * updated or by a special request of the remote site\n   */\n\n\n  sendInterface() {\n    if (!this._local_api) {\n      throw new Error(\"interface is not set.\");\n    }\n\n    this._encode(this._local_api, true).then(api => {\n      this._connection.emit({\n        type: \"setInterface\",\n        api: api\n      });\n    });\n  }\n\n  _disposeObject(objectId) {\n    if (this._object_store[objectId]) {\n      delete this._object_store[objectId];\n    } else {\n      throw new Error(`Object (id=${objectId}) not found.`);\n    }\n  }\n\n  disposeObject(obj) {\n    return new Promise((resolve, reject) => {\n      if (this._object_weakmap.has(obj)) {\n        const objectId = this._object_weakmap.get(obj);\n\n        this._connection.once(\"disposed\", data => {\n          if (data.error) reject(new Error(data.error));else resolve();\n        });\n\n        this._connection.emit({\n          type: \"disposeObject\",\n          object_id: objectId\n        });\n      } else {\n        throw new Error(\"Invalid object\");\n      }\n    });\n  }\n  /**\n   * Handles a message from the remote site\n   */\n\n\n  _setupMessageHanlders() {\n    this._connection.on(\"init\", this.init);\n\n    this._connection.on(\"execute\", data => {\n      Promise.resolve(this._connection.execute(data.code)).then(() => {\n        this._connection.emit({\n          type: \"executed\"\n        });\n      }).catch(e => {\n        console.error(e);\n\n        this._connection.emit({\n          type: \"executed\",\n          error: String(e)\n        });\n      });\n    });\n\n    this._connection.on(\"method\", async data => {\n      let resolve, reject, method, method_this, args, result;\n\n      try {\n        if (data.promise) {\n          [resolve, reject] = await this._unwrap(data.promise, false);\n        }\n\n        const _interface = this._object_store[data.object_id];\n        method = indexObject(_interface, data.name);\n\n        if (data.name.includes(\".\")) {\n          const tmp = data.name.split(\".\");\n          const intf_index = tmp.slice(0, tmp.length - 1).join(\".\");\n          method_this = indexObject(_interface, intf_index);\n        } else {\n          method_this = _interface;\n        }\n\n        args = await this._unwrap(data.args, true);\n\n        if (data.promise) {\n          result = method.apply(method_this, args);\n\n          if (result instanceof Promise || method.constructor && method.constructor.name === \"AsyncFunction\") {\n            result.then(resolve).catch(reject);\n          } else {\n            resolve(result);\n          }\n        } else {\n          method.apply(method_this, args);\n        }\n      } catch (err) {\n        console.error(this.config.name, err);\n\n        if (reject) {\n          reject(err);\n        }\n      }\n    });\n\n    this._connection.on(\"callback\", async data => {\n      let resolve, reject, method, args, result;\n\n      try {\n        if (data.promise) {\n          [resolve, reject] = await this._unwrap(data.promise, false);\n        }\n\n        if (data.promise) {\n          method = this._store.fetch(data.id);\n          args = await this._unwrap(data.args, true);\n\n          if (!method) {\n            throw new Error(\"Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\");\n          }\n\n          result = method.apply(null, args);\n\n          if (result instanceof Promise || method.constructor && method.constructor.name === \"AsyncFunction\") {\n            result.then(resolve).catch(reject);\n          } else {\n            resolve(result);\n          }\n        } else {\n          method = this._store.fetch(data.id);\n          args = await this._unwrap(data.args, true);\n\n          if (!method) {\n            throw new Error(\"Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\");\n          }\n\n          method.apply(null, args);\n        }\n      } catch (err) {\n        console.error(this.config.name, err);\n\n        if (reject) {\n          reject(err);\n        }\n      }\n    });\n\n    this._connection.on(\"disposeObject\", data => {\n      try {\n        this._disposeObject(data.object_id);\n\n        this._connection.emit({\n          type: \"disposed\"\n        });\n      } catch (e) {\n        console.error(e);\n\n        this._connection.emit({\n          type: \"disposed\",\n          error: String(e)\n        });\n      }\n    });\n\n    this._connection.on(\"setInterface\", data => {\n      this._setRemoteInterface(data.api);\n    });\n\n    this._connection.on(\"getInterface\", () => {\n      this._fire(\"getInterface\");\n\n      if (this._local_api) {\n        this.sendInterface();\n      } else {\n        this.once(\"interfaceAvailable\", () => {\n          this.sendInterface();\n        });\n      }\n    });\n\n    this._connection.on(\"interfaceSetAsRemote\", () => {\n      this._fire(\"interfaceSetAsRemote\");\n    });\n\n    this._connection.on(\"disconnect\", () => {\n      this._fire(\"beforeDisconnect\");\n\n      this._connection.disconnect();\n\n      this._fire(\"disconnected\");\n    });\n  }\n  /**\n   * Sends a requests to the remote site asking it to provide its\n   * current interface\n   */\n\n\n  requestRemote() {\n    this._connection.emit({\n      type: \"getInterface\"\n    });\n  }\n\n  _ndarray(typedArray, shape, dtype) {\n    const _dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"typedArrayToDtype\"])(typedArray);\n\n    if (dtype && dtype !== _dtype) {\n      throw \"dtype doesn't match the type of the array: \" + _dtype + \" != \" + dtype;\n    }\n\n    shape = shape || [typedArray.length];\n    return {\n      _rtype: \"ndarray\",\n      _rvalue: typedArray.buffer,\n      _rshape: shape,\n      _rdtype: _dtype\n    };\n  }\n  /**\n   * Sets the new remote interface provided by the other site\n   *\n   * @param {Array} names list of function names\n   */\n\n\n  _setRemoteInterface(api) {\n    this._decode(api).then(intf => {\n      // update existing interface instead of recreating it\n      if (this._remote_interface) {\n        Object.assign(this._remote_interface, intf);\n      } else this._remote_interface = intf;\n\n      this._fire(\"remoteReady\");\n\n      this._reportRemoteSet();\n    });\n  }\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * method. When the generated function is called, it will send the\n   * corresponding message to the remote site asking it to execute\n   * the particular method of its interface\n   *\n   * @param {String} name of the remote method\n   *\n   * @returns {Function} wrapped remote method\n   */\n\n\n  _genRemoteMethod(targetId, name, objectId) {\n    const me = this;\n\n    const remoteMethod = function () {\n      return new Promise(async (resolve, reject) => {\n        let id = null;\n\n        try {\n          id = me._method_refs.put(objectId ? objectId + \"/\" + name : name);\n\n          const wrapped_resolve = function () {\n            if (id !== null) me._method_refs.fetch(id);\n            return resolve.apply(this, arguments);\n          };\n\n          const wrapped_reject = function () {\n            if (id !== null) me._method_refs.fetch(id);\n            return reject.apply(this, arguments);\n          };\n\n          const encodedPromise = await me._wrap([wrapped_resolve, wrapped_reject]); // store the key id for removing them from the reference store together\n\n          wrapped_resolve.__promise_pair = encodedPromise[1]._rvalue;\n          wrapped_reject.__promise_pair = encodedPromise[0]._rvalue;\n          let args = Array.prototype.slice.call(arguments);\n\n          if (name === \"register\" || name === \"registerService\" || name === \"export\" || name === \"on\") {\n            args = await me._wrap(args, true);\n          } else {\n            args = await me._wrap(args);\n          }\n\n          const transferables = args.__transferables__;\n          if (transferables) delete args.__transferables__;\n\n          me._connection.emit({\n            type: \"method\",\n            target_id: targetId,\n            name: name,\n            object_id: objectId,\n            args: args,\n            promise: encodedPromise\n          }, transferables);\n        } catch (e) {\n          if (id) me._method_refs.fetch(id);\n          reject(`Failed to exectue remote method (interface: ${objectId || me.id}, method: ${name}), error: ${e}`);\n        }\n      });\n    };\n\n    remoteMethod.__remote_method = true;\n    return remoteMethod;\n  }\n  /**\n   * Sends a responce reporting that interface just provided by the\n   * remote site was successfully set by this site as remote\n   */\n\n\n  _reportRemoteSet() {\n    this._connection.emit({\n      type: \"interfaceSetAsRemote\"\n    });\n  }\n  /**\n   * Prepares the provided set of remote method arguments for\n   * sending to the remote site, replaces all the callbacks with\n   * identifiers\n   *\n   * @param {Array} args to wrap\n   *\n   * @returns {Array} wrapped arguments\n   */\n\n\n  async _encode(aObject, asInterface, objectId) {\n    const aType = typeof aObject;\n\n    if (aType === \"number\" || aType === \"string\" || aType === \"boolean\" || aObject === null || aObject === undefined || aObject instanceof ArrayBuffer) {\n      return aObject;\n    }\n\n    let bObject;\n\n    if (typeof aObject === \"function\") {\n      if (asInterface) {\n        if (!objectId) throw new Error(\"objectId is not specified.\");\n        bObject = {\n          _rtype: \"interface\",\n          _rtarget_id: this._connection.peer_id,\n          _rintf: objectId,\n          _rvalue: asInterface\n        };\n\n        this._method_weakmap.set(aObject, bObject);\n      } else if (this._method_weakmap.has(aObject)) {\n        bObject = this._method_weakmap.get(aObject);\n      } else {\n        const cid = this._store.put(aObject);\n\n        bObject = {\n          _rtype: \"callback\",\n          _rtarget_id: this._connection.peer_id,\n          _rname: aObject.constructor && aObject.constructor.name || cid,\n          _rvalue: cid\n        };\n      }\n\n      return bObject;\n    } // skip if already encoded\n\n\n    if (aObject.constructor instanceof Object && aObject._rtype) {\n      // make sure the interface functions are encoded\n      if (aObject._rintf) {\n        const temp = aObject._rtype;\n        delete aObject._rtype;\n        bObject = await this._encode(aObject, asInterface, objectId);\n        bObject._rtype = temp;\n      } else {\n        bObject = aObject;\n      }\n\n      return bObject;\n    }\n\n    const transferables = [];\n    const _transfer = aObject._transfer;\n    const isarray = Array.isArray(aObject);\n\n    for (let tp of Object.keys(this._codecs)) {\n      const codec = this._codecs[tp];\n\n      if (codec.encoder && aObject instanceof codec.type) {\n        // TODO: what if multiple encoders found\n        let encodedObj = await Promise.resolve(codec.encoder(aObject));\n        if (encodedObj && !encodedObj._rtype) encodedObj._rtype = codec.name; // encode the functions in the interface object\n\n        if (encodedObj && encodedObj._rintf) {\n          const temp = encodedObj._rtype;\n          delete encodedObj._rtype;\n          encodedObj = await this._encode(encodedObj, asInterface, objectId);\n          encodedObj._rtype = temp;\n        }\n\n        bObject = encodedObj;\n        return bObject;\n      }\n    }\n\n    if (\n    /*global tf*/\n    typeof tf !== \"undefined\" && tf.Tensor && aObject instanceof tf.Tensor) {\n      const v_buffer = aObject.dataSync();\n\n      if (aObject._transfer || _transfer) {\n        transferables.push(v_buffer.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: \"ndarray\",\n        _rvalue: v_buffer.buffer,\n        _rshape: aObject.shape,\n        _rdtype: aObject.dtype\n      };\n    } else if (\n    /*global nj*/\n    typeof nj !== \"undefined\" && nj.NdArray && aObject instanceof nj.NdArray) {\n      const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"typedArrayToDtype\"])(aObject.selection.data);\n\n      if (aObject._transfer || _transfer) {\n        transferables.push(aObject.selection.data.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: \"ndarray\",\n        _rvalue: aObject.selection.data.buffer,\n        _rshape: aObject.shape,\n        _rdtype: dtype\n      };\n    } else if (aObject instanceof Error) {\n      console.error(aObject);\n      bObject = {\n        _rtype: \"error\",\n        _rvalue: aObject.toString()\n      };\n    } else if (typeof File !== \"undefined\" && aObject instanceof File) {\n      bObject = {\n        _rtype: \"file\",\n        _rvalue: aObject,\n        _rpath: aObject._path || aObject.webkitRelativePath\n      };\n    } // send objects supported by structure clone algorithm\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n    else if (aObject !== Object(aObject) || aObject instanceof Boolean || aObject instanceof String || aObject instanceof Date || aObject instanceof RegExp || aObject instanceof ImageData || typeof FileList !== \"undefined\" && aObject instanceof FileList || typeof FileSystemDirectoryHandle !== \"undefined\" && aObject instanceof FileSystemDirectoryHandle || typeof FileSystemFileHandle !== \"undefined\" && aObject instanceof FileSystemFileHandle || typeof FileSystemHandle !== \"undefined\" && aObject instanceof FileSystemHandle || typeof FileSystemWritableFileStream !== \"undefined\" && aObject instanceof FileSystemWritableFileStream) {\n        bObject = aObject; // TODO: avoid object such as DynamicPlugin instance.\n      } else if (typeof File !== \"undefined\" && aObject instanceof File) {\n        bObject = {\n          _rtype: \"file\",\n          _rname: aObject.name,\n          _rmime: aObject.type,\n          _rvalue: aObject,\n          _rpath: aObject._path || aObject.webkitRelativePath\n        };\n      } else if (aObject instanceof Blob) {\n        bObject = {\n          _rtype: \"blob\",\n          _rvalue: aObject\n        };\n      } else if (aObject instanceof ArrayBufferView) {\n        if (aObject._transfer || _transfer) {\n          transferables.push(aObject.buffer);\n          delete aObject._transfer;\n        }\n\n        const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"typedArrayToDtype\"])(aObject);\n        bObject = {\n          _rtype: \"typedarray\",\n          _rvalue: aObject.buffer,\n          _rdtype: dtype\n        };\n      } else if (aObject instanceof DataView) {\n        if (aObject._transfer || _transfer) {\n          transferables.push(aObject.buffer);\n          delete aObject._transfer;\n        }\n\n        bObject = {\n          _rtype: \"memoryview\",\n          _rvalue: aObject.buffer\n        };\n      } else if (aObject instanceof Set) {\n        bObject = {\n          _rtype: \"set\",\n          _rvalue: await this._encode(Array.from(aObject), asInterface)\n        };\n      } else if (aObject instanceof Map) {\n        bObject = {\n          _rtype: \"orderedmap\",\n          _rvalue: await this._encode(Array.from(aObject), asInterface)\n        };\n      } else if (aObject.constructor instanceof Object || Array.isArray(aObject)) {\n        bObject = isarray ? [] : {};\n        let keys; // an object/array\n\n        if (aObject.constructor === Object || Array.isArray(aObject)) {\n          keys = Object.keys(aObject);\n        } // a class\n        else if (aObject.constructor === Function) {\n            throw new Error(\"Please instantiate the class before exportting it.\");\n          } // instance of a class\n          else if (aObject.constructor.constructor === Function) {\n              keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject)); // TODO: use a proxy object to represent the actual object\n              // always encode class instance as interface\n\n              asInterface = true;\n            } else {\n              throw Error(\"Unsupported interface type\");\n            }\n\n        let hasFunction = false; // encode interfaces\n\n        if (aObject._rintf || asInterface) {\n          if (!objectId) {\n            objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"randId\"])();\n            this._object_store[objectId] = aObject;\n          }\n\n          for (let k of keys) {\n            if (k === \"constructor\") continue;\n\n            if (k.startsWith(\"_\")) {\n              continue;\n            }\n\n            bObject[k] = await this._encode(aObject[k], typeof asInterface === \"string\" ? asInterface + \".\" + k : k, objectId);\n\n            if (typeof aObject[k] === \"function\") {\n              hasFunction = true;\n            }\n          } // object id for dispose the object remotely\n\n\n          if (hasFunction) bObject._rintf = objectId; // remove interface when closed\n\n          if (aObject.on && typeof aObject.on === \"function\") {\n            aObject.on(\"close\", () => {\n              delete this._object_store[objectId];\n            });\n          }\n        } else {\n          for (let k of keys) {\n            if ([\"hasOwnProperty\", \"constructor\"].includes(k)) continue;\n            bObject[k] = await this._encode(aObject[k]);\n          }\n        } // for example, browserFS object\n\n      } else if (typeof aObject === \"object\") {\n        const keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject));\n        const objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"randId\"])();\n\n        for (let k of keys) {\n          if ([\"hasOwnProperty\", \"constructor\"].includes(k)) continue; // encode as interface\n\n          bObject[k] = await this._encode(aObject[k], k, bObject);\n        } // object id, used for dispose the object\n\n\n        bObject._rintf = objectId;\n      } else {\n        throw \"imjoy-rpc: Unsupported data type:\" + aObject;\n      }\n\n    if (transferables.length > 0) {\n      bObject.__transferables__ = transferables;\n    }\n\n    if (!bObject) {\n      throw new Error(\"Failed to encode object\");\n    }\n\n    return bObject;\n  }\n\n  async _decode(aObject, withPromise) {\n    if (!aObject) {\n      return aObject;\n    }\n\n    let bObject;\n\n    if (aObject[\"_rtype\"]) {\n      if (this._codecs[aObject._rtype] && this._codecs[aObject._rtype].decoder) {\n        if (aObject._rintf) {\n          const temp = aObject._rtype;\n          delete aObject._rtype;\n          aObject = await this._decode(aObject, withPromise);\n          aObject._rtype = temp;\n        }\n\n        bObject = await Promise.resolve(this._codecs[aObject._rtype].decoder(aObject));\n      } else if (aObject._rtype === \"callback\") {\n        bObject = this._genRemoteCallback(aObject._rtarget_id, aObject._rvalue, withPromise);\n      } else if (aObject._rtype === \"interface\") {\n        bObject = this._genRemoteMethod(aObject._rtarget_id, aObject._rvalue, aObject._rintf);\n      } else if (aObject._rtype === \"ndarray\") {\n        /*global nj tf*/\n        //create build array/tensor if used in the plugin\n        if (typeof nj !== \"undefined\" && nj.array) {\n          if (Array.isArray(aObject._rvalue)) {\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\n          }\n\n          bObject = nj.array(new Uint8(aObject._rvalue), aObject._rdtype).reshape(aObject._rshape);\n        } else if (typeof tf !== \"undefined\" && tf.Tensor) {\n          if (Array.isArray(aObject._rvalue)) {\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\n          }\n\n          const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"dtypeToTypedArray\"][aObject._rdtype];\n          bObject = tf.tensor(new arraytype(aObject._rvalue), aObject._rshape, aObject._rdtype);\n        } else {\n          //keep it as regular if transfered to the main app\n          bObject = aObject;\n        }\n      } else if (aObject._rtype === \"error\") {\n        bObject = new Error(aObject._rvalue);\n      } else if (aObject._rtype === \"file\") {\n        if (aObject._rvalue instanceof File) {\n          bObject = aObject._rvalue; //patch _path\n\n          bObject._path = aObject._rpath;\n        } else {\n          bObject = new File([aObject._rvalue], aObject._rname, {\n            type: aObject._rmime\n          });\n          bObject._path = aObject._rpath;\n        }\n      } else if (aObject._rtype === \"typedarray\") {\n        const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"dtypeToTypedArray\"][aObject._rdtype];\n        if (!arraytype) throw new Error(\"unsupported dtype: \" + aObject._rdtype);\n        bObject = new arraytype(aObject._rvalue);\n      } else if (aObject._rtype === \"memoryview\") {\n        bObject = new DataView(aObject._rvalue);\n      } else if (aObject._rtype === \"blob\") {\n        if (aObject._rvalue instanceof Blob) {\n          bObject = aObject._rvalue;\n        } else {\n          bObject = new Blob([aObject._rvalue], {\n            type: aObject._rmime\n          });\n        }\n      } else if (aObject._rtype === \"orderedmap\") {\n        bObject = new Map((await this._decode(aObject._rvalue, withPromise)));\n      } else if (aObject._rtype === \"set\") {\n        bObject = new Set((await this._decode(aObject._rvalue, withPromise)));\n      } else {\n        // make sure all the interface functions are decoded\n        if (aObject._rintf) {\n          const temp = aObject._rtype;\n          delete aObject._rtype;\n          bObject = await this._decode(aObject, withPromise);\n          bObject._rtype = temp;\n        } else bObject = aObject;\n      }\n    } else if (aObject.constructor === Object || Array.isArray(aObject)) {\n      const isarray = Array.isArray(aObject);\n      bObject = isarray ? [] : {};\n\n      for (let k of Object.keys(aObject)) {\n        if (isarray || aObject.hasOwnProperty(k)) {\n          const v = aObject[k];\n          bObject[k] = await this._decode(v, withPromise);\n        }\n      }\n    } else {\n      bObject = aObject;\n    }\n\n    if (bObject === undefined) {\n      throw new Error(\"Failed to decode object\");\n    } // store the object id for dispose\n\n\n    if (aObject._rintf) {\n      this._object_weakmap.set(bObject, aObject._rintf);\n    }\n\n    return bObject;\n  }\n\n  async _wrap(args, asInterface) {\n    return await this._encode(args, asInterface);\n  }\n  /**\n   * Unwraps the set of arguments delivered from the remote site,\n   * replaces all callback identifiers with a function which will\n   * initiate sending that callback identifier back to other site\n   *\n   * @param {Object} args to unwrap\n   *\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Array} unwrapped args\n   */\n\n\n  async _unwrap(args, withPromise) {\n    return await this._decode(args, withPromise);\n  }\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * callback. When the generated function is called, it will send\n   * the corresponding message to the remote site asking it to\n   * execute the particular callback previously saved during a call\n   * by the remote site a method from the interface of this site\n   *\n   * @param {Number} id of the remote callback to execute\n   * @param {Number} argNum argument index of the callback\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Function} wrapped remote callback\n   */\n\n\n  _genRemoteCallback(targetId, cid, withPromise) {\n    const me = this;\n    let remoteCallback;\n\n    if (withPromise) {\n      remoteCallback = function () {\n        return new Promise(async (resolve, reject) => {\n          const args = await me._wrap(Array.prototype.slice.call(arguments));\n          const transferables = args.__transferables__;\n          if (transferables) delete args.__transferables__;\n          const encodedPromise = await me._wrap([resolve, reject]); // store the key id for removing them from the reference store together\n\n          resolve.__promise_pair = encodedPromise[1]._rvalue;\n          reject.__promise_pair = encodedPromise[0]._rvalue;\n\n          try {\n            me._connection.emit({\n              type: \"callback\",\n              target_id: targetId,\n              id: cid,\n              args: args,\n              promise: encodedPromise\n            }, transferables);\n          } catch (e) {\n            reject(`Failed to exectue remote callback ( id: ${cid}).`);\n          }\n        });\n      };\n\n      return remoteCallback;\n    } else {\n      remoteCallback = async function () {\n        const args = await me._wrap(Array.prototype.slice.call(arguments));\n        const transferables = args.__transferables__;\n        if (transferables) delete args.__transferables__;\n        return me._connection.emit({\n          type: \"callback\",\n          target_id: targetId,\n          id: cid,\n          args: args\n        }, transferables);\n      };\n\n      return remoteCallback;\n    }\n  }\n\n  reset() {\n    this._event_handlers = {};\n    this._once_handlers = {};\n    this._remote_interface = null;\n    this._object_store = {};\n    this._method_weakmap = new WeakMap();\n    this._object_weakmap = new WeakMap();\n    this._local_api = null;\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n  }\n  /**\n   * Sends the notification message and breaks the connection\n   */\n\n\n  disconnect() {\n    this._connection.emit({\n      type: \"disconnect\"\n    });\n\n    this.reset();\n    setTimeout(() => {\n      this._connection.disconnect();\n    }, 2000);\n  }\n\n}\n/**\n * ReferenceStore is a special object which stores other objects\n * and provides the references (number) instead. This reference\n * may then be sent over a json-based communication channel (IPC\n * to another Node.js process or a message to the Worker). Other\n * site may then provide the reference in the responce message\n * implying the given object should be activated.\n *\n * Primary usage for the ReferenceStore is a storage for the\n * callbacks, which therefore makes it possible to initiate a\n * callback execution by the opposite site (which normally cannot\n * directly execute functions over the communication channel).\n *\n * Each stored object can only be fetched once and is not\n * available for the second time. Each stored object must be\n * fetched, since otherwise it will remain stored forever and\n * consume memory.\n *\n * Stored object indeces are simply the numbers, which are however\n * released along with the objects, and are later reused again (in\n * order to postpone the overflow, which should not likely happen,\n * but anyway).\n */\n\nclass ReferenceStore {\n  constructor() {\n    this._store = {}; // stored object\n\n    this._indices = [0]; // smallest available indices\n\n    this._readyHandler = function () {};\n\n    this._busyHandler = function () {};\n\n    this._readyHandler();\n  }\n  /**\n   * call handler when the store is empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n\n\n  onReady(readyHandler) {\n    this._readyHandler = readyHandler || function () {};\n  }\n  /**\n   * call handler when the store is not empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n\n\n  onBusy(busyHandler) {\n    this._busyHandler = busyHandler || function () {};\n  }\n  /**\n   * get the length of the store\n   *\n   */\n\n\n  getStack() {\n    return Object.keys(this._store).length;\n  }\n  /**\n   * @function _genId() generates the new reference id\n   *\n   * @returns {Number} smallest available id and reserves it\n   */\n\n\n  _genId() {\n    let id;\n\n    if (this._indices.length === 1) {\n      id = this._indices[0]++;\n    } else {\n      id = this._indices.shift();\n    }\n\n    return id;\n  }\n  /**\n   * Releases the given reference id so that it will be available by\n   * another object stored\n   *\n   * @param {Number} id to release\n   */\n\n\n  _releaseId(id) {\n    for (let i = 0; i < this._indices.length; i++) {\n      if (id < this._indices[i]) {\n        this._indices.splice(i, 0, id);\n\n        break;\n      }\n    } // cleaning-up the sequence tail\n\n\n    for (let i = this._indices.length - 1; i >= 0; i--) {\n      if (this._indices[i] - 1 === this._indices[i - 1]) {\n        this._indices.pop();\n      } else {\n        break;\n      }\n    }\n  }\n  /**\n   * Stores the given object and returns the refernce id instead\n   *\n   * @param {Object} obj to store\n   *\n   * @returns {Number} reference id of the stored object\n   */\n\n\n  put(obj) {\n    if (this._busyHandler && Object.keys(this._store).length === 0) {\n      this._busyHandler();\n    }\n\n    const id = this._genId();\n\n    this._store[id] = obj;\n    return id;\n  }\n  /**\n   * Retrieves previously stored object and releases its reference\n   *\n   * @param {Number} id of an object to retrieve\n   */\n\n\n  fetch(id) {\n    const obj = this._store[id];\n\n    if (obj && !obj.__remote_method) {\n      delete this._store[id];\n\n      this._releaseId(id);\n\n      if (this._readyHandler && Object.keys(this._store).length === 0) {\n        this._readyHandler();\n      }\n    }\n\n    if (obj && obj.__promise_pair) {\n      this.fetch(obj.__promise_pair);\n    }\n\n    return obj;\n  }\n\n}\n\n/***/ }),\n\n/***/ \"./src/utils.js\":\n/*!**********************!*\\\n  !*** ./src/utils.js ***!\n  \\**********************/\n/*! exports provided: randId, dtypeToTypedArray, normalizeConfig, typedArrayToDtypeMapping, typedArrayToDtype, cacheRequirements, setupServiceWorker, urlJoin, MessageEmitter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"randId\", function() { return randId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dtypeToTypedArray\", function() { return dtypeToTypedArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalizeConfig\", function() { return normalizeConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"typedArrayToDtypeMapping\", function() { return typedArrayToDtypeMapping; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"typedArrayToDtype\", function() { return typedArrayToDtype; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cacheRequirements\", function() { return cacheRequirements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupServiceWorker\", function() { return setupServiceWorker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"urlJoin\", function() { return urlJoin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MessageEmitter\", function() { return MessageEmitter; });\nfunction randId() {\n  return Math.random().toString(36).substr(2, 10) + new Date().getTime();\n}\nconst dtypeToTypedArray = {\n  int8: Int8Array,\n  int16: Int16Array,\n  int32: Int32Array,\n  uint8: Uint8Array,\n  uint16: Uint16Array,\n  uint32: Uint32Array,\n  float32: Float32Array,\n  float64: Float64Array,\n  array: Array\n};\nfunction normalizeConfig(config) {\n  config.version = config.version || \"0.1.0\";\n  config.description = config.description || `[TODO: add description for ${config.name} ]`;\n  config.type = config.type || \"rpc-window\";\n  config.id = config.id || randId();\n  config.allow_execution = config.allow_execution || false;\n\n  if (config.enable_service_worker) {\n    setupServiceWorker(config.base_url, config.target_origin, config.cache_requirements);\n  }\n\n  if (config.cache_requirements) {\n    delete config.cache_requirements;\n  } // remove functions\n\n\n  config = Object.keys(config).reduce((p, c) => {\n    if (typeof config[c] !== \"function\") p[c] = config[c];\n    return p;\n  }, {});\n  return config;\n}\nconst typedArrayToDtypeMapping = {\n  Int8Array: \"int8\",\n  Int16Array: \"int16\",\n  Int32Array: \"int32\",\n  Uint8Array: \"uint8\",\n  Uint16Array: \"uint16\",\n  Uint32Array: \"uint32\",\n  Float32Array: \"float32\",\n  Float64Array: \"float64\",\n  Array: \"array\"\n};\nconst typedArrayToDtypeKeys = [];\n\nfor (const arrType of Object.keys(typedArrayToDtypeMapping)) {\n  typedArrayToDtypeKeys.push(eval(arrType));\n}\n\nfunction typedArrayToDtype(obj) {\n  let dtype = typedArrayToDtypeMapping[obj.constructor.name];\n\n  if (!dtype) {\n    const pt = Object.getPrototypeOf(obj);\n\n    for (const arrType of typedArrayToDtypeKeys) {\n      if (pt instanceof arrType) {\n        dtype = typedArrayToDtypeMapping[arrType.name];\n        break;\n      }\n    }\n  }\n\n  return dtype;\n}\n\nfunction cacheUrlInServiceWorker(url) {\n  return new Promise(function (resolve, reject) {\n    const message = {\n      command: \"add\",\n      url: url\n    };\n\n    if (!navigator.serviceWorker || !navigator.serviceWorker.register) {\n      reject(\"Service worker is not supported.\");\n      return;\n    }\n\n    const messageChannel = new MessageChannel();\n\n    messageChannel.port1.onmessage = function (event) {\n      if (event.data && event.data.error) {\n        reject(event.data.error);\n      } else {\n        resolve(event.data && event.data.result);\n      }\n    };\n\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage(message, [messageChannel.port2]);\n    } else {\n      reject(\"Service worker controller is not available\");\n    }\n  });\n}\n\nasync function cacheRequirements(requirements) {\n  if (!Array.isArray(requirements)) {\n    requirementsm.code.requirements = [requirements];\n  }\n\n  if (requirements && requirements.length > 0) {\n    for (let req of requirements) {\n      //remove prefix\n      if (req.startsWith(\"js:\")) req = req.slice(3);\n      if (req.startsWith(\"css:\")) req = req.slice(4);\n      if (req.startsWith(\"cache:\")) req = req.slice(6);\n      if (!req.startsWith(\"http\")) continue;\n      await cacheUrlInServiceWorker(req).catch(e => {\n        console.error(e);\n      });\n    }\n  }\n}\nfunction setupServiceWorker(baseUrl, targetOrigin, cacheCallback) {\n  // register service worker for offline access\n  if (\"serviceWorker\" in navigator) {\n    baseUrl = baseUrl || \"/\";\n    navigator.serviceWorker.register(baseUrl + \"plugin-service-worker.js\").then(function (registration) {\n      // Registration was successful\n      console.log(\"ServiceWorker registration successful with scope: \", registration.scope);\n    }, function (err) {\n      // registration failed :(\n      console.log(\"ServiceWorker registration failed: \", err);\n    });\n    targetOrigin = targetOrigin || \"*\";\n    cacheCallback = cacheCallback || cacheRequirements;\n\n    if (cacheCallback && typeof cacheCallback !== \"function\") {\n      throw new Error(\"config.cache_requirements must be a function\");\n    }\n\n    window.addEventListener(\"message\", function (e) {\n      if (targetOrigin === \"*\" || e.origin === targetOrigin) {\n        const m = e.data;\n\n        if (m.type === \"cacheRequirements\") {\n          cacheCallback(m.requirements);\n        }\n      }\n    });\n  }\n} //#Source https://bit.ly/2neWfJ2\n\nfunction urlJoin(...args) {\n  return args.join(\"/\").replace(/[\\/]+/g, \"/\").replace(/^(.+):\\//, \"$1://\").replace(/^file:/, \"file:/\").replace(/\\/(\\?|&|#[^!])/g, \"$1\").replace(/\\?/g, \"&\").replace(\"&\", \"?\");\n}\nclass MessageEmitter {\n  constructor(debug) {\n    this._event_handlers = {};\n    this._once_handlers = {};\n    this._debug = debug;\n  }\n\n  emit() {\n    throw new Error(\"emit is not implemented\");\n  }\n\n  on(event, handler) {\n    if (!this._event_handlers[event]) {\n      this._event_handlers[event] = [];\n    }\n\n    this._event_handlers[event].push(handler);\n  }\n\n  once(event, handler) {\n    handler.___event_run_once = true;\n    this.on(event, handler);\n  }\n\n  off(event, handler) {\n    if (!event && !handler) {\n      // remove all events handlers\n      this._event_handlers = {};\n    } else if (event && !handler) {\n      // remove all hanlders for the event\n      if (this._event_handlers[event]) this._event_handlers[event] = [];\n    } else {\n      // remove a specific handler\n      if (this._event_handlers[event]) {\n        const idx = this._event_handlers[event].indexOf(handler);\n\n        if (idx >= 0) {\n          this._event_handlers[event].splice(idx, 1);\n        }\n      }\n    }\n  }\n\n  _fire(event, data) {\n    if (this._event_handlers[event]) {\n      var i = this._event_handlers[event].length;\n\n      while (i--) {\n        const handler = this._event_handlers[event][i];\n\n        try {\n          handler(data);\n        } catch (e) {\n          console.error(e);\n        } finally {\n          if (handler.___event_run_once) {\n            this._event_handlers[event].splice(i, 1);\n          }\n        }\n      }\n    } else {\n      if (this._debug) {\n        console.warn(\"unhandled event\", event, data);\n      }\n    }\n  }\n\n}\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=imjoy-rpc.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"imjoyRPCSocketIO\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"imjoyRPCSocketIO\"] = factory();\n\telse\n\t\troot[\"imjoyRPCSocketIO\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/socketIOMain.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/backo2/index.js\":\n/*!**************************************!*\\\n  !*** ./node_modules/backo2/index.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/base64-js/index.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/base64-js/index.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/buffer/index.js\":\n/*!**************************************!*\\\n  !*** ./node_modules/buffer/index.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\")\nvar ieee754 = __webpack_require__(/*! ieee754 */ \"./node_modules/ieee754/index.js\")\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/isarray/index.js\")\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/component-emitter/index.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/component-emitter/index.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (true) {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/globalThis.browser.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/globalThis.browser.js ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = (() => {\n  if (typeof self !== \"undefined\") {\n    return self;\n  } else if (typeof window !== \"undefined\") {\n    return window;\n  } else {\n    return Function(\"return this\")();\n  }\n})();\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/index.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/index.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst Socket = __webpack_require__(/*! ./socket */ \"./node_modules/engine.io-client/lib/socket.js\");\n\nmodule.exports = (uri, opts) => new Socket(uri, opts);\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nmodule.exports.Socket = Socket;\nmodule.exports.protocol = Socket.protocol; // this is an int\nmodule.exports.Transport = __webpack_require__(/*! ./transport */ \"./node_modules/engine.io-client/lib/transport.js\");\nmodule.exports.transports = __webpack_require__(/*! ./transports/index */ \"./node_modules/engine.io-client/lib/transports/index.js\");\nmodule.exports.parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/index.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/socket.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/socket.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst transports = __webpack_require__(/*! ./transports/index */ \"./node_modules/engine.io-client/lib/transports/index.js\");\nconst Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/engine.io-client/node_modules/debug/src/browser.js\")(\"engine.io-client:socket\");\nconst parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/index.js\");\nconst parseuri = __webpack_require__(/*! parseuri */ \"./node_modules/engine.io-client/node_modules/parseuri/index.js\");\nconst parseqs = __webpack_require__(/*! parseqs */ \"./node_modules/engine.io-client/node_modules/parseqs/index.js\");\n\nclass Socket extends Emitter {\n  /**\n   * Socket constructor.\n   *\n   * @param {String|Object} uri or options\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts = {}) {\n    super();\n\n    if (uri && \"object\" === typeof uri) {\n      opts = uri;\n      uri = null;\n    }\n\n    if (uri) {\n      uri = parseuri(uri);\n      opts.hostname = uri.host;\n      opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n      opts.port = uri.port;\n      if (uri.query) opts.query = uri.query;\n    } else if (opts.host) {\n      opts.hostname = parseuri(opts.host).host;\n    }\n\n    this.secure =\n      null != opts.secure\n        ? opts.secure\n        : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n\n    if (opts.hostname && !opts.port) {\n      // if no port is specified manually, use the protocol default\n      opts.port = this.secure ? \"443\" : \"80\";\n    }\n\n    this.hostname =\n      opts.hostname ||\n      (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n    this.port =\n      opts.port ||\n      (typeof location !== \"undefined\" && location.port\n        ? location.port\n        : this.secure\n        ? 443\n        : 80);\n\n    this.transports = opts.transports || [\"polling\", \"websocket\"];\n    this.readyState = \"\";\n    this.writeBuffer = [];\n    this.prevBufferLen = 0;\n\n    this.opts = Object.assign(\n      {\n        path: \"/engine.io\",\n        agent: false,\n        withCredentials: false,\n        upgrade: true,\n        jsonp: true,\n        timestampParam: \"t\",\n        rememberUpgrade: false,\n        rejectUnauthorized: true,\n        perMessageDeflate: {\n          threshold: 1024\n        },\n        transportOptions: {}\n      },\n      opts\n    );\n\n    this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n\n    if (typeof this.opts.query === \"string\") {\n      this.opts.query = parseqs.decode(this.opts.query);\n    }\n\n    // set on handshake\n    this.id = null;\n    this.upgrades = null;\n    this.pingInterval = null;\n    this.pingTimeout = null;\n\n    // set on heartbeat\n    this.pingTimeoutTimer = null;\n\n    if (typeof addEventListener === \"function\") {\n      addEventListener(\n        \"beforeunload\",\n        () => {\n          if (this.transport) {\n            // silently close the transport\n            this.transport.removeAllListeners();\n            this.transport.close();\n          }\n        },\n        false\n      );\n      if (this.hostname !== \"localhost\") {\n        this.offlineEventListener = () => {\n          this.onClose(\"transport close\");\n        };\n        addEventListener(\"offline\", this.offlineEventListener, false);\n      }\n    }\n\n    this.open();\n  }\n\n  /**\n   * Creates transport of the given type.\n   *\n   * @param {String} transport name\n   * @return {Transport}\n   * @api private\n   */\n  createTransport(name) {\n    debug('creating transport \"%s\"', name);\n    const query = clone(this.opts.query);\n\n    // append engine.io protocol identifier\n    query.EIO = parser.protocol;\n\n    // transport name\n    query.transport = name;\n\n    // session id if we already have one\n    if (this.id) query.sid = this.id;\n\n    const opts = Object.assign(\n      {},\n      this.opts.transportOptions[name],\n      this.opts,\n      {\n        query,\n        socket: this,\n        hostname: this.hostname,\n        secure: this.secure,\n        port: this.port\n      }\n    );\n\n    debug(\"options: %j\", opts);\n\n    return new transports[name](opts);\n  }\n\n  /**\n   * Initializes transport to use and starts probe.\n   *\n   * @api private\n   */\n  open() {\n    let transport;\n    if (\n      this.opts.rememberUpgrade &&\n      Socket.priorWebsocketSuccess &&\n      this.transports.indexOf(\"websocket\") !== -1\n    ) {\n      transport = \"websocket\";\n    } else if (0 === this.transports.length) {\n      // Emit error on next tick so it can be listened to\n      const self = this;\n      setTimeout(function() {\n        self.emit(\"error\", \"No transports available\");\n      }, 0);\n      return;\n    } else {\n      transport = this.transports[0];\n    }\n    this.readyState = \"opening\";\n\n    // Retry with the next transport if the transport is disabled (jsonp: false)\n    try {\n      transport = this.createTransport(transport);\n    } catch (e) {\n      debug(\"error while creating transport: %s\", e);\n      this.transports.shift();\n      this.open();\n      return;\n    }\n\n    transport.open();\n    this.setTransport(transport);\n  }\n\n  /**\n   * Sets the current transport. Disables the existing one (if any).\n   *\n   * @api private\n   */\n  setTransport(transport) {\n    debug(\"setting transport %s\", transport.name);\n    const self = this;\n\n    if (this.transport) {\n      debug(\"clearing existing transport %s\", this.transport.name);\n      this.transport.removeAllListeners();\n    }\n\n    // set up transport\n    this.transport = transport;\n\n    // set up transport listeners\n    transport\n      .on(\"drain\", function() {\n        self.onDrain();\n      })\n      .on(\"packet\", function(packet) {\n        self.onPacket(packet);\n      })\n      .on(\"error\", function(e) {\n        self.onError(e);\n      })\n      .on(\"close\", function() {\n        self.onClose(\"transport close\");\n      });\n  }\n\n  /**\n   * Probes a transport.\n   *\n   * @param {String} transport name\n   * @api private\n   */\n  probe(name) {\n    debug('probing transport \"%s\"', name);\n    let transport = this.createTransport(name, { probe: 1 });\n    let failed = false;\n    const self = this;\n\n    Socket.priorWebsocketSuccess = false;\n\n    function onTransportOpen() {\n      if (self.onlyBinaryUpgrades) {\n        const upgradeLosesBinary =\n          !this.supportsBinary && self.transport.supportsBinary;\n        failed = failed || upgradeLosesBinary;\n      }\n      if (failed) return;\n\n      debug('probe transport \"%s\" opened', name);\n      transport.send([{ type: \"ping\", data: \"probe\" }]);\n      transport.once(\"packet\", function(msg) {\n        if (failed) return;\n        if (\"pong\" === msg.type && \"probe\" === msg.data) {\n          debug('probe transport \"%s\" pong', name);\n          self.upgrading = true;\n          self.emit(\"upgrading\", transport);\n          if (!transport) return;\n          Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n\n          debug('pausing current transport \"%s\"', self.transport.name);\n          self.transport.pause(function() {\n            if (failed) return;\n            if (\"closed\" === self.readyState) return;\n            debug(\"changing transport and sending upgrade packet\");\n\n            cleanup();\n\n            self.setTransport(transport);\n            transport.send([{ type: \"upgrade\" }]);\n            self.emit(\"upgrade\", transport);\n            transport = null;\n            self.upgrading = false;\n            self.flush();\n          });\n        } else {\n          debug('probe transport \"%s\" failed', name);\n          const err = new Error(\"probe error\");\n          err.transport = transport.name;\n          self.emit(\"upgradeError\", err);\n        }\n      });\n    }\n\n    function freezeTransport() {\n      if (failed) return;\n\n      // Any callback called by transport should be ignored since now\n      failed = true;\n\n      cleanup();\n\n      transport.close();\n      transport = null;\n    }\n\n    // Handle any error that happens while probing\n    function onerror(err) {\n      const error = new Error(\"probe error: \" + err);\n      error.transport = transport.name;\n\n      freezeTransport();\n\n      debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n      self.emit(\"upgradeError\", error);\n    }\n\n    function onTransportClose() {\n      onerror(\"transport closed\");\n    }\n\n    // When the socket is closed while we're probing\n    function onclose() {\n      onerror(\"socket closed\");\n    }\n\n    // When the socket is upgraded while we're probing\n    function onupgrade(to) {\n      if (transport && to.name !== transport.name) {\n        debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n        freezeTransport();\n      }\n    }\n\n    // Remove all listeners on the transport and on self\n    function cleanup() {\n      transport.removeListener(\"open\", onTransportOpen);\n      transport.removeListener(\"error\", onerror);\n      transport.removeListener(\"close\", onTransportClose);\n      self.removeListener(\"close\", onclose);\n      self.removeListener(\"upgrading\", onupgrade);\n    }\n\n    transport.once(\"open\", onTransportOpen);\n    transport.once(\"error\", onerror);\n    transport.once(\"close\", onTransportClose);\n\n    this.once(\"close\", onclose);\n    this.once(\"upgrading\", onupgrade);\n\n    transport.open();\n  }\n\n  /**\n   * Called when connection is deemed open.\n   *\n   * @api public\n   */\n  onOpen() {\n    debug(\"socket open\");\n    this.readyState = \"open\";\n    Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n    this.emit(\"open\");\n    this.flush();\n\n    // we check for `readyState` in case an `open`\n    // listener already closed the socket\n    if (\n      \"open\" === this.readyState &&\n      this.opts.upgrade &&\n      this.transport.pause\n    ) {\n      debug(\"starting upgrade probes\");\n      let i = 0;\n      const l = this.upgrades.length;\n      for (; i < l; i++) {\n        this.probe(this.upgrades[i]);\n      }\n    }\n  }\n\n  /**\n   * Handles a packet.\n   *\n   * @api private\n   */\n  onPacket(packet) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n      this.emit(\"packet\", packet);\n\n      // Socket is live - any packet counts\n      this.emit(\"heartbeat\");\n\n      switch (packet.type) {\n        case \"open\":\n          this.onHandshake(JSON.parse(packet.data));\n          break;\n\n        case \"ping\":\n          this.resetPingTimeout();\n          this.sendPacket(\"pong\");\n          this.emit(\"pong\");\n          break;\n\n        case \"error\":\n          const err = new Error(\"server error\");\n          err.code = packet.data;\n          this.onError(err);\n          break;\n\n        case \"message\":\n          this.emit(\"data\", packet.data);\n          this.emit(\"message\", packet.data);\n          break;\n      }\n    } else {\n      debug('packet received with socket readyState \"%s\"', this.readyState);\n    }\n  }\n\n  /**\n   * Called upon handshake completion.\n   *\n   * @param {Object} handshake obj\n   * @api private\n   */\n  onHandshake(data) {\n    this.emit(\"handshake\", data);\n    this.id = data.sid;\n    this.transport.query.sid = data.sid;\n    this.upgrades = this.filterUpgrades(data.upgrades);\n    this.pingInterval = data.pingInterval;\n    this.pingTimeout = data.pingTimeout;\n    this.onOpen();\n    // In case open handler closes socket\n    if (\"closed\" === this.readyState) return;\n    this.resetPingTimeout();\n  }\n\n  /**\n   * Sets and resets ping timeout timer based on server pings.\n   *\n   * @api private\n   */\n  resetPingTimeout() {\n    clearTimeout(this.pingTimeoutTimer);\n    this.pingTimeoutTimer = setTimeout(() => {\n      this.onClose(\"ping timeout\");\n    }, this.pingInterval + this.pingTimeout);\n    if (this.opts.autoUnref) {\n      this.pingTimeoutTimer.unref();\n    }\n  }\n\n  /**\n   * Called on `drain` event\n   *\n   * @api private\n   */\n  onDrain() {\n    this.writeBuffer.splice(0, this.prevBufferLen);\n\n    // setting prevBufferLen = 0 is very important\n    // for example, when upgrading, upgrade packet is sent over,\n    // and a nonzero prevBufferLen could cause problems on `drain`\n    this.prevBufferLen = 0;\n\n    if (0 === this.writeBuffer.length) {\n      this.emit(\"drain\");\n    } else {\n      this.flush();\n    }\n  }\n\n  /**\n   * Flush write buffers.\n   *\n   * @api private\n   */\n  flush() {\n    if (\n      \"closed\" !== this.readyState &&\n      this.transport.writable &&\n      !this.upgrading &&\n      this.writeBuffer.length\n    ) {\n      debug(\"flushing %d packets in socket\", this.writeBuffer.length);\n      this.transport.send(this.writeBuffer);\n      // keep track of current length of writeBuffer\n      // splice writeBuffer and callbackBuffer on `drain`\n      this.prevBufferLen = this.writeBuffer.length;\n      this.emit(\"flush\");\n    }\n  }\n\n  /**\n   * Sends a message.\n   *\n   * @param {String} message.\n   * @param {Function} callback function.\n   * @param {Object} options.\n   * @return {Socket} for chaining.\n   * @api public\n   */\n  write(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  send(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  /**\n   * Sends a packet.\n   *\n   * @param {String} packet type.\n   * @param {String} data.\n   * @param {Object} options.\n   * @param {Function} callback function.\n   * @api private\n   */\n  sendPacket(type, data, options, fn) {\n    if (\"function\" === typeof data) {\n      fn = data;\n      data = undefined;\n    }\n\n    if (\"function\" === typeof options) {\n      fn = options;\n      options = null;\n    }\n\n    if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n      return;\n    }\n\n    options = options || {};\n    options.compress = false !== options.compress;\n\n    const packet = {\n      type: type,\n      data: data,\n      options: options\n    };\n    this.emit(\"packetCreate\", packet);\n    this.writeBuffer.push(packet);\n    if (fn) this.once(\"flush\", fn);\n    this.flush();\n  }\n\n  /**\n   * Closes the connection.\n   *\n   * @api private\n   */\n  close() {\n    const self = this;\n\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.readyState = \"closing\";\n\n      if (this.writeBuffer.length) {\n        this.once(\"drain\", function() {\n          if (this.upgrading) {\n            waitForUpgrade();\n          } else {\n            close();\n          }\n        });\n      } else if (this.upgrading) {\n        waitForUpgrade();\n      } else {\n        close();\n      }\n    }\n\n    function close() {\n      self.onClose(\"forced close\");\n      debug(\"socket closing - telling transport to close\");\n      self.transport.close();\n    }\n\n    function cleanupAndClose() {\n      self.removeListener(\"upgrade\", cleanupAndClose);\n      self.removeListener(\"upgradeError\", cleanupAndClose);\n      close();\n    }\n\n    function waitForUpgrade() {\n      // wait for upgrade to finish since we can't send packets while pausing a transport\n      self.once(\"upgrade\", cleanupAndClose);\n      self.once(\"upgradeError\", cleanupAndClose);\n    }\n\n    return this;\n  }\n\n  /**\n   * Called upon transport error\n   *\n   * @api private\n   */\n  onError(err) {\n    debug(\"socket error %j\", err);\n    Socket.priorWebsocketSuccess = false;\n    this.emit(\"error\", err);\n    this.onClose(\"transport error\", err);\n  }\n\n  /**\n   * Called upon transport close.\n   *\n   * @api private\n   */\n  onClose(reason, desc) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket close with reason: \"%s\"', reason);\n      const self = this;\n\n      // clear timers\n      clearTimeout(this.pingIntervalTimer);\n      clearTimeout(this.pingTimeoutTimer);\n\n      // stop event from firing again for transport\n      this.transport.removeAllListeners(\"close\");\n\n      // ensure transport won't stay open\n      this.transport.close();\n\n      // ignore further transport communication\n      this.transport.removeAllListeners();\n\n      if (typeof removeEventListener === \"function\") {\n        removeEventListener(\"offline\", this.offlineEventListener, false);\n      }\n\n      // set ready state\n      this.readyState = \"closed\";\n\n      // clear session id\n      this.id = null;\n\n      // emit close event\n      this.emit(\"close\", reason, desc);\n\n      // clean buffers after, so users can still\n      // grab the buffers on `close` event\n      self.writeBuffer = [];\n      self.prevBufferLen = 0;\n    }\n  }\n\n  /**\n   * Filters upgrades, returning only those matching client transports.\n   *\n   * @param {Array} server upgrades\n   * @api private\n   *\n   */\n  filterUpgrades(upgrades) {\n    const filteredUpgrades = [];\n    let i = 0;\n    const j = upgrades.length;\n    for (; i < j; i++) {\n      if (~this.transports.indexOf(upgrades[i]))\n        filteredUpgrades.push(upgrades[i]);\n    }\n    return filteredUpgrades;\n  }\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\nfunction clone(obj) {\n  const o = {};\n  for (let i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\nmodule.exports = Socket;\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transport.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transport.js ***!\n  \\********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/index.js\");\nconst Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/engine.io-client/node_modules/debug/src/browser.js\")(\"engine.io-client:transport\");\n\nclass Transport extends Emitter {\n  /**\n   * Transport abstract constructor.\n   *\n   * @param {Object} options.\n   * @api private\n   */\n  constructor(opts) {\n    super();\n\n    this.opts = opts;\n    this.query = opts.query;\n    this.readyState = \"\";\n    this.socket = opts.socket;\n  }\n\n  /**\n   * Emits an error.\n   *\n   * @param {String} str\n   * @return {Transport} for chaining\n   * @api public\n   */\n  onError(msg, desc) {\n    const err = new Error(msg);\n    err.type = \"TransportError\";\n    err.description = desc;\n    this.emit(\"error\", err);\n    return this;\n  }\n\n  /**\n   * Opens the transport.\n   *\n   * @api public\n   */\n  open() {\n    if (\"closed\" === this.readyState || \"\" === this.readyState) {\n      this.readyState = \"opening\";\n      this.doOpen();\n    }\n\n    return this;\n  }\n\n  /**\n   * Closes the transport.\n   *\n   * @api private\n   */\n  close() {\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.doClose();\n      this.onClose();\n    }\n\n    return this;\n  }\n\n  /**\n   * Sends multiple packets.\n   *\n   * @param {Array} packets\n   * @api private\n   */\n  send(packets) {\n    if (\"open\" === this.readyState) {\n      this.write(packets);\n    } else {\n      // this might happen if the transport was silently closed in the beforeunload event handler\n      debug(\"transport is not open, discarding packets\");\n    }\n  }\n\n  /**\n   * Called upon open\n   *\n   * @api private\n   */\n  onOpen() {\n    this.readyState = \"open\";\n    this.writable = true;\n    this.emit(\"open\");\n  }\n\n  /**\n   * Called with data.\n   *\n   * @param {String} data\n   * @api private\n   */\n  onData(data) {\n    const packet = parser.decodePacket(data, this.socket.binaryType);\n    this.onPacket(packet);\n  }\n\n  /**\n   * Called with a decoded packet.\n   */\n  onPacket(packet) {\n    this.emit(\"packet\", packet);\n  }\n\n  /**\n   * Called upon close.\n   *\n   * @api private\n   */\n  onClose() {\n    this.readyState = \"closed\";\n    this.emit(\"close\");\n  }\n}\n\nmodule.exports = Transport;\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/index.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/index.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst XMLHttpRequest = __webpack_require__(/*! ../../contrib/xmlhttprequest-ssl/XMLHttpRequest */ \"./node_modules/engine.io-client/lib/xmlhttprequest.js\");\nconst XHR = __webpack_require__(/*! ./polling-xhr */ \"./node_modules/engine.io-client/lib/transports/polling-xhr.js\");\nconst JSONP = __webpack_require__(/*! ./polling-jsonp */ \"./node_modules/engine.io-client/lib/transports/polling-jsonp.js\");\nconst websocket = __webpack_require__(/*! ./websocket */ \"./node_modules/engine.io-client/lib/transports/websocket.js\");\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts) {\n  let xhr;\n  let xd = false;\n  let xs = false;\n  const jsonp = false !== opts.jsonp;\n\n  if (typeof location !== \"undefined\") {\n    const isSSL = \"https:\" === location.protocol;\n    let port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if (\"open\" in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error(\"JSONP disabled\");\n    return new JSONP(opts);\n  }\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/polling-jsonp.js\":\n/*!***********************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/polling-jsonp.js ***!\n  \\***********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst Polling = __webpack_require__(/*! ./polling */ \"./node_modules/engine.io-client/lib/transports/polling.js\");\nconst globalThis = __webpack_require__(/*! ../globalThis */ \"./node_modules/engine.io-client/lib/globalThis.browser.js\");\n\nconst rNewline = /\\n/g;\nconst rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nlet callbacks;\n\nclass JSONPPolling extends Polling {\n  /**\n   * JSONP Polling constructor.\n   *\n   * @param {Object} opts.\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.query = this.query || {};\n\n    // define global callbacks array if not present\n    // we do this here (lazily) to avoid unneeded global pollution\n    if (!callbacks) {\n      // we need to consider multiple engines in the same page\n      callbacks = globalThis.___eio = globalThis.___eio || [];\n    }\n\n    // callback identifier\n    this.index = callbacks.length;\n\n    // add callback to jsonp global\n    const self = this;\n    callbacks.push(function(msg) {\n      self.onData(msg);\n    });\n\n    // append to query string\n    this.query.j = this.index;\n  }\n\n  /**\n   * JSONP only supports binary as base64 encoded strings\n   */\n  get supportsBinary() {\n    return false;\n  }\n\n  /**\n   * Closes the socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (this.script) {\n      // prevent spurious errors from being emitted when the window is unloaded\n      this.script.onerror = () => {};\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    if (this.form) {\n      this.form.parentNode.removeChild(this.form);\n      this.form = null;\n      this.iframe = null;\n    }\n\n    super.doClose();\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    const self = this;\n    const script = document.createElement(\"script\");\n\n    if (this.script) {\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    script.async = true;\n    script.src = this.uri();\n    script.onerror = function(e) {\n      self.onError(\"jsonp poll error\", e);\n    };\n\n    const insertAt = document.getElementsByTagName(\"script\")[0];\n    if (insertAt) {\n      insertAt.parentNode.insertBefore(script, insertAt);\n    } else {\n      (document.head || document.body).appendChild(script);\n    }\n    this.script = script;\n\n    const isUAgecko =\n      \"undefined\" !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n    if (isUAgecko) {\n      setTimeout(function() {\n        const iframe = document.createElement(\"iframe\");\n        document.body.appendChild(iframe);\n        document.body.removeChild(iframe);\n      }, 100);\n    }\n  }\n\n  /**\n   * Writes with a hidden iframe.\n   *\n   * @param {String} data to send\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    const self = this;\n    let iframe;\n\n    if (!this.form) {\n      const form = document.createElement(\"form\");\n      const area = document.createElement(\"textarea\");\n      const id = (this.iframeId = \"eio_iframe_\" + this.index);\n\n      form.className = \"socketio\";\n      form.style.position = \"absolute\";\n      form.style.top = \"-1000px\";\n      form.style.left = \"-1000px\";\n      form.target = id;\n      form.method = \"POST\";\n      form.setAttribute(\"accept-charset\", \"utf-8\");\n      area.name = \"d\";\n      form.appendChild(area);\n      document.body.appendChild(form);\n\n      this.form = form;\n      this.area = area;\n    }\n\n    this.form.action = this.uri();\n\n    function complete() {\n      initIframe();\n      fn();\n    }\n\n    function initIframe() {\n      if (self.iframe) {\n        try {\n          self.form.removeChild(self.iframe);\n        } catch (e) {\n          self.onError(\"jsonp polling iframe removal error\", e);\n        }\n      }\n\n      try {\n        // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n        const html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n        iframe = document.createElement(html);\n      } catch (e) {\n        iframe = document.createElement(\"iframe\");\n        iframe.name = self.iframeId;\n        iframe.src = \"javascript:0\";\n      }\n\n      iframe.id = self.iframeId;\n\n      self.form.appendChild(iframe);\n      self.iframe = iframe;\n    }\n\n    initIframe();\n\n    // escape \\n to prevent it from being converted into \\r\\n by some UAs\n    // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n    data = data.replace(rEscapedNewline, \"\\\\\\n\");\n    this.area.value = data.replace(rNewline, \"\\\\n\");\n\n    try {\n      this.form.submit();\n    } catch (e) {}\n\n    if (this.iframe.attachEvent) {\n      this.iframe.onreadystatechange = function() {\n        if (self.iframe.readyState === \"complete\") {\n          complete();\n        }\n      };\n    } else {\n      this.iframe.onload = complete;\n    }\n  }\n}\n\nmodule.exports = JSONPPolling;\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/polling-xhr.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/polling-xhr.js ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* global attachEvent */\n\nconst XMLHttpRequest = __webpack_require__(/*! ../../contrib/xmlhttprequest-ssl/XMLHttpRequest */ \"./node_modules/engine.io-client/lib/xmlhttprequest.js\");\nconst Polling = __webpack_require__(/*! ./polling */ \"./node_modules/engine.io-client/lib/transports/polling.js\");\nconst Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\nconst { pick } = __webpack_require__(/*! ../util */ \"./node_modules/engine.io-client/lib/util.js\");\nconst globalThis = __webpack_require__(/*! ../globalThis */ \"./node_modules/engine.io-client/lib/globalThis.browser.js\");\n\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/engine.io-client/node_modules/debug/src/browser.js\")(\"engine.io-client:polling-xhr\");\n\n/**\n * Empty function\n */\n\nfunction empty() {}\n\nconst hasXHR2 = (function() {\n  const xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\nclass XHR extends Polling {\n  /**\n   * XHR Polling constructor.\n   *\n   * @param {Object} opts\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    if (typeof location !== \"undefined\") {\n      const isSSL = \"https:\" === location.protocol;\n      let port = location.port;\n\n      // some user agents have empty `location.port`\n      if (!port) {\n        port = isSSL ? 443 : 80;\n      }\n\n      this.xd =\n        (typeof location !== \"undefined\" &&\n          opts.hostname !== location.hostname) ||\n        port !== opts.port;\n      this.xs = opts.secure !== isSSL;\n    }\n    /**\n     * XHR supports binary\n     */\n    const forceBase64 = opts && opts.forceBase64;\n    this.supportsBinary = hasXHR2 && !forceBase64;\n  }\n\n  /**\n   * Creates a request.\n   *\n   * @param {String} method\n   * @api private\n   */\n  request(opts = {}) {\n    Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n    return new Request(this.uri(), opts);\n  }\n\n  /**\n   * Sends data.\n   *\n   * @param {String} data to send.\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    const req = this.request({\n      method: \"POST\",\n      data: data\n    });\n    const self = this;\n    req.on(\"success\", fn);\n    req.on(\"error\", function(err) {\n      self.onError(\"xhr post error\", err);\n    });\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    debug(\"xhr poll\");\n    const req = this.request();\n    const self = this;\n    req.on(\"data\", function(data) {\n      self.onData(data);\n    });\n    req.on(\"error\", function(err) {\n      self.onError(\"xhr poll error\", err);\n    });\n    this.pollXhr = req;\n  }\n}\n\nclass Request extends Emitter {\n  /**\n   * Request constructor\n   *\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts) {\n    super();\n    this.opts = opts;\n\n    this.method = opts.method || \"GET\";\n    this.uri = uri;\n    this.async = false !== opts.async;\n    this.data = undefined !== opts.data ? opts.data : null;\n\n    this.create();\n  }\n\n  /**\n   * Creates the XHR object and sends the request.\n   *\n   * @api private\n   */\n  create() {\n    const opts = pick(\n      this.opts,\n      \"agent\",\n      \"enablesXDR\",\n      \"pfx\",\n      \"key\",\n      \"passphrase\",\n      \"cert\",\n      \"ca\",\n      \"ciphers\",\n      \"rejectUnauthorized\",\n      \"autoUnref\"\n    );\n    opts.xdomain = !!this.opts.xd;\n    opts.xscheme = !!this.opts.xs;\n\n    const xhr = (this.xhr = new XMLHttpRequest(opts));\n    const self = this;\n\n    try {\n      debug(\"xhr open %s: %s\", this.method, this.uri);\n      xhr.open(this.method, this.uri, this.async);\n      try {\n        if (this.opts.extraHeaders) {\n          xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n          for (let i in this.opts.extraHeaders) {\n            if (this.opts.extraHeaders.hasOwnProperty(i)) {\n              xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n            }\n          }\n        }\n      } catch (e) {}\n\n      if (\"POST\" === this.method) {\n        try {\n          xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n        } catch (e) {}\n      }\n\n      try {\n        xhr.setRequestHeader(\"Accept\", \"*/*\");\n      } catch (e) {}\n\n      // ie6 check\n      if (\"withCredentials\" in xhr) {\n        xhr.withCredentials = this.opts.withCredentials;\n      }\n\n      if (this.opts.requestTimeout) {\n        xhr.timeout = this.opts.requestTimeout;\n      }\n\n      if (this.hasXDR()) {\n        xhr.onload = function() {\n          self.onLoad();\n        };\n        xhr.onerror = function() {\n          self.onError(xhr.responseText);\n        };\n      } else {\n        xhr.onreadystatechange = function() {\n          if (4 !== xhr.readyState) return;\n          if (200 === xhr.status || 1223 === xhr.status) {\n            self.onLoad();\n          } else {\n            // make sure the `error` event handler that's user-set\n            // does not throw in the same tick and gets caught here\n            setTimeout(function() {\n              self.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n            }, 0);\n          }\n        };\n      }\n\n      debug(\"xhr data %s\", this.data);\n      xhr.send(this.data);\n    } catch (e) {\n      // Need to defer since .create() is called directly from the constructor\n      // and thus the 'error' event can only be only bound *after* this exception\n      // occurs.  Therefore, also, we cannot throw here at all.\n      setTimeout(function() {\n        self.onError(e);\n      }, 0);\n      return;\n    }\n\n    if (typeof document !== \"undefined\") {\n      this.index = Request.requestsCount++;\n      Request.requests[this.index] = this;\n    }\n  }\n\n  /**\n   * Called upon successful response.\n   *\n   * @api private\n   */\n  onSuccess() {\n    this.emit(\"success\");\n    this.cleanup();\n  }\n\n  /**\n   * Called if we have data.\n   *\n   * @api private\n   */\n  onData(data) {\n    this.emit(\"data\", data);\n    this.onSuccess();\n  }\n\n  /**\n   * Called upon error.\n   *\n   * @api private\n   */\n  onError(err) {\n    this.emit(\"error\", err);\n    this.cleanup(true);\n  }\n\n  /**\n   * Cleans up house.\n   *\n   * @api private\n   */\n  cleanup(fromError) {\n    if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n      return;\n    }\n    // xmlhttprequest\n    if (this.hasXDR()) {\n      this.xhr.onload = this.xhr.onerror = empty;\n    } else {\n      this.xhr.onreadystatechange = empty;\n    }\n\n    if (fromError) {\n      try {\n        this.xhr.abort();\n      } catch (e) {}\n    }\n\n    if (typeof document !== \"undefined\") {\n      delete Request.requests[this.index];\n    }\n\n    this.xhr = null;\n  }\n\n  /**\n   * Called upon load.\n   *\n   * @api private\n   */\n  onLoad() {\n    const data = this.xhr.responseText;\n    if (data !== null) {\n      this.onData(data);\n    }\n  }\n\n  /**\n   * Check if it has XDomainRequest.\n   *\n   * @api private\n   */\n  hasXDR() {\n    return typeof XDomainRequest !== \"undefined\" && !this.xs && this.enablesXDR;\n  }\n\n  /**\n   * Aborts the request.\n   *\n   * @api public\n   */\n  abort() {\n    this.cleanup();\n  }\n}\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== \"undefined\") {\n  if (typeof attachEvent === \"function\") {\n    attachEvent(\"onunload\", unloadHandler);\n  } else if (typeof addEventListener === \"function\") {\n    const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (let i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/polling.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/polling.js ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst Transport = __webpack_require__(/*! ../transport */ \"./node_modules/engine.io-client/lib/transport.js\");\nconst parseqs = __webpack_require__(/*! parseqs */ \"./node_modules/engine.io-client/node_modules/parseqs/index.js\");\nconst parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/index.js\");\nconst yeast = __webpack_require__(/*! yeast */ \"./node_modules/yeast/index.js\");\n\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/engine.io-client/node_modules/debug/src/browser.js\")(\"engine.io-client:polling\");\n\nclass Polling extends Transport {\n  /**\n   * Transport name.\n   */\n  get name() {\n    return \"polling\";\n  }\n\n  /**\n   * Opens the socket (triggers polling). We write a PING message to determine\n   * when the transport is open.\n   *\n   * @api private\n   */\n  doOpen() {\n    this.poll();\n  }\n\n  /**\n   * Pauses polling.\n   *\n   * @param {Function} callback upon buffers are flushed and transport is paused\n   * @api private\n   */\n  pause(onPause) {\n    const self = this;\n\n    this.readyState = \"pausing\";\n\n    function pause() {\n      debug(\"paused\");\n      self.readyState = \"paused\";\n      onPause();\n    }\n\n    if (this.polling || !this.writable) {\n      let total = 0;\n\n      if (this.polling) {\n        debug(\"we are currently polling - waiting to pause\");\n        total++;\n        this.once(\"pollComplete\", function() {\n          debug(\"pre-pause polling complete\");\n          --total || pause();\n        });\n      }\n\n      if (!this.writable) {\n        debug(\"we are currently writing - waiting to pause\");\n        total++;\n        this.once(\"drain\", function() {\n          debug(\"pre-pause writing complete\");\n          --total || pause();\n        });\n      }\n    } else {\n      pause();\n    }\n  }\n\n  /**\n   * Starts polling cycle.\n   *\n   * @api public\n   */\n  poll() {\n    debug(\"polling\");\n    this.polling = true;\n    this.doPoll();\n    this.emit(\"poll\");\n  }\n\n  /**\n   * Overloads onData to detect payloads.\n   *\n   * @api private\n   */\n  onData(data) {\n    const self = this;\n    debug(\"polling got data %s\", data);\n    const callback = function(packet, index, total) {\n      // if its the first message we consider the transport open\n      if (\"opening\" === self.readyState && packet.type === \"open\") {\n        self.onOpen();\n      }\n\n      // if its a close packet, we close the ongoing requests\n      if (\"close\" === packet.type) {\n        self.onClose();\n        return false;\n      }\n\n      // otherwise bypass onData and handle the message\n      self.onPacket(packet);\n    };\n\n    // decode payload\n    parser.decodePayload(data, this.socket.binaryType).forEach(callback);\n\n    // if an event did not trigger closing\n    if (\"closed\" !== this.readyState) {\n      // if we got data we're not polling\n      this.polling = false;\n      this.emit(\"pollComplete\");\n\n      if (\"open\" === this.readyState) {\n        this.poll();\n      } else {\n        debug('ignoring poll - transport state \"%s\"', this.readyState);\n      }\n    }\n  }\n\n  /**\n   * For polling, send a close packet.\n   *\n   * @api private\n   */\n  doClose() {\n    const self = this;\n\n    function close() {\n      debug(\"writing close packet\");\n      self.write([{ type: \"close\" }]);\n    }\n\n    if (\"open\" === this.readyState) {\n      debug(\"transport open - closing\");\n      close();\n    } else {\n      // in case we're trying to close while\n      // handshaking is in progress (GH-164)\n      debug(\"transport not open - deferring close\");\n      this.once(\"open\", close);\n    }\n  }\n\n  /**\n   * Writes a packets payload.\n   *\n   * @param {Array} data packets\n   * @param {Function} drain callback\n   * @api private\n   */\n  write(packets) {\n    this.writable = false;\n\n    parser.encodePayload(packets, data => {\n      this.doWrite(data, () => {\n        this.writable = true;\n        this.emit(\"drain\");\n      });\n    });\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"https\" : \"http\";\n    let port = \"\";\n\n    // cache busting is forced\n    if (false !== this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    if (!this.supportsBinary && !query.sid) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n        (\"http\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n}\n\nmodule.exports = Polling;\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js\":\n/*!***************************************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js ***!\n  \\***************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst globalThis = __webpack_require__(/*! ../globalThis */ \"./node_modules/engine.io-client/lib/globalThis.browser.js\");\n\nmodule.exports = {\n  WebSocket: globalThis.WebSocket || globalThis.MozWebSocket,\n  usingBrowserWebSocket: true,\n  defaultBinaryType: \"arraybuffer\"\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/transports/websocket.js\":\n/*!*******************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/transports/websocket.js ***!\n  \\*******************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {const Transport = __webpack_require__(/*! ../transport */ \"./node_modules/engine.io-client/lib/transport.js\");\nconst parser = __webpack_require__(/*! engine.io-parser */ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/index.js\");\nconst parseqs = __webpack_require__(/*! parseqs */ \"./node_modules/engine.io-client/node_modules/parseqs/index.js\");\nconst yeast = __webpack_require__(/*! yeast */ \"./node_modules/yeast/index.js\");\nconst { pick } = __webpack_require__(/*! ../util */ \"./node_modules/engine.io-client/lib/util.js\");\nconst {\n  WebSocket,\n  usingBrowserWebSocket,\n  defaultBinaryType\n} = __webpack_require__(/*! ./websocket-constructor */ \"./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js\");\n\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/engine.io-client/node_modules/debug/src/browser.js\")(\"engine.io-client:websocket\");\n\n// detect ReactNative environment\nconst isReactNative =\n  typeof navigator !== \"undefined\" &&\n  typeof navigator.product === \"string\" &&\n  navigator.product.toLowerCase() === \"reactnative\";\n\nclass WS extends Transport {\n  /**\n   * WebSocket transport constructor.\n   *\n   * @api {Object} connection options\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.supportsBinary = !opts.forceBase64;\n  }\n\n  /**\n   * Transport name.\n   *\n   * @api public\n   */\n  get name() {\n    return \"websocket\";\n  }\n\n  /**\n   * Opens socket.\n   *\n   * @api private\n   */\n  doOpen() {\n    if (!this.check()) {\n      // let probe timeout\n      return;\n    }\n\n    const uri = this.uri();\n    const protocols = this.opts.protocols;\n\n    // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n    const opts = isReactNative\n      ? {}\n      : pick(\n          this.opts,\n          \"agent\",\n          \"perMessageDeflate\",\n          \"pfx\",\n          \"key\",\n          \"passphrase\",\n          \"cert\",\n          \"ca\",\n          \"ciphers\",\n          \"rejectUnauthorized\",\n          \"localAddress\",\n          \"protocolVersion\",\n          \"origin\",\n          \"maxPayload\",\n          \"family\",\n          \"checkServerIdentity\"\n        );\n\n    if (this.opts.extraHeaders) {\n      opts.headers = this.opts.extraHeaders;\n    }\n\n    try {\n      this.ws =\n        usingBrowserWebSocket && !isReactNative\n          ? protocols\n            ? new WebSocket(uri, protocols)\n            : new WebSocket(uri)\n          : new WebSocket(uri, protocols, opts);\n    } catch (err) {\n      return this.emit(\"error\", err);\n    }\n\n    this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n\n    this.addEventListeners();\n  }\n\n  /**\n   * Adds event listeners to the socket\n   *\n   * @api private\n   */\n  addEventListeners() {\n    this.ws.onopen = () => {\n      if (this.opts.autoUnref) {\n        this.ws._socket.unref();\n      }\n      this.onOpen();\n    };\n    this.ws.onclose = this.onClose.bind(this);\n    this.ws.onmessage = ev => this.onData(ev.data);\n    this.ws.onerror = e => this.onError(\"websocket error\", e);\n  }\n\n  /**\n   * Writes data to socket.\n   *\n   * @param {Array} array of packets.\n   * @api private\n   */\n  write(packets) {\n    const self = this;\n    this.writable = false;\n\n    // encodePacket efficient as it uses WS framing\n    // no need for encodePayload\n    let total = packets.length;\n    let i = 0;\n    const l = total;\n    for (; i < l; i++) {\n      (function(packet) {\n        parser.encodePacket(packet, self.supportsBinary, function(data) {\n          // always create a new object (GH-437)\n          const opts = {};\n          if (!usingBrowserWebSocket) {\n            if (packet.options) {\n              opts.compress = packet.options.compress;\n            }\n\n            if (self.opts.perMessageDeflate) {\n              const len =\n                \"string\" === typeof data\n                  ? Buffer.byteLength(data)\n                  : data.length;\n              if (len < self.opts.perMessageDeflate.threshold) {\n                opts.compress = false;\n              }\n            }\n          }\n\n          // Sometimes the websocket has already been closed but the browser didn't\n          // have a chance of informing us about it yet, in that case send will\n          // throw an error\n          try {\n            if (usingBrowserWebSocket) {\n              // TypeError is thrown when passing the second argument on Safari\n              self.ws.send(data);\n            } else {\n              self.ws.send(data, opts);\n            }\n          } catch (e) {\n            debug(\"websocket closed before onclose event\");\n          }\n\n          --total || done();\n        });\n      })(packets[i]);\n    }\n\n    function done() {\n      self.emit(\"flush\");\n\n      // fake drain\n      // defer to next tick to allow Socket to clear writeBuffer\n      setTimeout(function() {\n        self.writable = true;\n        self.emit(\"drain\");\n      }, 0);\n    }\n  }\n\n  /**\n   * Called upon close\n   *\n   * @api private\n   */\n  onClose() {\n    Transport.prototype.onClose.call(this);\n  }\n\n  /**\n   * Closes socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (typeof this.ws !== \"undefined\") {\n      this.ws.close();\n      this.ws = null;\n    }\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"wss\" : \"ws\";\n    let port = \"\";\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n        (\"ws\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // append timestamp to URI\n    if (this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    // communicate binary support capabilities\n    if (!this.supportsBinary) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n\n  /**\n   * Feature detection for WebSocket.\n   *\n   * @return {Boolean} whether this transport is available.\n   * @api public\n   */\n  check() {\n    return (\n      !!WebSocket &&\n      !(\"__initialize\" in WebSocket && this.name === WS.prototype.name)\n    );\n  }\n}\n\nmodule.exports = WS;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../buffer/index.js */ \"./node_modules/buffer/index.js\").Buffer))\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/util.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/util.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports.pick = (obj, ...attr) => {\n  return attr.reduce((acc, k) => {\n    if (obj.hasOwnProperty(k)) {\n      acc[k] = obj[k];\n    }\n    return acc;\n  }, {});\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/lib/xmlhttprequest.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/engine.io-client/lib/xmlhttprequest.js ***!\n  \\*************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// browser shim for xmlhttprequest module\n\nconst hasCORS = __webpack_require__(/*! has-cors */ \"./node_modules/has-cors/index.js\");\nconst globalThis = __webpack_require__(/*! ./globalThis */ \"./node_modules/engine.io-client/lib/globalThis.browser.js\");\n\nmodule.exports = function(opts) {\n  const xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  const xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  const enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) {}\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if (\"undefined\" !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) {}\n\n  if (!xdomain) {\n    try {\n      return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\n        \"Microsoft.XMLHTTP\"\n      );\n    } catch (e) {}\n  }\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js\":\n/*!*************************************************************************************************!*\\\n  !*** ./node_modules/engine.io-client/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js ***!\n  \\*************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/node_modules/debug/src/browser.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/engine.io-client/node_modules/debug/src/browser.js ***!\n  \\*************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = __webpack_require__(/*! ./common */ \"./node_modules/engine.io-client/node_modules/debug/src/common.js\")(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/node_modules/debug/src/common.js\":\n/*!************************************************************************!*\\\n  !*** ./node_modules/engine.io-client/node_modules/debug/src/common.js ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = __webpack_require__(/*! ms */ \"./node_modules/ms/index.js\");\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/commons.js\":\n/*!************************************************************************************!*\\\n  !*** ./node_modules/engine.io-client/node_modules/engine.io-parser/lib/commons.js ***!\n  \\************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nconst PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\n\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n  PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\n\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\n\nmodule.exports = {\n  PACKET_TYPES,\n  PACKET_TYPES_REVERSE,\n  ERROR_PACKET\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/decodePacket.browser.js\":\n/*!*************************************************************************************************!*\\\n  !*** ./node_modules/engine.io-client/node_modules/engine.io-parser/lib/decodePacket.browser.js ***!\n  \\*************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst { PACKET_TYPES_REVERSE, ERROR_PACKET } = __webpack_require__(/*! ./commons */ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/commons.js\");\n\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\nlet base64decoder;\nif (withNativeArrayBuffer) {\n  base64decoder = __webpack_require__(/*! base64-arraybuffer */ \"./node_modules/engine.io-client/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js\");\n}\n\nconst decodePacket = (encodedPacket, binaryType) => {\n  if (typeof encodedPacket !== \"string\") {\n    return {\n      type: \"message\",\n      data: mapBinary(encodedPacket, binaryType)\n    };\n  }\n  const type = encodedPacket.charAt(0);\n  if (type === \"b\") {\n    return {\n      type: \"message\",\n      data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n    };\n  }\n  const packetType = PACKET_TYPES_REVERSE[type];\n  if (!packetType) {\n    return ERROR_PACKET;\n  }\n  return encodedPacket.length > 1\n    ? {\n        type: PACKET_TYPES_REVERSE[type],\n        data: encodedPacket.substring(1)\n      }\n    : {\n        type: PACKET_TYPES_REVERSE[type]\n      };\n};\n\nconst decodeBase64Packet = (data, binaryType) => {\n  if (base64decoder) {\n    const decoded = base64decoder.decode(data);\n    return mapBinary(decoded, binaryType);\n  } else {\n    return { base64: true, data }; // fallback for old browsers\n  }\n};\n\nconst mapBinary = (data, binaryType) => {\n  switch (binaryType) {\n    case \"blob\":\n      return data instanceof ArrayBuffer ? new Blob([data]) : data;\n    case \"arraybuffer\":\n    default:\n      return data; // assuming the data is already an ArrayBuffer\n  }\n};\n\nmodule.exports = decodePacket;\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/encodePacket.browser.js\":\n/*!*************************************************************************************************!*\\\n  !*** ./node_modules/engine.io-client/node_modules/engine.io-parser/lib/encodePacket.browser.js ***!\n  \\*************************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst { PACKET_TYPES } = __webpack_require__(/*! ./commons */ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/commons.js\");\n\nconst withNativeBlob =\n  typeof Blob === \"function\" ||\n  (typeof Blob !== \"undefined\" &&\n    Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n  return typeof ArrayBuffer.isView === \"function\"\n    ? ArrayBuffer.isView(obj)\n    : obj && obj.buffer instanceof ArrayBuffer;\n};\n\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n  if (withNativeBlob && data instanceof Blob) {\n    if (supportsBinary) {\n      return callback(data);\n    } else {\n      return encodeBlobAsBase64(data, callback);\n    }\n  } else if (\n    withNativeArrayBuffer &&\n    (data instanceof ArrayBuffer || isView(data))\n  ) {\n    if (supportsBinary) {\n      return callback(data instanceof ArrayBuffer ? data : data.buffer);\n    } else {\n      return encodeBlobAsBase64(new Blob([data]), callback);\n    }\n  }\n  // plain string\n  return callback(PACKET_TYPES[type] + (data || \"\"));\n};\n\nconst encodeBlobAsBase64 = (data, callback) => {\n  const fileReader = new FileReader();\n  fileReader.onload = function() {\n    const content = fileReader.result.split(\",\")[1];\n    callback(\"b\" + content);\n  };\n  return fileReader.readAsDataURL(data);\n};\n\nmodule.exports = encodePacket;\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/index.js\":\n/*!**********************************************************************************!*\\\n  !*** ./node_modules/engine.io-client/node_modules/engine.io-parser/lib/index.js ***!\n  \\**********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst encodePacket = __webpack_require__(/*! ./encodePacket */ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/encodePacket.browser.js\");\nconst decodePacket = __webpack_require__(/*! ./decodePacket */ \"./node_modules/engine.io-client/node_modules/engine.io-parser/lib/decodePacket.browser.js\");\n\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\n\nconst encodePayload = (packets, callback) => {\n  // some packets may be added to the array while encoding, so the initial length must be saved\n  const length = packets.length;\n  const encodedPackets = new Array(length);\n  let count = 0;\n\n  packets.forEach((packet, i) => {\n    // force base64 encoding for binary packets\n    encodePacket(packet, false, encodedPacket => {\n      encodedPackets[i] = encodedPacket;\n      if (++count === length) {\n        callback(encodedPackets.join(SEPARATOR));\n      }\n    });\n  });\n};\n\nconst decodePayload = (encodedPayload, binaryType) => {\n  const encodedPackets = encodedPayload.split(SEPARATOR);\n  const packets = [];\n  for (let i = 0; i < encodedPackets.length; i++) {\n    const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n    packets.push(decodedPacket);\n    if (decodedPacket.type === \"error\") {\n      break;\n    }\n  }\n  return packets;\n};\n\nmodule.exports = {\n  protocol: 4,\n  encodePacket,\n  encodePayload,\n  decodePacket,\n  decodePayload\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/node_modules/parseqs/index.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/engine.io-client/node_modules/parseqs/index.js ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/engine.io-client/node_modules/parseuri/index.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/engine.io-client/node_modules/parseuri/index.js ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/has-cors/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/has-cors/index.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/ieee754/index.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/ieee754/index.js ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/isarray/index.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/isarray/index.js ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n/***/ }),\n\n/***/ \"./node_modules/ms/index.js\":\n/*!**********************************!*\\\n  !*** ./node_modules/ms/index.js ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/process/browser.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/process/browser.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/build/index.js\":\n/*!******************************************************!*\\\n  !*** ./node_modules/socket.io-client/build/index.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = exports.io = exports.Manager = exports.protocol = void 0;\nconst url_1 = __webpack_require__(/*! ./url */ \"./node_modules/socket.io-client/build/url.js\");\nconst manager_1 = __webpack_require__(/*! ./manager */ \"./node_modules/socket.io-client/build/manager.js\");\nconst socket_1 = __webpack_require__(/*! ./socket */ \"./node_modules/socket.io-client/build/socket.js\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_1.Socket; } });\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/socket.io-client/node_modules/debug/src/browser.js\")(\"socket.io-client\");\n/**\n * Module exports.\n */\nmodule.exports = exports = lookup;\n/**\n * Managers cache.\n */\nconst cache = (exports.managers = {});\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url_1.url(uri, opts.path);\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new manager_1.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new manager_1.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\nexports.io = lookup;\n/**\n * Protocol version.\n *\n * @public\n */\nvar socket_io_parser_1 = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-client/node_modules/socket.io-parser/dist/index.js\");\nObject.defineProperty(exports, \"protocol\", { enumerable: true, get: function () { return socket_io_parser_1.protocol; } });\n/**\n * `connect`.\n *\n * @param {String} uri\n * @public\n */\nexports.connect = lookup;\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nvar manager_2 = __webpack_require__(/*! ./manager */ \"./node_modules/socket.io-client/build/manager.js\");\nObject.defineProperty(exports, \"Manager\", { enumerable: true, get: function () { return manager_2.Manager; } });\nexports.default = lookup;\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/build/manager.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/socket.io-client/build/manager.js ***!\n  \\********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Manager = void 0;\nconst eio = __webpack_require__(/*! engine.io-client */ \"./node_modules/engine.io-client/lib/index.js\");\nconst socket_1 = __webpack_require__(/*! ./socket */ \"./node_modules/socket.io-client/build/socket.js\");\nconst parser = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-client/node_modules/socket.io-parser/dist/index.js\");\nconst on_1 = __webpack_require__(/*! ./on */ \"./node_modules/socket.io-client/build/on.js\");\nconst Backoff = __webpack_require__(/*! backo2 */ \"./node_modules/backo2/index.js\");\nconst typed_events_1 = __webpack_require__(/*! ./typed-events */ \"./node_modules/socket.io-client/build/typed-events.js\");\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/socket.io-client/node_modules/debug/src/browser.js\")(\"socket.io-client:manager\");\nclass Manager extends typed_events_1.StrictEventEmitter {\n    constructor(uri, opts) {\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor(opts.randomizationFactor || 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = eio(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on_1.on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on_1.on(socket, \"error\", (err) => {\n            debug(\"error\");\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = setTimeout(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                socket.close();\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on_1.on(socket, \"ping\", this.onping.bind(this)), on_1.on(socket, \"data\", this.ondata.bind(this)), on_1.on(socket, \"error\", this.onerror.bind(this)), on_1.on(socket, \"close\", this.onclose.bind(this)), on_1.on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new socket_1.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        if (\"opening\" === this._readyState) {\n            // `onclose` will not fire because\n            // an open event never happened\n            this.cleanup();\n        }\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason) {\n        debug(\"onclose\");\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = setTimeout(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\nexports.Manager = Manager;\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/build/on.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/socket.io-client/build/on.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.on = void 0;\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\nexports.on = on;\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/build/socket.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/socket.io-client/build/socket.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst socket_io_parser_1 = __webpack_require__(/*! socket.io-parser */ \"./node_modules/socket.io-client/node_modules/socket.io-parser/dist/index.js\");\nconst on_1 = __webpack_require__(/*! ./on */ \"./node_modules/socket.io-client/build/on.js\");\nconst typed_events_1 = __webpack_require__(/*! ./typed-events */ \"./node_modules/socket.io-client/build/typed-events.js\");\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/socket.io-client/node_modules/debug/src/browser.js\")(\"socket.io-client:socket\");\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nclass Socket extends typed_events_1.StrictEventEmitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        this.ids = 0;\n        this.acks = {};\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.connected = false;\n        this.disconnected = true;\n        this.flags = {};\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on_1.on(io, \"open\", this.onopen.bind(this)),\n            on_1.on(io, \"packet\", this.onpacket.bind(this)),\n            on_1.on(io, \"error\", this.onerror.bind(this)),\n            on_1.on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: socket_io_parser_1.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            debug(\"emitting packet with ack id %d\", this.ids);\n            this.acks[this.ids] = args.pop();\n            packet.id = this.ids++;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @private\n     */\n    onclose(reason) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser_1.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser_1.PacketType.EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser_1.PacketType.CONNECT_ERROR:\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: socket_io_parser_1.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        this.emitReserved(\"connect\");\n        this.emitBuffered();\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => this.packet(packet));\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n}\nexports.Socket = Socket;\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/build/typed-events.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/socket.io-client/build/typed-events.js ***!\n  \\*************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StrictEventEmitter = void 0;\nconst Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\n/**\n * Strictly typed version of an `EventEmitter`. A `TypedEventEmitter` takes type\n * parameters for mappings of event names to event data types, and strictly\n * types method calls to the `EventEmitter` according to these event maps.\n *\n * @typeParam ListenEvents - `EventsMap` of user-defined events that can be\n * listened to with `on` or `once`\n * @typeParam EmitEvents - `EventsMap` of user-defined events that can be\n * emitted with `emit`\n * @typeParam ReservedEvents - `EventsMap` of reserved events, that can be\n * emitted by socket.io with `emitReserved`, and can be listened to with\n * `listen`.\n */\nclass StrictEventEmitter extends Emitter {\n    /**\n     * Adds the `listener` function as an event listener for `ev`.\n     *\n     * @param ev Name of the event\n     * @param listener Callback function\n     */\n    on(ev, listener) {\n        super.on(ev, listener);\n        return this;\n    }\n    /**\n     * Adds a one-time `listener` function as an event listener for `ev`.\n     *\n     * @param ev Name of the event\n     * @param listener Callback function\n     */\n    once(ev, listener) {\n        super.once(ev, listener);\n        return this;\n    }\n    /**\n     * Emits an event.\n     *\n     * @param ev Name of the event\n     * @param args Values to send to listeners of this event\n     */\n    emit(ev, ...args) {\n        super.emit(ev, ...args);\n        return this;\n    }\n    /**\n     * Emits a reserved event.\n     *\n     * This method is `protected`, so that only a class extending\n     * `StrictEventEmitter` can emit its own reserved events.\n     *\n     * @param ev Reserved event name\n     * @param args Arguments to emit along with the event\n     */\n    emitReserved(ev, ...args) {\n        super.emit(ev, ...args);\n        return this;\n    }\n    /**\n     * Returns the listeners listening to an event.\n     *\n     * @param event Event name\n     * @returns Array of listeners subscribed to `event`\n     */\n    listeners(event) {\n        return super.listeners(event);\n    }\n}\nexports.StrictEventEmitter = StrictEventEmitter;\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/build/url.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/socket.io-client/build/url.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.url = void 0;\nconst parseuri = __webpack_require__(/*! parseuri */ \"./node_modules/socket.io-client/node_modules/parseuri/index.js\");\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/socket.io-client/node_modules/debug/src/browser.js\")(\"socket.io-client:url\");\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = parseuri(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\nexports.url = url;\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/node_modules/debug/src/browser.js\":\n/*!*************************************************************************!*\\\n  !*** ./node_modules/socket.io-client/node_modules/debug/src/browser.js ***!\n  \\*************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = __webpack_require__(/*! ./common */ \"./node_modules/socket.io-client/node_modules/debug/src/common.js\")(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/node_modules/debug/src/common.js\":\n/*!************************************************************************!*\\\n  !*** ./node_modules/socket.io-client/node_modules/debug/src/common.js ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = __webpack_require__(/*! ms */ \"./node_modules/ms/index.js\");\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/node_modules/parseuri/index.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/socket.io-client/node_modules/parseuri/index.js ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/node_modules/socket.io-parser/dist/binary.js\":\n/*!************************************************************************************!*\\\n  !*** ./node_modules/socket.io-client/node_modules/socket.io-parser/dist/binary.js ***!\n  \\************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reconstructPacket = exports.deconstructPacket = void 0;\nconst is_binary_1 = __webpack_require__(/*! ./is-binary */ \"./node_modules/socket.io-client/node_modules/socket.io-parser/dist/is-binary.js\");\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nexports.deconstructPacket = deconstructPacket;\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (is_binary_1.isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nexports.reconstructPacket = reconstructPacket;\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/node_modules/socket.io-parser/dist/index.js\":\n/*!***********************************************************************************!*\\\n  !*** ./node_modules/socket.io-client/node_modules/socket.io-parser/dist/index.js ***!\n  \\***********************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;\nconst Emitter = __webpack_require__(/*! component-emitter */ \"./node_modules/component-emitter/index.js\");\nconst binary_1 = __webpack_require__(/*! ./binary */ \"./node_modules/socket.io-client/node_modules/socket.io-parser/dist/binary.js\");\nconst is_binary_1 = __webpack_require__(/*! ./is-binary */ \"./node_modules/socket.io-client/node_modules/socket.io-parser/dist/is-binary.js\");\nconst debug = __webpack_require__(/*! debug */ \"./node_modules/socket.io-client/node_modules/debug/src/browser.js\")(\"socket.io-parser\");\n/**\n * Protocol version.\n *\n * @public\n */\nexports.protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType = exports.PacketType || (exports.PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (is_binary_1.hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = binary_1.deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\nexports.Encoder = Encoder;\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends Emitter {\n    constructor() {\n        super();\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emit(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emit(\"decoded\", packet);\n            }\n        }\n        else if (is_binary_1.isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emit(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\nexports.Decoder = Decoder;\nfunction tryParse(str) {\n    try {\n        return JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = binary_1.reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/socket.io-client/node_modules/socket.io-parser/dist/is-binary.js\":\n/*!***************************************************************************************!*\\\n  !*** ./node_modules/socket.io-client/node_modules/socket.io-parser/dist/is-binary.js ***!\n  \\***************************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasBinary = exports.isBinary = void 0;\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexports.isBinary = isBinary;\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasBinary = hasBinary;\n\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/global.js\":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"./node_modules/worker-loader/dist/workers/InlineWorker.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/worker-loader/dist/workers/InlineWorker.js ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\n\nvar URL = window.URL || window.webkitURL;\n\nmodule.exports = function (content, url) {\n  try {\n    try {\n      var blob;\n\n      try {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n\n        blob = new BlobBuilder();\n\n        blob.append(content);\n\n        blob = blob.getBlob();\n      } catch (e) {\n        // The proposed API\n        blob = new Blob([content]);\n      }\n\n      return new Worker(URL.createObjectURL(blob));\n    } catch (e) {\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error('Inline worker is not supported');\n    }\n\n    return new Worker(url);\n  }\n};\n\n/***/ }),\n\n/***/ \"./node_modules/yeast/index.js\":\n/*!*************************************!*\\\n  !*** ./node_modules/yeast/index.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n\n/***/ }),\n\n/***/ \"./package.json\":\n/*!**********************!*\\\n  !*** ./package.json ***!\n  \\**********************/\n/*! exports provided: name, version, description, module, scripts, repository, keywords, author, license, bugs, homepage, dependencies, devDependencies, eslintConfig, default */\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"name\\\":\\\"imjoy-rpc\\\",\\\"version\\\":\\\"0.2.42\\\",\\\"description\\\":\\\"Remote procedure calls for ImJoy.\\\",\\\"module\\\":\\\"index.js\\\",\\\"scripts\\\":{\\\"build\\\":\\\"rm -rf dist && npm run build-umd\\\",\\\"build-umd\\\":\\\"webpack --config webpack.config.js --mode development && NODE_ENV=production webpack --config webpack.config.js --mode production --devtool source-map \\\",\\\"watch\\\":\\\"NODE_ENV=production webpack --watch --progress --config webpack.config.js --mode production --devtool source-map\\\",\\\"publish-npm\\\":\\\"npm install && npm run build && npm publish\\\",\\\"serve\\\":\\\"webpack-dev-server\\\",\\\"stats\\\":\\\"webpack --profile --json > stats.json\\\",\\\"stats-prod\\\":\\\"webpack --profile --json --mode production > stats-prod.json\\\",\\\"analyze\\\":\\\"webpack-bundle-analyzer -p 9999 stats.json\\\",\\\"analyze-prod\\\":\\\"webpack-bundle-analyzer -p 9999 stats-prod.json\\\",\\\"clean\\\":\\\"rimraf dist/*\\\",\\\"deploy\\\":\\\"npm run build && node deploy-site.js\\\",\\\"format\\\":\\\"prettier --write \\\\\\\"{src,tests}/**/**\\\\\\\"\\\",\\\"check-format\\\":\\\"prettier --check \\\\\\\"{src,tests}/**/**\\\\\\\"\\\",\\\"test\\\":\\\"karma start --single-run --browsers ChromeHeadless,FirefoxHeadless karma.conf.js\\\",\\\"test-watch\\\":\\\"karma start --auto-watch --browsers Chrome,FirefoxHeadless karma.conf.js --debug\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/imjoy-team/imjoy-rpc.git\\\"},\\\"keywords\\\":[\\\"imjoy\\\",\\\"rpc\\\"],\\\"author\\\":\\\"imjoy-team <imjoy.team@gmail.com>\\\",\\\"license\\\":\\\"MIT\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/imjoy-team/imjoy-rpc/issues\\\"},\\\"homepage\\\":\\\"https://github.com/imjoy-team/imjoy-rpc\\\",\\\"dependencies\\\":{\\\"socket.io-client\\\":\\\"^4.0.1\\\"},\\\"devDependencies\\\":{\\\"@babel/core\\\":\\\"^7.0.0-beta.39\\\",\\\"@babel/plugin-syntax-dynamic-import\\\":\\\"^7.0.0-beta.39\\\",\\\"@babel/polyfill\\\":\\\"^7.0.0-beta.39\\\",\\\"@babel/preset-env\\\":\\\"^7.0.0-beta.39\\\",\\\"@types/requirejs\\\":\\\"^2.1.28\\\",\\\"babel-core\\\":\\\"^6.26.0\\\",\\\"babel-eslint\\\":\\\"^10.1.0\\\",\\\"babel-loader\\\":\\\"^8.1.0\\\",\\\"babel-runtime\\\":\\\"^6.26.0\\\",\\\"chai\\\":\\\"^4.2.0\\\",\\\"clean-webpack-plugin\\\":\\\"^0.1.19\\\",\\\"copy-webpack-plugin\\\":\\\"^5.0.5\\\",\\\"eslint\\\":\\\"^6.8.0\\\",\\\"eslint-config-prettier\\\":\\\"^4.2.0\\\",\\\"eslint-loader\\\":\\\"^4.0.2\\\",\\\"file-loader\\\":\\\"^0.11.2\\\",\\\"fs-extra\\\":\\\"^0.30.0\\\",\\\"gh-pages\\\":\\\"^2.0.1\\\",\\\"html-loader\\\":\\\"^0.5.5\\\",\\\"html-webpack-plugin\\\":\\\"^3.2.0\\\",\\\"json-loader\\\":\\\"^0.5.4\\\",\\\"karma\\\":\\\"^4.4.1\\\",\\\"karma-chrome-launcher\\\":\\\"^3.1.0\\\",\\\"karma-firefox-launcher\\\":\\\"^1.3.0\\\",\\\"karma-mocha\\\":\\\"^1.3.0\\\",\\\"karma-spec-reporter\\\":\\\"0.0.32\\\",\\\"karma-webpack\\\":\\\"^4.0.2\\\",\\\"lerna\\\":\\\"^3.8.0\\\",\\\"lodash.debounce\\\":\\\"^4.0.8\\\",\\\"mocha\\\":\\\"^7.1.2\\\",\\\"postcss\\\":\\\"^6.0.2\\\",\\\"prettier\\\":\\\"^1.6.1\\\",\\\"rimraf\\\":\\\"^2.6.2\\\",\\\"schema-utils\\\":\\\"^0.4.3\\\",\\\"socket.io-client\\\":\\\"^2.3.0\\\",\\\"style-loader\\\":\\\"^0.18.1\\\",\\\"url-loader\\\":\\\"^0.5.9\\\",\\\"webpack\\\":\\\"^4.0.0\\\",\\\"webpack-bundle-analyzer\\\":\\\"^3.3.2\\\",\\\"webpack-cli\\\":\\\"^3.1.2\\\",\\\"webpack-dev-server\\\":\\\"^3.1.1\\\",\\\"webpack-merge\\\":\\\"^4.1.1\\\",\\\"workbox-webpack-plugin\\\":\\\"^4.3.1\\\",\\\"worker-loader\\\":\\\"^2.0.0\\\",\\\"write-file-webpack-plugin\\\":\\\"^4.5.1\\\"},\\\"eslintConfig\\\":{\\\"globals\\\":{\\\"document\\\":true,\\\"window\\\":true}}}\");\n\n/***/ }),\n\n/***/ \"./src/main.js\":\n/*!*********************!*\\\n  !*** ./src/main.js ***!\n  \\*********************/\n/*! exports provided: RPC, API_VERSION, VERSION, waitForInitialization, setupRPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"waitForInitialization\", function() { return waitForInitialization; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupRPC\", function() { return setupRPC; });\n/* harmony import */ var _plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./plugin.webworker.js */ \"./src/plugin.webworker.js\");\n/* harmony import */ var _plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _pluginIframe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pluginIframe.js */ \"./src/pluginIframe.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rpc.js */ \"./src/rpc.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RPC\", function() { return _rpc_js__WEBPACK_IMPORTED_MODULE_3__[\"RPC\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"API_VERSION\", function() { return _rpc_js__WEBPACK_IMPORTED_MODULE_3__[\"API_VERSION\"]; });\n\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../package.json */ \"./package.json\", 1);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"VERSION\", function() { return _package_json__WEBPACK_IMPORTED_MODULE_4__[\"version\"]; });\n\n/**\n * Contains the code executed in the sandboxed frame under web-browser\n *\n * Tries to create a Web-Worker inside the frame and set up the\n * communication between the worker and the parent window. Some\n * browsers restrict creating a worker inside a sandboxed iframe - if\n * this happens, the plugin initialized right inside the frame (in the\n * same thread)\n */\n\n\n\n\n\n\nfunction _inIframe() {\n  try {\n    return window.self !== window.top;\n  } catch (e) {\n    return true;\n  }\n}\n/**\n * Initializes the plugin inside a web worker. May throw an exception\n * in case this was not permitted by the browser.\n */\n\n\nfunction setupWebWorker(config) {\n  if (!config.allow_execution) throw new Error(\"web-worker plugin can only work with allow_execution=true\");\n  const worker = new _plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0___default.a(); // mixed content warning in Chrome silently skips worker\n  // initialization without exception, handling this with timeout\n\n  const fallbackTimeout = setTimeout(function () {\n    worker.terminate();\n    console.warn(`Plugin failed to start as a web-worker, running in an iframe instead.`);\n    Object(_pluginIframe_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n  }, 2000);\n  const peer_id = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"randId\"])(); // forwarding messages between the worker and parent window\n\n  worker.addEventListener(\"message\", function (e) {\n    let transferables = undefined;\n    const m = e.data;\n\n    if (m.type === \"worker-ready\") {\n      // send config to the worker\n      worker.postMessage({\n        type: \"connectRPC\",\n        config: config\n      });\n      clearTimeout(fallbackTimeout);\n      return;\n    } else if (m.type === \"initialized\") {\n      // complete the missing fields\n      m.config = Object.assign({}, config, m.config);\n      m.origin = window.location.origin;\n      m.peer_id = peer_id;\n    } else if (m.type === \"imjoy_remote_api_ready\") {\n      // if it's a webworker, there will be no api object returned\n      window.dispatchEvent(new CustomEvent(\"imjoy_remote_api_ready\", {\n        detail: null\n      }));\n    } else if (m.type === \"cacheRequirements\" && typeof cache_requirements === \"function\") {\n      cache_requirements(m.requirements);\n    } else if (m.type === \"disconnect\") {\n      worker.terminate();\n    } else {\n      if (m.__transferables__) {\n        transferables = m.__transferables__;\n        delete m.__transferables__;\n      }\n    }\n\n    parent.postMessage(m, config.target_origin || \"*\", transferables);\n  });\n  window.addEventListener(\"message\", function (e) {\n    let transferables = undefined;\n    const m = e.data;\n\n    if (m.__transferables__) {\n      transferables = m.__transferables__;\n      delete m.__transferables__;\n    }\n\n    if (m.peer_id === peer_id) {\n      worker.postMessage(m, transferables);\n    } else if (config.debug) {\n      console.log(`connection peer id mismatch ${m.peer_id} !== ${peer_id}`);\n    }\n  });\n}\n\nfunction waitForInitialization(config) {\n  if (!_inIframe()) {\n    throw new Error(\"waitForInitialization (imjoy-rpc) should only run inside an iframe.\");\n  }\n\n  config = config || {};\n  const targetOrigin = config.target_origin || \"*\";\n\n  if (config.credential_required && typeof config.verify_credential !== \"function\") {\n    throw new Error(\"Please also provide the `verify_credential` function with `credential_required`.\");\n  }\n\n  if (config.credential_required && targetOrigin === \"*\") {\n    throw new Error(\"`target_origin` was set to `*` with `credential_required=true`, there is a security risk that you may leak the credential to website from other origin. Please specify the `target_origin` explicitly.\");\n  }\n\n  const done = () => {\n    window.removeEventListener(\"message\", handleEvent);\n  };\n\n  const peer_id = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"randId\"])();\n\n  const handleEvent = e => {\n    if (e.type === \"message\" && (targetOrigin === \"*\" || e.origin === targetOrigin)) {\n      if (e.data.type === \"initialize\") {\n        done();\n\n        if (e.data.peer_id !== peer_id) {\n          // TODO: throw an error when we are sure all the peers will send the peer_id\n          console.warn(`${e.data.config && e.data.config.name}: connection peer id mismatch ${e.data.peer_id} !== ${peer_id}`);\n        }\n\n        const cfg = e.data.config; // override the target_origin setting if it's configured by the rpc client\n        // otherwise take the setting from the core\n\n        if (targetOrigin !== \"*\") {\n          cfg.target_origin = targetOrigin;\n        }\n\n        if (config.credential_required) {\n          config.verify_credential(cfg.credential).then(result => {\n            if (result && result.auth && !result.error) {\n              // pass the authentication information with tokens\n              cfg.auth = result.auth;\n              setupRPC(cfg).then(() => {\n                console.log(\"ImJoy RPC loaded successfully!\");\n              });\n            } else {\n              throw new Error(\"Failed to verify the credentail:\" + (result && result.error));\n            }\n          });\n        } else {\n          setupRPC(cfg).then(() => {\n            console.log(\"ImJoy RPC loaded successfully!\");\n          });\n        }\n      } else {\n        throw new Error(`unrecognized message: ${e.data}`);\n      }\n    }\n  };\n\n  window.addEventListener(\"message\", handleEvent);\n  parent.postMessage({\n    type: \"imjoyRPCReady\",\n    config: config,\n    peer_id: peer_id\n  }, \"*\");\n}\nfunction setupRPC(config) {\n  config = config || {};\n  if (!config.name) throw new Error(\"Please specify a name for your app.\");\n  config = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"normalizeConfig\"])(config);\n  return new Promise((resolve, reject) => {\n    const handleEvent = e => {\n      const api = e.detail;\n\n      if (config.expose_api_globally) {\n        window.api = api;\n      } // imjoy plugin api\n\n\n      resolve(api);\n      window.removeEventListener(\"imjoy_remote_api_ready\", handleEvent);\n    };\n\n    if (_inIframe()) {\n      if (config.type === \"web-worker\") {\n        try {\n          setupWebWorker(config);\n        } catch (e) {\n          // fallback to iframe\n          Object(_pluginIframe_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n        }\n      } else if ([\"rpc-window\", \"rpc-worker\", \"iframe\", \"window\"].includes(config.type)) {\n        Object(_pluginIframe_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(config);\n      } else {\n        console.error(\"Unsupported plugin type: \" + config.type);\n        reject(\"Unsupported plugin type: \" + config.type);\n        return;\n      }\n\n      window.addEventListener(\"imjoy_remote_api_ready\", handleEvent);\n    } else {\n      reject(new Error(\"imjoy-rpc should only run inside an iframe.\"));\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./src/plugin.webworker.js\":\n/*!*********************************!*\\\n  !*** ./src/plugin.webworker.js ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function() {\n  return __webpack_require__(/*! !./node_modules/worker-loader/dist/workers/InlineWorker.js */ \"./node_modules/worker-loader/dist/workers/InlineWorker.js\")(\"/******/ (function(modules) { // webpackBootstrap\\n/******/ \\t// The module cache\\n/******/ \\tvar installedModules = {};\\n/******/\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tif(installedModules[moduleId]) {\\n/******/ \\t\\t\\treturn installedModules[moduleId].exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = installedModules[moduleId] = {\\n/******/ \\t\\t\\ti: moduleId,\\n/******/ \\t\\t\\tl: false,\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n/******/\\n/******/ \\t\\t// Flag the module as loaded\\n/******/ \\t\\tmodule.l = true;\\n/******/\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/\\n/******/\\n/******/ \\t// expose the modules object (__webpack_modules__)\\n/******/ \\t__webpack_require__.m = modules;\\n/******/\\n/******/ \\t// expose the module cache\\n/******/ \\t__webpack_require__.c = installedModules;\\n/******/\\n/******/ \\t// define getter function for harmony exports\\n/******/ \\t__webpack_require__.d = function(exports, name, getter) {\\n/******/ \\t\\tif(!__webpack_require__.o(exports, name)) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n/******/ \\t\\t}\\n/******/ \\t};\\n/******/\\n/******/ \\t// define __esModule on exports\\n/******/ \\t__webpack_require__.r = function(exports) {\\n/******/ \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n/******/ \\t\\t}\\n/******/ \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n/******/ \\t};\\n/******/\\n/******/ \\t// create a fake namespace object\\n/******/ \\t// mode & 1: value is a module id, require it\\n/******/ \\t// mode & 2: merge all properties of value into the ns\\n/******/ \\t// mode & 4: return value when already ns object\\n/******/ \\t// mode & 8|1: behave like require\\n/******/ \\t__webpack_require__.t = function(value, mode) {\\n/******/ \\t\\tif(mode & 1) value = __webpack_require__(value);\\n/******/ \\t\\tif(mode & 8) return value;\\n/******/ \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n/******/ \\t\\tvar ns = Object.create(null);\\n/******/ \\t\\t__webpack_require__.r(ns);\\n/******/ \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n/******/ \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n/******/ \\t\\treturn ns;\\n/******/ \\t};\\n/******/\\n/******/ \\t// getDefaultExport function for compatibility with non-harmony modules\\n/******/ \\t__webpack_require__.n = function(module) {\\n/******/ \\t\\tvar getter = module && module.__esModule ?\\n/******/ \\t\\t\\tfunction getDefault() { return module['default']; } :\\n/******/ \\t\\t\\tfunction getModuleExports() { return module; };\\n/******/ \\t\\t__webpack_require__.d(getter, 'a', getter);\\n/******/ \\t\\treturn getter;\\n/******/ \\t};\\n/******/\\n/******/ \\t// Object.prototype.hasOwnProperty.call\\n/******/ \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n/******/\\n/******/ \\t// __webpack_public_path__\\n/******/ \\t__webpack_require__.p = \\\"\\\";\\n/******/\\n/******/\\n/******/ \\t// Load entry module and return exports\\n/******/ \\treturn __webpack_require__(__webpack_require__.s = \\\"./src/plugin.webworker.js\\\");\\n/******/ })\\n/************************************************************************/\\n/******/ ({\\n\\n/***/ \\\"./src/plugin.webworker.js\\\":\\n/*!*********************************!*\\\\\\n  !*** ./src/plugin.webworker.js ***!\\n  \\\\*********************************/\\n/*! no exports provided */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\n__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pluginCore.js */ \\\"./src/pluginCore.js\\\");\\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rpc.js */ \\\"./src/rpc.js\\\");\\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \\\"./src/utils.js\\\");\\n/**\\n * Contains the routines loaded by the plugin Worker under web-browser.\\n *\\n * Initializes the web environment version of the platform-dependent\\n * connection object for the plugin site\\n */\\n\\n\\n\\n\\n(function() {\\n  // make sure this runs inside a webworker\\n  if (\\n    typeof WorkerGlobalScope === \\\"undefined\\\" ||\\n    !self ||\\n    !(self instanceof WorkerGlobalScope)\\n  ) {\\n    throw new Error(\\\"This script can only loaded in a webworker\\\");\\n  }\\n  /**\\n   * Connection object provided to the RPC constructor,\\n   * plugin site implementation for the web-based environment.\\n   * Global will be then cleared to prevent exposure into the\\n   * Worker, so we put this local connection object into a closure\\n   */\\n  class Connection extends _utils_js__WEBPACK_IMPORTED_MODULE_2__[\\\"MessageEmitter\\\"] {\\n    constructor(config) {\\n      super(config && config.debug);\\n      this.config = config || {};\\n    }\\n    connect() {\\n      self.addEventListener(\\\"message\\\", e => {\\n        this._fire(e.data.type, e.data);\\n      });\\n      this.emit({\\n        type: \\\"initialized\\\",\\n        config: this.config\\n      });\\n    }\\n    disconnect() {\\n      this._fire(\\\"beforeDisconnect\\\");\\n      self.close();\\n      this._fire(\\\"disconnected\\\");\\n    }\\n    emit(data) {\\n      let transferables = undefined;\\n      if (data.__transferables__) {\\n        transferables = data.__transferables__;\\n        delete data.__transferables__;\\n      }\\n      self.postMessage(data, transferables);\\n    }\\n    async execute(code) {\\n      if (code.type === \\\"requirements\\\") {\\n        try {\\n          if (\\n            code.requirements &&\\n            (Array.isArray(code.requirements) ||\\n              typeof code.requirements === \\\"string\\\")\\n          ) {\\n            try {\\n              if (!Array.isArray(code.requirements)) {\\n                code.requirements = [code.requirements];\\n              }\\n              for (var i = 0; i < code.requirements.length; i++) {\\n                if (\\n                  code.requirements[i].toLowerCase().endsWith(\\\".css\\\") ||\\n                  code.requirements[i].startsWith(\\\"css:\\\")\\n                ) {\\n                  throw \\\"unable to import css in a webworker\\\";\\n                } else if (\\n                  code.requirements[i].toLowerCase().endsWith(\\\".js\\\") ||\\n                  code.requirements[i].startsWith(\\\"js:\\\")\\n                ) {\\n                  if (code.requirements[i].startsWith(\\\"js:\\\")) {\\n                    code.requirements[i] = code.requirements[i].slice(3);\\n                  }\\n                  importScripts(code.requirements[i]);\\n                } else if (code.requirements[i].startsWith(\\\"http\\\")) {\\n                  importScripts(code.requirements[i]);\\n                } else if (code.requirements[i].startsWith(\\\"cache:\\\")) {\\n                  //ignore cache\\n                } else {\\n                  console.log(\\n                    \\\"Unprocessed requirements url: \\\" + code.requirements[i]\\n                  );\\n                }\\n              }\\n            } catch (e) {\\n              throw \\\"failed to import required scripts: \\\" +\\n                code.requirements.toString();\\n            }\\n          }\\n        } catch (e) {\\n          throw e;\\n        }\\n      } else if (code.type === \\\"script\\\") {\\n        try {\\n          if (\\n            code.requirements &&\\n            (Array.isArray(code.requirements) ||\\n              typeof code.requirements === \\\"string\\\")\\n          ) {\\n            try {\\n              if (Array.isArray(code.requirements)) {\\n                for (let i = 0; i < code.requirements.length; i++) {\\n                  importScripts(code.requirements[i]);\\n                }\\n              } else {\\n                importScripts(code.requirements);\\n              }\\n            } catch (e) {\\n              throw \\\"failed to import required scripts: \\\" +\\n                code.requirements.toString();\\n            }\\n          }\\n          eval(code.content);\\n        } catch (e) {\\n          console.error(e.message, e.stack);\\n          throw e;\\n        }\\n      } else {\\n        throw \\\"unsupported code type.\\\";\\n      }\\n      if (code.type === \\\"requirements\\\") {\\n        self.postMessage({\\n          type: \\\"cacheRequirements\\\",\\n          requirements: code.requirements\\n        });\\n      }\\n    }\\n  }\\n  const config = {\\n    type: \\\"web-worker\\\",\\n    dedicated_thread: true,\\n    allow_execution: true,\\n    lang: \\\"javascript\\\",\\n    api_version: _rpc_js__WEBPACK_IMPORTED_MODULE_1__[\\\"API_VERSION\\\"]\\n  };\\n  const conn = new Connection(config);\\n  conn.on(\\\"connectRPC\\\", data => {\\n    Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__[\\\"connectRPC\\\"])(conn, Object.assign(data.config, config));\\n  });\\n  conn.connect();\\n  self.postMessage({\\n    type: \\\"worker-ready\\\"\\n  });\\n})();\\n\\n\\n/***/ }),\\n\\n/***/ \\\"./src/pluginCore.js\\\":\\n/*!***************************!*\\\\\\n  !*** ./src/pluginCore.js ***!\\n  \\\\***************************/\\n/*! exports provided: connectRPC */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\n__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"connectRPC\\\", function() { return connectRPC; });\\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rpc.js */ \\\"./src/rpc.js\\\");\\n/**\\n * Core plugin script loaded into the plugin process/thread.\\n *\\n * Initializes the plugin-site API global methods.\\n */\\n\\nfunction connectRPC(connection, config) {\\n  config = config || {};\\n  const codecs = {};\\n  const rpc = new _rpc_js__WEBPACK_IMPORTED_MODULE_0__[\\\"RPC\\\"](connection, config, codecs);\\n  rpc.on(\\\"getInterface\\\", function () {\\n    launchConnected();\\n  });\\n  rpc.on(\\\"remoteReady\\\", function () {\\n    const api = rpc.getRemote() || {};\\n\\n    api.registerCodec = function (config) {\\n      if (!config[\\\"name\\\"] || !config[\\\"encoder\\\"] && !config[\\\"decoder\\\"]) {\\n        throw new Error(\\\"Invalid codec format, please make sure you provide a name, type, encoder and decoder.\\\");\\n      } else {\\n        if (config.type) {\\n          for (let k of Object.keys(codecs)) {\\n            if (codecs[k].type === config.type || k === config.name) {\\n              delete codecs[k];\\n              console.warn(\\\"Remove duplicated codec: \\\" + k);\\n            }\\n          }\\n        }\\n\\n        codecs[config[\\\"name\\\"]] = config;\\n      }\\n    };\\n\\n    api.init = function (config) {\\n      // register a minimal plugin api\\n      rpc.setInterface({\\n        setup() {}\\n\\n      }, config);\\n    };\\n\\n    api.disposeObject = function (obj) {\\n      rpc.disposeObject(obj);\\n    };\\n\\n    api.export = function (_interface, config) {\\n      rpc.setInterface(_interface, config);\\n    };\\n\\n    api.onLoad = function (handler) {\\n      handler = checkHandler(handler);\\n\\n      if (connected) {\\n        handler();\\n      } else {\\n        connectedHandlers.push(handler);\\n      }\\n    };\\n\\n    api.dispose = function (_interface) {\\n      rpc.disconnect();\\n    };\\n\\n    if (typeof WorkerGlobalScope !== \\\"undefined\\\" && self instanceof WorkerGlobalScope) {\\n      self.api = api;\\n      self.postMessage({\\n        type: \\\"imjoy_remote_api_ready\\\"\\n      });\\n    } else if (typeof window) {\\n      window.dispatchEvent(new CustomEvent(\\\"imjoy_remote_api_ready\\\", {\\n        detail: api\\n      }));\\n    }\\n  });\\n  let connected = false;\\n  const connectedHandlers = [];\\n\\n  const launchConnected = function () {\\n    if (!connected) {\\n      connected = true;\\n      let handler;\\n\\n      while (handler = connectedHandlers.pop()) {\\n        handler();\\n      }\\n    }\\n  };\\n\\n  const checkHandler = function (handler) {\\n    const type = typeof handler;\\n\\n    if (type !== \\\"function\\\") {\\n      const msg = \\\"A function may only be subsribed to the event, \\\" + type + \\\" was provided instead\\\";\\n      throw new Error(msg);\\n    }\\n\\n    return handler;\\n  };\\n\\n  return rpc;\\n}\\n\\n/***/ }),\\n\\n/***/ \\\"./src/rpc.js\\\":\\n/*!********************!*\\\\\\n  !*** ./src/rpc.js ***!\\n  \\\\********************/\\n/*! exports provided: API_VERSION, RPC */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\n__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"API_VERSION\\\", function() { return API_VERSION; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"RPC\\\", function() { return RPC; });\\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \\\"./src/utils.js\\\");\\n/**\\n * Contains the RPC object used both by the application\\n * site, and by each plugin\\n */\\n\\nconst API_VERSION = \\\"0.2.3\\\";\\nconst ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor;\\n\\nfunction _appendBuffer(buffer1, buffer2) {\\n  const tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\\n  tmp.set(new Uint8Array(buffer1), 0);\\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\\n  return tmp.buffer;\\n}\\n\\nfunction indexObject(obj, is) {\\n  if (!is) throw new Error(\\\"undefined index\\\");\\n  if (typeof is === \\\"string\\\") return indexObject(obj, is.split(\\\".\\\"));else if (is.length === 0) return obj;else return indexObject(obj[is[0]], is.slice(1));\\n}\\n/**\\n * RPC object represents a single site in the\\n * communication protocol between the application and the plugin\\n *\\n * @param {Object} connection a special object allowing to send\\n * and receive messages from the opposite site (basically it\\n * should only provide send() and onMessage() methods)\\n */\\n\\n\\nclass RPC extends _utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"MessageEmitter\\\"] {\\n  constructor(connection, config, codecs) {\\n    super(config && config.debug);\\n    this._connection = connection;\\n    this.config = config || {};\\n    this._codecs = codecs || {};\\n    this._object_store = {};\\n    this._method_weakmap = new WeakMap();\\n    this._object_weakmap = new WeakMap();\\n    this._local_api = null; // make sure there is an execute function\\n\\n    const name = this.config.name;\\n\\n    this._connection.execute = this._connection.execute || function () {\\n      throw new Error(`connection.execute not implemented (in \\\"${name}\\\")`);\\n    };\\n\\n    this._store = new ReferenceStore();\\n    this._method_refs = new ReferenceStore();\\n\\n    this._method_refs.onReady(() => {\\n      this._fire(\\\"remoteIdle\\\");\\n    });\\n\\n    this._method_refs.onBusy(() => {\\n      this._fire(\\\"remoteBusy\\\");\\n    });\\n\\n    this._setupMessageHanlders();\\n  }\\n\\n  init() {\\n    this._connection.emit({\\n      type: \\\"initialized\\\",\\n      config: this.config,\\n      peer_id: this._connection.peer_id\\n    });\\n  }\\n\\n  setConfig(config) {\\n    if (config) for (const k of Object.keys(config)) {\\n      this.config[k] = config[k];\\n    }\\n  }\\n  /**\\n   * Set a handler to be called when received a responce from the\\n   * remote site reporting that the previously provided interface\\n   * has been successfully set as remote for that site\\n   *\\n   * @param {Function} handler\\n   */\\n\\n\\n  getRemoteCallStack() {\\n    return this._method_refs.getStack();\\n  }\\n  /**\\n   * @returns {Object} set of remote interface methods\\n   */\\n\\n\\n  getRemote() {\\n    return this._remote_interface;\\n  }\\n  /**\\n   * Sets the interface of this site making it available to the\\n   * remote site by sending a message with a set of methods names\\n   *\\n   * @param {Object} _interface to set\\n   */\\n\\n\\n  setInterface(_interface, config) {\\n    config = config || {};\\n    this.config.name = config.name || this.config.name;\\n    this.config.description = config.description || this.config.description;\\n\\n    if (this.config.forwarding_functions) {\\n      for (let func_name of this.config.forwarding_functions) {\\n        const _remote = this._remote_interface;\\n\\n        if (_remote[func_name]) {\\n          if (_interface.constructor === Object) {\\n            if (!_interface[func_name]) {\\n              _interface[func_name] = (...args) => {\\n                _remote[func_name](...args);\\n              };\\n            }\\n          } else if (_interface.constructor.constructor === Function) {\\n            if (!_interface.constructor.prototype[func_name]) {\\n              _interface.constructor.prototype[func_name] = (...args) => {\\n                _remote[func_name](...args);\\n              };\\n            }\\n          }\\n        }\\n      }\\n    }\\n\\n    this._local_api = _interface;\\n\\n    this._fire(\\\"interfaceAvailable\\\");\\n  }\\n  /**\\n   * Sends the actual interface to the remote site upon it was\\n   * updated or by a special request of the remote site\\n   */\\n\\n\\n  sendInterface() {\\n    if (!this._local_api) {\\n      throw new Error(\\\"interface is not set.\\\");\\n    }\\n\\n    this._encode(this._local_api, true).then(api => {\\n      this._connection.emit({\\n        type: \\\"setInterface\\\",\\n        api: api\\n      });\\n    });\\n  }\\n\\n  _disposeObject(objectId) {\\n    if (this._object_store[objectId]) {\\n      delete this._object_store[objectId];\\n    } else {\\n      throw new Error(`Object (id=${objectId}) not found.`);\\n    }\\n  }\\n\\n  disposeObject(obj) {\\n    return new Promise((resolve, reject) => {\\n      if (this._object_weakmap.has(obj)) {\\n        const objectId = this._object_weakmap.get(obj);\\n\\n        this._connection.once(\\\"disposed\\\", data => {\\n          if (data.error) reject(new Error(data.error));else resolve();\\n        });\\n\\n        this._connection.emit({\\n          type: \\\"disposeObject\\\",\\n          object_id: objectId\\n        });\\n      } else {\\n        throw new Error(\\\"Invalid object\\\");\\n      }\\n    });\\n  }\\n  /**\\n   * Handles a message from the remote site\\n   */\\n\\n\\n  _setupMessageHanlders() {\\n    this._connection.on(\\\"init\\\", this.init);\\n\\n    this._connection.on(\\\"execute\\\", data => {\\n      Promise.resolve(this._connection.execute(data.code)).then(() => {\\n        this._connection.emit({\\n          type: \\\"executed\\\"\\n        });\\n      }).catch(e => {\\n        console.error(e);\\n\\n        this._connection.emit({\\n          type: \\\"executed\\\",\\n          error: String(e)\\n        });\\n      });\\n    });\\n\\n    this._connection.on(\\\"method\\\", async data => {\\n      let resolve, reject, method, method_this, args, result;\\n\\n      try {\\n        if (data.promise) {\\n          [resolve, reject] = await this._unwrap(data.promise, false);\\n        }\\n\\n        const _interface = this._object_store[data.object_id];\\n        method = indexObject(_interface, data.name);\\n\\n        if (data.name.includes(\\\".\\\")) {\\n          const tmp = data.name.split(\\\".\\\");\\n          const intf_index = tmp.slice(0, tmp.length - 1).join(\\\".\\\");\\n          method_this = indexObject(_interface, intf_index);\\n        } else {\\n          method_this = _interface;\\n        }\\n\\n        args = await this._unwrap(data.args, true);\\n\\n        if (data.promise) {\\n          result = method.apply(method_this, args);\\n\\n          if (result instanceof Promise || method.constructor && method.constructor.name === \\\"AsyncFunction\\\") {\\n            result.then(resolve).catch(reject);\\n          } else {\\n            resolve(result);\\n          }\\n        } else {\\n          method.apply(method_this, args);\\n        }\\n      } catch (err) {\\n        console.error(this.config.name, err);\\n\\n        if (reject) {\\n          reject(err);\\n        }\\n      }\\n    });\\n\\n    this._connection.on(\\\"callback\\\", async data => {\\n      let resolve, reject, method, args, result;\\n\\n      try {\\n        if (data.promise) {\\n          [resolve, reject] = await this._unwrap(data.promise, false);\\n        }\\n\\n        if (data.promise) {\\n          method = this._store.fetch(data.id);\\n          args = await this._unwrap(data.args, true);\\n\\n          if (!method) {\\n            throw new Error(\\\"Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\\\");\\n          }\\n\\n          result = method.apply(null, args);\\n\\n          if (result instanceof Promise || method.constructor && method.constructor.name === \\\"AsyncFunction\\\") {\\n            result.then(resolve).catch(reject);\\n          } else {\\n            resolve(result);\\n          }\\n        } else {\\n          method = this._store.fetch(data.id);\\n          args = await this._unwrap(data.args, true);\\n\\n          if (!method) {\\n            throw new Error(\\\"Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\\\");\\n          }\\n\\n          method.apply(null, args);\\n        }\\n      } catch (err) {\\n        console.error(this.config.name, err);\\n\\n        if (reject) {\\n          reject(err);\\n        }\\n      }\\n    });\\n\\n    this._connection.on(\\\"disposeObject\\\", data => {\\n      try {\\n        this._disposeObject(data.object_id);\\n\\n        this._connection.emit({\\n          type: \\\"disposed\\\"\\n        });\\n      } catch (e) {\\n        console.error(e);\\n\\n        this._connection.emit({\\n          type: \\\"disposed\\\",\\n          error: String(e)\\n        });\\n      }\\n    });\\n\\n    this._connection.on(\\\"setInterface\\\", data => {\\n      this._setRemoteInterface(data.api);\\n    });\\n\\n    this._connection.on(\\\"getInterface\\\", () => {\\n      this._fire(\\\"getInterface\\\");\\n\\n      if (this._local_api) {\\n        this.sendInterface();\\n      } else {\\n        this.once(\\\"interfaceAvailable\\\", () => {\\n          this.sendInterface();\\n        });\\n      }\\n    });\\n\\n    this._connection.on(\\\"interfaceSetAsRemote\\\", () => {\\n      this._fire(\\\"interfaceSetAsRemote\\\");\\n    });\\n\\n    this._connection.on(\\\"disconnect\\\", () => {\\n      this._fire(\\\"beforeDisconnect\\\");\\n\\n      this._connection.disconnect();\\n\\n      this._fire(\\\"disconnected\\\");\\n    });\\n  }\\n  /**\\n   * Sends a requests to the remote site asking it to provide its\\n   * current interface\\n   */\\n\\n\\n  requestRemote() {\\n    this._connection.emit({\\n      type: \\\"getInterface\\\"\\n    });\\n  }\\n\\n  _ndarray(typedArray, shape, dtype) {\\n    const _dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"typedArrayToDtype\\\"])(typedArray);\\n\\n    if (dtype && dtype !== _dtype) {\\n      throw \\\"dtype doesn't match the type of the array: \\\" + _dtype + \\\" != \\\" + dtype;\\n    }\\n\\n    shape = shape || [typedArray.length];\\n    return {\\n      _rtype: \\\"ndarray\\\",\\n      _rvalue: typedArray.buffer,\\n      _rshape: shape,\\n      _rdtype: _dtype\\n    };\\n  }\\n  /**\\n   * Sets the new remote interface provided by the other site\\n   *\\n   * @param {Array} names list of function names\\n   */\\n\\n\\n  _setRemoteInterface(api) {\\n    this._decode(api).then(intf => {\\n      // update existing interface instead of recreating it\\n      if (this._remote_interface) {\\n        Object.assign(this._remote_interface, intf);\\n      } else this._remote_interface = intf;\\n\\n      this._fire(\\\"remoteReady\\\");\\n\\n      this._reportRemoteSet();\\n    });\\n  }\\n  /**\\n   * Generates the wrapped function corresponding to a single remote\\n   * method. When the generated function is called, it will send the\\n   * corresponding message to the remote site asking it to execute\\n   * the particular method of its interface\\n   *\\n   * @param {String} name of the remote method\\n   *\\n   * @returns {Function} wrapped remote method\\n   */\\n\\n\\n  _genRemoteMethod(targetId, name, objectId) {\\n    const me = this;\\n\\n    const remoteMethod = function () {\\n      return new Promise(async (resolve, reject) => {\\n        let id = null;\\n\\n        try {\\n          id = me._method_refs.put(objectId ? objectId + \\\"/\\\" + name : name);\\n\\n          const wrapped_resolve = function () {\\n            if (id !== null) me._method_refs.fetch(id);\\n            return resolve.apply(this, arguments);\\n          };\\n\\n          const wrapped_reject = function () {\\n            if (id !== null) me._method_refs.fetch(id);\\n            return reject.apply(this, arguments);\\n          };\\n\\n          const encodedPromise = await me._wrap([wrapped_resolve, wrapped_reject]); // store the key id for removing them from the reference store together\\n\\n          wrapped_resolve.__promise_pair = encodedPromise[1]._rvalue;\\n          wrapped_reject.__promise_pair = encodedPromise[0]._rvalue;\\n          let args = Array.prototype.slice.call(arguments);\\n\\n          if (name === \\\"register\\\" || name === \\\"registerService\\\" || name === \\\"export\\\" || name === \\\"on\\\") {\\n            args = await me._wrap(args, true);\\n          } else {\\n            args = await me._wrap(args);\\n          }\\n\\n          const transferables = args.__transferables__;\\n          if (transferables) delete args.__transferables__;\\n\\n          me._connection.emit({\\n            type: \\\"method\\\",\\n            target_id: targetId,\\n            name: name,\\n            object_id: objectId,\\n            args: args,\\n            promise: encodedPromise\\n          }, transferables);\\n        } catch (e) {\\n          if (id) me._method_refs.fetch(id);\\n          reject(`Failed to exectue remote method (interface: ${objectId || me.id}, method: ${name}), error: ${e}`);\\n        }\\n      });\\n    };\\n\\n    remoteMethod.__remote_method = true;\\n    return remoteMethod;\\n  }\\n  /**\\n   * Sends a responce reporting that interface just provided by the\\n   * remote site was successfully set by this site as remote\\n   */\\n\\n\\n  _reportRemoteSet() {\\n    this._connection.emit({\\n      type: \\\"interfaceSetAsRemote\\\"\\n    });\\n  }\\n  /**\\n   * Prepares the provided set of remote method arguments for\\n   * sending to the remote site, replaces all the callbacks with\\n   * identifiers\\n   *\\n   * @param {Array} args to wrap\\n   *\\n   * @returns {Array} wrapped arguments\\n   */\\n\\n\\n  async _encode(aObject, asInterface, objectId) {\\n    const aType = typeof aObject;\\n\\n    if (aType === \\\"number\\\" || aType === \\\"string\\\" || aType === \\\"boolean\\\" || aObject === null || aObject === undefined || aObject instanceof ArrayBuffer) {\\n      return aObject;\\n    }\\n\\n    let bObject;\\n\\n    if (typeof aObject === \\\"function\\\") {\\n      if (asInterface) {\\n        if (!objectId) throw new Error(\\\"objectId is not specified.\\\");\\n        bObject = {\\n          _rtype: \\\"interface\\\",\\n          _rtarget_id: this._connection.peer_id,\\n          _rintf: objectId,\\n          _rvalue: asInterface\\n        };\\n\\n        this._method_weakmap.set(aObject, bObject);\\n      } else if (this._method_weakmap.has(aObject)) {\\n        bObject = this._method_weakmap.get(aObject);\\n      } else {\\n        const cid = this._store.put(aObject);\\n\\n        bObject = {\\n          _rtype: \\\"callback\\\",\\n          _rtarget_id: this._connection.peer_id,\\n          _rname: aObject.constructor && aObject.constructor.name || cid,\\n          _rvalue: cid\\n        };\\n      }\\n\\n      return bObject;\\n    } // skip if already encoded\\n\\n\\n    if (aObject.constructor instanceof Object && aObject._rtype) {\\n      // make sure the interface functions are encoded\\n      if (aObject._rintf) {\\n        const temp = aObject._rtype;\\n        delete aObject._rtype;\\n        bObject = await this._encode(aObject, asInterface, objectId);\\n        bObject._rtype = temp;\\n      } else {\\n        bObject = aObject;\\n      }\\n\\n      return bObject;\\n    }\\n\\n    const transferables = [];\\n    const _transfer = aObject._transfer;\\n    const isarray = Array.isArray(aObject);\\n\\n    for (let tp of Object.keys(this._codecs)) {\\n      const codec = this._codecs[tp];\\n\\n      if (codec.encoder && aObject instanceof codec.type) {\\n        // TODO: what if multiple encoders found\\n        let encodedObj = await Promise.resolve(codec.encoder(aObject));\\n        if (encodedObj && !encodedObj._rtype) encodedObj._rtype = codec.name; // encode the functions in the interface object\\n\\n        if (encodedObj && encodedObj._rintf) {\\n          const temp = encodedObj._rtype;\\n          delete encodedObj._rtype;\\n          encodedObj = await this._encode(encodedObj, asInterface, objectId);\\n          encodedObj._rtype = temp;\\n        }\\n\\n        bObject = encodedObj;\\n        return bObject;\\n      }\\n    }\\n\\n    if (\\n    /*global tf*/\\n    typeof tf !== \\\"undefined\\\" && tf.Tensor && aObject instanceof tf.Tensor) {\\n      const v_buffer = aObject.dataSync();\\n\\n      if (aObject._transfer || _transfer) {\\n        transferables.push(v_buffer.buffer);\\n        delete aObject._transfer;\\n      }\\n\\n      bObject = {\\n        _rtype: \\\"ndarray\\\",\\n        _rvalue: v_buffer.buffer,\\n        _rshape: aObject.shape,\\n        _rdtype: aObject.dtype\\n      };\\n    } else if (\\n    /*global nj*/\\n    typeof nj !== \\\"undefined\\\" && nj.NdArray && aObject instanceof nj.NdArray) {\\n      const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"typedArrayToDtype\\\"])(aObject.selection.data);\\n\\n      if (aObject._transfer || _transfer) {\\n        transferables.push(aObject.selection.data.buffer);\\n        delete aObject._transfer;\\n      }\\n\\n      bObject = {\\n        _rtype: \\\"ndarray\\\",\\n        _rvalue: aObject.selection.data.buffer,\\n        _rshape: aObject.shape,\\n        _rdtype: dtype\\n      };\\n    } else if (aObject instanceof Error) {\\n      console.error(aObject);\\n      bObject = {\\n        _rtype: \\\"error\\\",\\n        _rvalue: aObject.toString()\\n      };\\n    } else if (typeof File !== \\\"undefined\\\" && aObject instanceof File) {\\n      bObject = {\\n        _rtype: \\\"file\\\",\\n        _rvalue: aObject,\\n        _rpath: aObject._path || aObject.webkitRelativePath\\n      };\\n    } // send objects supported by structure clone algorithm\\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\\n    else if (aObject !== Object(aObject) || aObject instanceof Boolean || aObject instanceof String || aObject instanceof Date || aObject instanceof RegExp || aObject instanceof ImageData || typeof FileList !== \\\"undefined\\\" && aObject instanceof FileList || typeof FileSystemDirectoryHandle !== \\\"undefined\\\" && aObject instanceof FileSystemDirectoryHandle || typeof FileSystemFileHandle !== \\\"undefined\\\" && aObject instanceof FileSystemFileHandle || typeof FileSystemHandle !== \\\"undefined\\\" && aObject instanceof FileSystemHandle || typeof FileSystemWritableFileStream !== \\\"undefined\\\" && aObject instanceof FileSystemWritableFileStream) {\\n        bObject = aObject; // TODO: avoid object such as DynamicPlugin instance.\\n      } else if (typeof File !== \\\"undefined\\\" && aObject instanceof File) {\\n        bObject = {\\n          _rtype: \\\"file\\\",\\n          _rname: aObject.name,\\n          _rmime: aObject.type,\\n          _rvalue: aObject,\\n          _rpath: aObject._path || aObject.webkitRelativePath\\n        };\\n      } else if (aObject instanceof Blob) {\\n        bObject = {\\n          _rtype: \\\"blob\\\",\\n          _rvalue: aObject\\n        };\\n      } else if (aObject instanceof ArrayBufferView) {\\n        if (aObject._transfer || _transfer) {\\n          transferables.push(aObject.buffer);\\n          delete aObject._transfer;\\n        }\\n\\n        const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"typedArrayToDtype\\\"])(aObject);\\n        bObject = {\\n          _rtype: \\\"typedarray\\\",\\n          _rvalue: aObject.buffer,\\n          _rdtype: dtype\\n        };\\n      } else if (aObject instanceof DataView) {\\n        if (aObject._transfer || _transfer) {\\n          transferables.push(aObject.buffer);\\n          delete aObject._transfer;\\n        }\\n\\n        bObject = {\\n          _rtype: \\\"memoryview\\\",\\n          _rvalue: aObject.buffer\\n        };\\n      } else if (aObject instanceof Set) {\\n        bObject = {\\n          _rtype: \\\"set\\\",\\n          _rvalue: await this._encode(Array.from(aObject), asInterface)\\n        };\\n      } else if (aObject instanceof Map) {\\n        bObject = {\\n          _rtype: \\\"orderedmap\\\",\\n          _rvalue: await this._encode(Array.from(aObject), asInterface)\\n        };\\n      } else if (aObject.constructor instanceof Object || Array.isArray(aObject)) {\\n        bObject = isarray ? [] : {};\\n        let keys; // an object/array\\n\\n        if (aObject.constructor === Object || Array.isArray(aObject)) {\\n          keys = Object.keys(aObject);\\n        } // a class\\n        else if (aObject.constructor === Function) {\\n            throw new Error(\\\"Please instantiate the class before exportting it.\\\");\\n          } // instance of a class\\n          else if (aObject.constructor.constructor === Function) {\\n              keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject)); // TODO: use a proxy object to represent the actual object\\n              // always encode class instance as interface\\n\\n              asInterface = true;\\n            } else {\\n              throw Error(\\\"Unsupported interface type\\\");\\n            }\\n\\n        let hasFunction = false; // encode interfaces\\n\\n        if (aObject._rintf || asInterface) {\\n          if (!objectId) {\\n            objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"randId\\\"])();\\n            this._object_store[objectId] = aObject;\\n          }\\n\\n          for (let k of keys) {\\n            if (k === \\\"constructor\\\") continue;\\n\\n            if (k.startsWith(\\\"_\\\")) {\\n              continue;\\n            }\\n\\n            bObject[k] = await this._encode(aObject[k], typeof asInterface === \\\"string\\\" ? asInterface + \\\".\\\" + k : k, objectId);\\n\\n            if (typeof aObject[k] === \\\"function\\\") {\\n              hasFunction = true;\\n            }\\n          } // object id for dispose the object remotely\\n\\n\\n          if (hasFunction) bObject._rintf = objectId; // remove interface when closed\\n\\n          if (aObject.on && typeof aObject.on === \\\"function\\\") {\\n            aObject.on(\\\"close\\\", () => {\\n              delete this._object_store[objectId];\\n            });\\n          }\\n        } else {\\n          for (let k of keys) {\\n            if ([\\\"hasOwnProperty\\\", \\\"constructor\\\"].includes(k)) continue;\\n            bObject[k] = await this._encode(aObject[k]);\\n          }\\n        } // for example, browserFS object\\n\\n      } else if (typeof aObject === \\\"object\\\") {\\n        const keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject));\\n        const objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"randId\\\"])();\\n\\n        for (let k of keys) {\\n          if ([\\\"hasOwnProperty\\\", \\\"constructor\\\"].includes(k)) continue; // encode as interface\\n\\n          bObject[k] = await this._encode(aObject[k], k, bObject);\\n        } // object id, used for dispose the object\\n\\n\\n        bObject._rintf = objectId;\\n      } else {\\n        throw \\\"imjoy-rpc: Unsupported data type:\\\" + aObject;\\n      }\\n\\n    if (transferables.length > 0) {\\n      bObject.__transferables__ = transferables;\\n    }\\n\\n    if (!bObject) {\\n      throw new Error(\\\"Failed to encode object\\\");\\n    }\\n\\n    return bObject;\\n  }\\n\\n  async _decode(aObject, withPromise) {\\n    if (!aObject) {\\n      return aObject;\\n    }\\n\\n    let bObject;\\n\\n    if (aObject[\\\"_rtype\\\"]) {\\n      if (this._codecs[aObject._rtype] && this._codecs[aObject._rtype].decoder) {\\n        if (aObject._rintf) {\\n          const temp = aObject._rtype;\\n          delete aObject._rtype;\\n          aObject = await this._decode(aObject, withPromise);\\n          aObject._rtype = temp;\\n        }\\n\\n        bObject = await Promise.resolve(this._codecs[aObject._rtype].decoder(aObject));\\n      } else if (aObject._rtype === \\\"callback\\\") {\\n        bObject = this._genRemoteCallback(aObject._rtarget_id, aObject._rvalue, withPromise);\\n      } else if (aObject._rtype === \\\"interface\\\") {\\n        bObject = this._genRemoteMethod(aObject._rtarget_id, aObject._rvalue, aObject._rintf);\\n      } else if (aObject._rtype === \\\"ndarray\\\") {\\n        /*global nj tf*/\\n        //create build array/tensor if used in the plugin\\n        if (typeof nj !== \\\"undefined\\\" && nj.array) {\\n          if (Array.isArray(aObject._rvalue)) {\\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\\n          }\\n\\n          bObject = nj.array(new Uint8(aObject._rvalue), aObject._rdtype).reshape(aObject._rshape);\\n        } else if (typeof tf !== \\\"undefined\\\" && tf.Tensor) {\\n          if (Array.isArray(aObject._rvalue)) {\\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\\n          }\\n\\n          const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"dtypeToTypedArray\\\"][aObject._rdtype];\\n          bObject = tf.tensor(new arraytype(aObject._rvalue), aObject._rshape, aObject._rdtype);\\n        } else {\\n          //keep it as regular if transfered to the main app\\n          bObject = aObject;\\n        }\\n      } else if (aObject._rtype === \\\"error\\\") {\\n        bObject = new Error(aObject._rvalue);\\n      } else if (aObject._rtype === \\\"file\\\") {\\n        if (aObject._rvalue instanceof File) {\\n          bObject = aObject._rvalue; //patch _path\\n\\n          bObject._path = aObject._rpath;\\n        } else {\\n          bObject = new File([aObject._rvalue], aObject._rname, {\\n            type: aObject._rmime\\n          });\\n          bObject._path = aObject._rpath;\\n        }\\n      } else if (aObject._rtype === \\\"typedarray\\\") {\\n        const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__[\\\"dtypeToTypedArray\\\"][aObject._rdtype];\\n        if (!arraytype) throw new Error(\\\"unsupported dtype: \\\" + aObject._rdtype);\\n        bObject = new arraytype(aObject._rvalue);\\n      } else if (aObject._rtype === \\\"memoryview\\\") {\\n        bObject = new DataView(aObject._rvalue);\\n      } else if (aObject._rtype === \\\"blob\\\") {\\n        if (aObject._rvalue instanceof Blob) {\\n          bObject = aObject._rvalue;\\n        } else {\\n          bObject = new Blob([aObject._rvalue], {\\n            type: aObject._rmime\\n          });\\n        }\\n      } else if (aObject._rtype === \\\"orderedmap\\\") {\\n        bObject = new Map((await this._decode(aObject._rvalue, withPromise)));\\n      } else if (aObject._rtype === \\\"set\\\") {\\n        bObject = new Set((await this._decode(aObject._rvalue, withPromise)));\\n      } else {\\n        // make sure all the interface functions are decoded\\n        if (aObject._rintf) {\\n          const temp = aObject._rtype;\\n          delete aObject._rtype;\\n          bObject = await this._decode(aObject, withPromise);\\n          bObject._rtype = temp;\\n        } else bObject = aObject;\\n      }\\n    } else if (aObject.constructor === Object || Array.isArray(aObject)) {\\n      const isarray = Array.isArray(aObject);\\n      bObject = isarray ? [] : {};\\n\\n      for (let k of Object.keys(aObject)) {\\n        if (isarray || aObject.hasOwnProperty(k)) {\\n          const v = aObject[k];\\n          bObject[k] = await this._decode(v, withPromise);\\n        }\\n      }\\n    } else {\\n      bObject = aObject;\\n    }\\n\\n    if (bObject === undefined) {\\n      throw new Error(\\\"Failed to decode object\\\");\\n    } // store the object id for dispose\\n\\n\\n    if (aObject._rintf) {\\n      this._object_weakmap.set(bObject, aObject._rintf);\\n    }\\n\\n    return bObject;\\n  }\\n\\n  async _wrap(args, asInterface) {\\n    return await this._encode(args, asInterface);\\n  }\\n  /**\\n   * Unwraps the set of arguments delivered from the remote site,\\n   * replaces all callback identifiers with a function which will\\n   * initiate sending that callback identifier back to other site\\n   *\\n   * @param {Object} args to unwrap\\n   *\\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\\n   *\\n   * @returns {Array} unwrapped args\\n   */\\n\\n\\n  async _unwrap(args, withPromise) {\\n    return await this._decode(args, withPromise);\\n  }\\n  /**\\n   * Generates the wrapped function corresponding to a single remote\\n   * callback. When the generated function is called, it will send\\n   * the corresponding message to the remote site asking it to\\n   * execute the particular callback previously saved during a call\\n   * by the remote site a method from the interface of this site\\n   *\\n   * @param {Number} id of the remote callback to execute\\n   * @param {Number} argNum argument index of the callback\\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\\n   *\\n   * @returns {Function} wrapped remote callback\\n   */\\n\\n\\n  _genRemoteCallback(targetId, cid, withPromise) {\\n    const me = this;\\n    let remoteCallback;\\n\\n    if (withPromise) {\\n      remoteCallback = function () {\\n        return new Promise(async (resolve, reject) => {\\n          const args = await me._wrap(Array.prototype.slice.call(arguments));\\n          const transferables = args.__transferables__;\\n          if (transferables) delete args.__transferables__;\\n          const encodedPromise = await me._wrap([resolve, reject]); // store the key id for removing them from the reference store together\\n\\n          resolve.__promise_pair = encodedPromise[1]._rvalue;\\n          reject.__promise_pair = encodedPromise[0]._rvalue;\\n\\n          try {\\n            me._connection.emit({\\n              type: \\\"callback\\\",\\n              target_id: targetId,\\n              id: cid,\\n              args: args,\\n              promise: encodedPromise\\n            }, transferables);\\n          } catch (e) {\\n            reject(`Failed to exectue remote callback ( id: ${cid}).`);\\n          }\\n        });\\n      };\\n\\n      return remoteCallback;\\n    } else {\\n      remoteCallback = async function () {\\n        const args = await me._wrap(Array.prototype.slice.call(arguments));\\n        const transferables = args.__transferables__;\\n        if (transferables) delete args.__transferables__;\\n        return me._connection.emit({\\n          type: \\\"callback\\\",\\n          target_id: targetId,\\n          id: cid,\\n          args: args\\n        }, transferables);\\n      };\\n\\n      return remoteCallback;\\n    }\\n  }\\n\\n  reset() {\\n    this._event_handlers = {};\\n    this._once_handlers = {};\\n    this._remote_interface = null;\\n    this._object_store = {};\\n    this._method_weakmap = new WeakMap();\\n    this._object_weakmap = new WeakMap();\\n    this._local_api = null;\\n    this._store = new ReferenceStore();\\n    this._method_refs = new ReferenceStore();\\n  }\\n  /**\\n   * Sends the notification message and breaks the connection\\n   */\\n\\n\\n  disconnect() {\\n    this._connection.emit({\\n      type: \\\"disconnect\\\"\\n    });\\n\\n    this.reset();\\n    setTimeout(() => {\\n      this._connection.disconnect();\\n    }, 2000);\\n  }\\n\\n}\\n/**\\n * ReferenceStore is a special object which stores other objects\\n * and provides the references (number) instead. This reference\\n * may then be sent over a json-based communication channel (IPC\\n * to another Node.js process or a message to the Worker). Other\\n * site may then provide the reference in the responce message\\n * implying the given object should be activated.\\n *\\n * Primary usage for the ReferenceStore is a storage for the\\n * callbacks, which therefore makes it possible to initiate a\\n * callback execution by the opposite site (which normally cannot\\n * directly execute functions over the communication channel).\\n *\\n * Each stored object can only be fetched once and is not\\n * available for the second time. Each stored object must be\\n * fetched, since otherwise it will remain stored forever and\\n * consume memory.\\n *\\n * Stored object indeces are simply the numbers, which are however\\n * released along with the objects, and are later reused again (in\\n * order to postpone the overflow, which should not likely happen,\\n * but anyway).\\n */\\n\\nclass ReferenceStore {\\n  constructor() {\\n    this._store = {}; // stored object\\n\\n    this._indices = [0]; // smallest available indices\\n\\n    this._readyHandler = function () {};\\n\\n    this._busyHandler = function () {};\\n\\n    this._readyHandler();\\n  }\\n  /**\\n   * call handler when the store is empty\\n   *\\n   * @param {FUNCTION} id of a handler\\n   */\\n\\n\\n  onReady(readyHandler) {\\n    this._readyHandler = readyHandler || function () {};\\n  }\\n  /**\\n   * call handler when the store is not empty\\n   *\\n   * @param {FUNCTION} id of a handler\\n   */\\n\\n\\n  onBusy(busyHandler) {\\n    this._busyHandler = busyHandler || function () {};\\n  }\\n  /**\\n   * get the length of the store\\n   *\\n   */\\n\\n\\n  getStack() {\\n    return Object.keys(this._store).length;\\n  }\\n  /**\\n   * @function _genId() generates the new reference id\\n   *\\n   * @returns {Number} smallest available id and reserves it\\n   */\\n\\n\\n  _genId() {\\n    let id;\\n\\n    if (this._indices.length === 1) {\\n      id = this._indices[0]++;\\n    } else {\\n      id = this._indices.shift();\\n    }\\n\\n    return id;\\n  }\\n  /**\\n   * Releases the given reference id so that it will be available by\\n   * another object stored\\n   *\\n   * @param {Number} id to release\\n   */\\n\\n\\n  _releaseId(id) {\\n    for (let i = 0; i < this._indices.length; i++) {\\n      if (id < this._indices[i]) {\\n        this._indices.splice(i, 0, id);\\n\\n        break;\\n      }\\n    } // cleaning-up the sequence tail\\n\\n\\n    for (let i = this._indices.length - 1; i >= 0; i--) {\\n      if (this._indices[i] - 1 === this._indices[i - 1]) {\\n        this._indices.pop();\\n      } else {\\n        break;\\n      }\\n    }\\n  }\\n  /**\\n   * Stores the given object and returns the refernce id instead\\n   *\\n   * @param {Object} obj to store\\n   *\\n   * @returns {Number} reference id of the stored object\\n   */\\n\\n\\n  put(obj) {\\n    if (this._busyHandler && Object.keys(this._store).length === 0) {\\n      this._busyHandler();\\n    }\\n\\n    const id = this._genId();\\n\\n    this._store[id] = obj;\\n    return id;\\n  }\\n  /**\\n   * Retrieves previously stored object and releases its reference\\n   *\\n   * @param {Number} id of an object to retrieve\\n   */\\n\\n\\n  fetch(id) {\\n    const obj = this._store[id];\\n\\n    if (obj && !obj.__remote_method) {\\n      delete this._store[id];\\n\\n      this._releaseId(id);\\n\\n      if (this._readyHandler && Object.keys(this._store).length === 0) {\\n        this._readyHandler();\\n      }\\n    }\\n\\n    if (obj && obj.__promise_pair) {\\n      this.fetch(obj.__promise_pair);\\n    }\\n\\n    return obj;\\n  }\\n\\n}\\n\\n/***/ }),\\n\\n/***/ \\\"./src/utils.js\\\":\\n/*!**********************!*\\\\\\n  !*** ./src/utils.js ***!\\n  \\\\**********************/\\n/*! exports provided: randId, dtypeToTypedArray, normalizeConfig, typedArrayToDtypeMapping, typedArrayToDtype, cacheRequirements, setupServiceWorker, urlJoin, MessageEmitter */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\n__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"randId\\\", function() { return randId; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"dtypeToTypedArray\\\", function() { return dtypeToTypedArray; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"normalizeConfig\\\", function() { return normalizeConfig; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"typedArrayToDtypeMapping\\\", function() { return typedArrayToDtypeMapping; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"typedArrayToDtype\\\", function() { return typedArrayToDtype; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"cacheRequirements\\\", function() { return cacheRequirements; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"setupServiceWorker\\\", function() { return setupServiceWorker; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"urlJoin\\\", function() { return urlJoin; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"MessageEmitter\\\", function() { return MessageEmitter; });\\nfunction randId() {\\n  return Math.random().toString(36).substr(2, 10) + new Date().getTime();\\n}\\nconst dtypeToTypedArray = {\\n  int8: Int8Array,\\n  int16: Int16Array,\\n  int32: Int32Array,\\n  uint8: Uint8Array,\\n  uint16: Uint16Array,\\n  uint32: Uint32Array,\\n  float32: Float32Array,\\n  float64: Float64Array,\\n  array: Array\\n};\\nfunction normalizeConfig(config) {\\n  config.version = config.version || \\\"0.1.0\\\";\\n  config.description = config.description || `[TODO: add description for ${config.name} ]`;\\n  config.type = config.type || \\\"rpc-window\\\";\\n  config.id = config.id || randId();\\n  config.allow_execution = config.allow_execution || false;\\n\\n  if (config.enable_service_worker) {\\n    setupServiceWorker(config.base_url, config.target_origin, config.cache_requirements);\\n  }\\n\\n  if (config.cache_requirements) {\\n    delete config.cache_requirements;\\n  } // remove functions\\n\\n\\n  config = Object.keys(config).reduce((p, c) => {\\n    if (typeof config[c] !== \\\"function\\\") p[c] = config[c];\\n    return p;\\n  }, {});\\n  return config;\\n}\\nconst typedArrayToDtypeMapping = {\\n  Int8Array: \\\"int8\\\",\\n  Int16Array: \\\"int16\\\",\\n  Int32Array: \\\"int32\\\",\\n  Uint8Array: \\\"uint8\\\",\\n  Uint16Array: \\\"uint16\\\",\\n  Uint32Array: \\\"uint32\\\",\\n  Float32Array: \\\"float32\\\",\\n  Float64Array: \\\"float64\\\",\\n  Array: \\\"array\\\"\\n};\\nconst typedArrayToDtypeKeys = [];\\n\\nfor (const arrType of Object.keys(typedArrayToDtypeMapping)) {\\n  typedArrayToDtypeKeys.push(eval(arrType));\\n}\\n\\nfunction typedArrayToDtype(obj) {\\n  let dtype = typedArrayToDtypeMapping[obj.constructor.name];\\n\\n  if (!dtype) {\\n    const pt = Object.getPrototypeOf(obj);\\n\\n    for (const arrType of typedArrayToDtypeKeys) {\\n      if (pt instanceof arrType) {\\n        dtype = typedArrayToDtypeMapping[arrType.name];\\n        break;\\n      }\\n    }\\n  }\\n\\n  return dtype;\\n}\\n\\nfunction cacheUrlInServiceWorker(url) {\\n  return new Promise(function (resolve, reject) {\\n    const message = {\\n      command: \\\"add\\\",\\n      url: url\\n    };\\n\\n    if (!navigator.serviceWorker || !navigator.serviceWorker.register) {\\n      reject(\\\"Service worker is not supported.\\\");\\n      return;\\n    }\\n\\n    const messageChannel = new MessageChannel();\\n\\n    messageChannel.port1.onmessage = function (event) {\\n      if (event.data && event.data.error) {\\n        reject(event.data.error);\\n      } else {\\n        resolve(event.data && event.data.result);\\n      }\\n    };\\n\\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\\n      navigator.serviceWorker.controller.postMessage(message, [messageChannel.port2]);\\n    } else {\\n      reject(\\\"Service worker controller is not available\\\");\\n    }\\n  });\\n}\\n\\nasync function cacheRequirements(requirements) {\\n  if (!Array.isArray(requirements)) {\\n    requirementsm.code.requirements = [requirements];\\n  }\\n\\n  if (requirements && requirements.length > 0) {\\n    for (let req of requirements) {\\n      //remove prefix\\n      if (req.startsWith(\\\"js:\\\")) req = req.slice(3);\\n      if (req.startsWith(\\\"css:\\\")) req = req.slice(4);\\n      if (req.startsWith(\\\"cache:\\\")) req = req.slice(6);\\n      if (!req.startsWith(\\\"http\\\")) continue;\\n      await cacheUrlInServiceWorker(req).catch(e => {\\n        console.error(e);\\n      });\\n    }\\n  }\\n}\\nfunction setupServiceWorker(baseUrl, targetOrigin, cacheCallback) {\\n  // register service worker for offline access\\n  if (\\\"serviceWorker\\\" in navigator) {\\n    baseUrl = baseUrl || \\\"/\\\";\\n    navigator.serviceWorker.register(baseUrl + \\\"plugin-service-worker.js\\\").then(function (registration) {\\n      // Registration was successful\\n      console.log(\\\"ServiceWorker registration successful with scope: \\\", registration.scope);\\n    }, function (err) {\\n      // registration failed :(\\n      console.log(\\\"ServiceWorker registration failed: \\\", err);\\n    });\\n    targetOrigin = targetOrigin || \\\"*\\\";\\n    cacheCallback = cacheCallback || cacheRequirements;\\n\\n    if (cacheCallback && typeof cacheCallback !== \\\"function\\\") {\\n      throw new Error(\\\"config.cache_requirements must be a function\\\");\\n    }\\n\\n    window.addEventListener(\\\"message\\\", function (e) {\\n      if (targetOrigin === \\\"*\\\" || e.origin === targetOrigin) {\\n        const m = e.data;\\n\\n        if (m.type === \\\"cacheRequirements\\\") {\\n          cacheCallback(m.requirements);\\n        }\\n      }\\n    });\\n  }\\n} //#Source https://bit.ly/2neWfJ2\\n\\nfunction urlJoin(...args) {\\n  return args.join(\\\"/\\\").replace(/[\\\\/]+/g, \\\"/\\\").replace(/^(.+):\\\\//, \\\"$1://\\\").replace(/^file:/, \\\"file:/\\\").replace(/\\\\/(\\\\?|&|#[^!])/g, \\\"$1\\\").replace(/\\\\?/g, \\\"&\\\").replace(\\\"&\\\", \\\"?\\\");\\n}\\nclass MessageEmitter {\\n  constructor(debug) {\\n    this._event_handlers = {};\\n    this._once_handlers = {};\\n    this._debug = debug;\\n  }\\n\\n  emit() {\\n    throw new Error(\\\"emit is not implemented\\\");\\n  }\\n\\n  on(event, handler) {\\n    if (!this._event_handlers[event]) {\\n      this._event_handlers[event] = [];\\n    }\\n\\n    this._event_handlers[event].push(handler);\\n  }\\n\\n  once(event, handler) {\\n    handler.___event_run_once = true;\\n    this.on(event, handler);\\n  }\\n\\n  off(event, handler) {\\n    if (!event && !handler) {\\n      // remove all events handlers\\n      this._event_handlers = {};\\n    } else if (event && !handler) {\\n      // remove all hanlders for the event\\n      if (this._event_handlers[event]) this._event_handlers[event] = [];\\n    } else {\\n      // remove a specific handler\\n      if (this._event_handlers[event]) {\\n        const idx = this._event_handlers[event].indexOf(handler);\\n\\n        if (idx >= 0) {\\n          this._event_handlers[event].splice(idx, 1);\\n        }\\n      }\\n    }\\n  }\\n\\n  _fire(event, data) {\\n    if (this._event_handlers[event]) {\\n      var i = this._event_handlers[event].length;\\n\\n      while (i--) {\\n        const handler = this._event_handlers[event][i];\\n\\n        try {\\n          handler(data);\\n        } catch (e) {\\n          console.error(e);\\n        } finally {\\n          if (handler.___event_run_once) {\\n            this._event_handlers[event].splice(i, 1);\\n          }\\n        }\\n      }\\n    } else {\\n      if (this._debug) {\\n        console.warn(\\\"unhandled event\\\", event, data);\\n      }\\n    }\\n  }\\n\\n}\\n\\n/***/ })\\n\\n/******/ });\\n//# sourceMappingURL=plugin.webworker.js.map\", null);\n};\n\n/***/ }),\n\n/***/ \"./src/pluginCore.js\":\n/*!***************************!*\\\n  !*** ./src/pluginCore.js ***!\n  \\***************************/\n/*! exports provided: connectRPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"connectRPC\", function() { return connectRPC; });\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rpc.js */ \"./src/rpc.js\");\n/**\n * Core plugin script loaded into the plugin process/thread.\n *\n * Initializes the plugin-site API global methods.\n */\n\nfunction connectRPC(connection, config) {\n  config = config || {};\n  const codecs = {};\n  const rpc = new _rpc_js__WEBPACK_IMPORTED_MODULE_0__[\"RPC\"](connection, config, codecs);\n  rpc.on(\"getInterface\", function () {\n    launchConnected();\n  });\n  rpc.on(\"remoteReady\", function () {\n    const api = rpc.getRemote() || {};\n\n    api.registerCodec = function (config) {\n      if (!config[\"name\"] || !config[\"encoder\"] && !config[\"decoder\"]) {\n        throw new Error(\"Invalid codec format, please make sure you provide a name, type, encoder and decoder.\");\n      } else {\n        if (config.type) {\n          for (let k of Object.keys(codecs)) {\n            if (codecs[k].type === config.type || k === config.name) {\n              delete codecs[k];\n              console.warn(\"Remove duplicated codec: \" + k);\n            }\n          }\n        }\n\n        codecs[config[\"name\"]] = config;\n      }\n    };\n\n    api.init = function (config) {\n      // register a minimal plugin api\n      rpc.setInterface({\n        setup() {}\n\n      }, config);\n    };\n\n    api.disposeObject = function (obj) {\n      rpc.disposeObject(obj);\n    };\n\n    api.export = function (_interface, config) {\n      rpc.setInterface(_interface, config);\n    };\n\n    api.onLoad = function (handler) {\n      handler = checkHandler(handler);\n\n      if (connected) {\n        handler();\n      } else {\n        connectedHandlers.push(handler);\n      }\n    };\n\n    api.dispose = function (_interface) {\n      rpc.disconnect();\n    };\n\n    if (typeof WorkerGlobalScope !== \"undefined\" && self instanceof WorkerGlobalScope) {\n      self.api = api;\n      self.postMessage({\n        type: \"imjoy_remote_api_ready\"\n      });\n    } else if (typeof window) {\n      window.dispatchEvent(new CustomEvent(\"imjoy_remote_api_ready\", {\n        detail: api\n      }));\n    }\n  });\n  let connected = false;\n  const connectedHandlers = [];\n\n  const launchConnected = function () {\n    if (!connected) {\n      connected = true;\n      let handler;\n\n      while (handler = connectedHandlers.pop()) {\n        handler();\n      }\n    }\n  };\n\n  const checkHandler = function (handler) {\n    const type = typeof handler;\n\n    if (type !== \"function\") {\n      const msg = \"A function may only be subsribed to the event, \" + type + \" was provided instead\";\n      throw new Error(msg);\n    }\n\n    return handler;\n  };\n\n  return rpc;\n}\n\n/***/ }),\n\n/***/ \"./src/pluginIframe.js\":\n/*!*****************************!*\\\n  !*** ./src/pluginIframe.js ***!\n  \\*****************************/\n/*! exports provided: Connection, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Connection\", function() { return Connection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return setupIframe; });\n/* harmony import */ var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pluginCore.js */ \"./src/pluginCore.js\");\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rpc.js */ \"./src/rpc.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n/**\n * Contains the routines loaded by the plugin iframe under web-browser\n * in case when worker failed to initialize\n *\n * Initializes the web environment version of the platform-dependent\n * connection object for the plugin site\n */\n\n\n // Create a new, plain <span> element\n\nfunction _htmlToElement(html) {\n  var template = document.createElement(\"template\");\n  html = html.trim(); // Never return a text node of whitespace as the result\n\n  template.innerHTML = html;\n  return template.content.firstChild;\n}\n\nvar _importScript = function (url) {\n  //url is URL of external file, implementationCode is the code\n  //to be called from the file, location is the location to\n  //insert the <script> element\n  return new Promise((resolve, reject) => {\n    var scriptTag = document.createElement(\"script\");\n    scriptTag.src = url;\n    scriptTag.type = \"text/javascript\";\n    scriptTag.onload = resolve;\n\n    scriptTag.onreadystatechange = function () {\n      if (this.readyState === \"loaded\" || this.readyState === \"complete\") {\n        resolve();\n      }\n    };\n\n    scriptTag.onerror = reject;\n    document.head.appendChild(scriptTag);\n  });\n}; // support importScripts outside web worker\n\n\nasync function importScripts() {\n  var args = Array.prototype.slice.call(arguments),\n      len = args.length,\n      i = 0;\n\n  for (; i < len; i++) {\n    await _importScript(args[i]);\n  }\n}\n\nclass Connection extends _utils_js__WEBPACK_IMPORTED_MODULE_2__[\"MessageEmitter\"] {\n  constructor(config) {\n    super(config && config.debug);\n    this.config = config || {};\n    this.peer_id = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"randId\"])();\n  }\n\n  connect() {\n    this.config.target_origin = this.config.target_origin || \"*\"; // this will call handleEvent function\n\n    window.addEventListener(\"message\", this);\n    this.emit({\n      type: \"initialized\",\n      config: this.config,\n      origin: window.location.origin,\n      peer_id: this.peer_id\n    });\n\n    this._fire(\"connected\");\n  }\n\n  handleEvent(e) {\n    if (e.type === \"message\" && (this.config.target_origin === \"*\" || e.origin === this.config.target_origin)) {\n      if (e.data.peer_id === this.peer_id) {\n        this._fire(e.data.type, e.data);\n      } else if (this.config.debug) {\n        console.log(`connection peer id mismatch ${e.data.peer_id} !== ${this.peer_id}`);\n      }\n    }\n  }\n\n  disconnect() {\n    this._fire(\"beforeDisconnect\");\n\n    window.removeEventListener(\"message\", this);\n\n    this._fire(\"disconnected\");\n  }\n\n  emit(data) {\n    let transferables;\n\n    if (data.__transferables__) {\n      transferables = data.__transferables__;\n      delete data.__transferables__;\n    }\n\n    parent.postMessage(data, this.config.target_origin, transferables);\n  }\n\n  async execute(code) {\n    try {\n      if (code.type === \"requirements\") {\n        if (code.requirements && (Array.isArray(code.requirements) || typeof code.requirements === \"string\")) {\n          try {\n            var link_node;\n            code.requirements = typeof code.requirements === \"string\" ? [code.requirements] : code.requirements;\n\n            if (Array.isArray(code.requirements)) {\n              for (var i = 0; i < code.requirements.length; i++) {\n                if (code.requirements[i].toLowerCase().endsWith(\".css\") || code.requirements[i].startsWith(\"css:\")) {\n                  if (code.requirements[i].startsWith(\"css:\")) {\n                    code.requirements[i] = code.requirements[i].slice(4);\n                  }\n\n                  link_node = document.createElement(\"link\");\n                  link_node.rel = \"stylesheet\";\n                  link_node.href = code.requirements[i];\n                  document.head.appendChild(link_node);\n                } else if (code.requirements[i].toLowerCase().endsWith(\".js\") || code.requirements[i].startsWith(\"js:\")) {\n                  if (code.requirements[i].startsWith(\"js:\")) {\n                    code.requirements[i] = code.requirements[i].slice(3);\n                  }\n\n                  await importScripts(code.requirements[i]);\n                } else if (code.requirements[i].startsWith(\"http\")) {\n                  await importScripts(code.requirements[i]);\n                } else if (code.requirements[i].startsWith(\"cache:\")) {//ignore cache\n                } else {\n                  console.log(\"Unprocessed requirements url: \" + code.requirements[i]);\n                }\n              }\n            } else {\n              throw \"unsupported requirements definition\";\n            }\n          } catch (e) {\n            throw \"failed to import required scripts: \" + code.requirements.toString();\n          }\n        }\n      } else if (code.type === \"script\") {\n        if (code.src) {\n          var script_node = document.createElement(\"script\");\n          script_node.setAttribute(\"type\", code.attrs.type);\n          script_node.setAttribute(\"src\", code.src);\n          document.head.appendChild(script_node);\n        } else {\n          if (code.content && (!code.attrs.type || code.attrs.type === \"text/javascript\")) {\n            // document.addEventListener(\"DOMContentLoaded\", function(){\n            eval(code.content); // });\n          } else {\n            var node = document.createElement(\"script\");\n            node.setAttribute(\"type\", code.attrs.type);\n            node.appendChild(document.createTextNode(code.content));\n            document.body.appendChild(node);\n          }\n        }\n      } else if (code.type === \"style\") {\n        const style_node = document.createElement(\"style\");\n\n        if (code.src) {\n          style_node.src = code.src;\n        }\n\n        style_node.innerHTML = code.content;\n        document.head.appendChild(style_node);\n      } else if (code.type === \"link\") {\n        const link_node_ = document.createElement(\"link\");\n\n        if (code.rel) {\n          link_node_.rel = code.rel;\n        }\n\n        if (code.href) {\n          link_node_.href = code.href;\n        }\n\n        if (code.attrs && code.attrs.type) {\n          link_node_.type = code.attrs.type;\n        }\n\n        document.head.appendChild(link_node_);\n      } else if (code.type === \"html\") {\n        document.body.appendChild(_htmlToElement(code.content));\n      } else {\n        throw \"unsupported code type.\";\n      }\n\n      parent.postMessage({\n        type: \"executed\"\n      }, this.config.target_origin);\n    } catch (e) {\n      console.error(\"failed to execute scripts: \", code, e);\n      parent.postMessage({\n        type: \"executed\",\n        error: e.stack || String(e)\n      }, this.config.target_origin);\n    }\n  }\n\n}\nfunction setupIframe(config) {\n  config = config || {};\n  config.dedicated_thread = false;\n  config.lang = \"javascript\";\n  config.api_version = _rpc_js__WEBPACK_IMPORTED_MODULE_1__[\"API_VERSION\"];\n  const conn = new Connection(config);\n  Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__[\"connectRPC\"])(conn, config);\n  conn.connect();\n}\n\n/***/ }),\n\n/***/ \"./src/rpc.js\":\n/*!********************!*\\\n  !*** ./src/rpc.js ***!\n  \\********************/\n/*! exports provided: API_VERSION, RPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"API_VERSION\", function() { return API_VERSION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RPC\", function() { return RPC; });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n/**\n * Contains the RPC object used both by the application\n * site, and by each plugin\n */\n\nconst API_VERSION = \"0.2.3\";\nconst ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor;\n\nfunction _appendBuffer(buffer1, buffer2) {\n  const tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n}\n\nfunction indexObject(obj, is) {\n  if (!is) throw new Error(\"undefined index\");\n  if (typeof is === \"string\") return indexObject(obj, is.split(\".\"));else if (is.length === 0) return obj;else return indexObject(obj[is[0]], is.slice(1));\n}\n/**\n * RPC object represents a single site in the\n * communication protocol between the application and the plugin\n *\n * @param {Object} connection a special object allowing to send\n * and receive messages from the opposite site (basically it\n * should only provide send() and onMessage() methods)\n */\n\n\nclass RPC extends _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"MessageEmitter\"] {\n  constructor(connection, config, codecs) {\n    super(config && config.debug);\n    this._connection = connection;\n    this.config = config || {};\n    this._codecs = codecs || {};\n    this._object_store = {};\n    this._method_weakmap = new WeakMap();\n    this._object_weakmap = new WeakMap();\n    this._local_api = null; // make sure there is an execute function\n\n    const name = this.config.name;\n\n    this._connection.execute = this._connection.execute || function () {\n      throw new Error(`connection.execute not implemented (in \"${name}\")`);\n    };\n\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n\n    this._method_refs.onReady(() => {\n      this._fire(\"remoteIdle\");\n    });\n\n    this._method_refs.onBusy(() => {\n      this._fire(\"remoteBusy\");\n    });\n\n    this._setupMessageHanlders();\n  }\n\n  init() {\n    this._connection.emit({\n      type: \"initialized\",\n      config: this.config,\n      peer_id: this._connection.peer_id\n    });\n  }\n\n  setConfig(config) {\n    if (config) for (const k of Object.keys(config)) {\n      this.config[k] = config[k];\n    }\n  }\n  /**\n   * Set a handler to be called when received a responce from the\n   * remote site reporting that the previously provided interface\n   * has been successfully set as remote for that site\n   *\n   * @param {Function} handler\n   */\n\n\n  getRemoteCallStack() {\n    return this._method_refs.getStack();\n  }\n  /**\n   * @returns {Object} set of remote interface methods\n   */\n\n\n  getRemote() {\n    return this._remote_interface;\n  }\n  /**\n   * Sets the interface of this site making it available to the\n   * remote site by sending a message with a set of methods names\n   *\n   * @param {Object} _interface to set\n   */\n\n\n  setInterface(_interface, config) {\n    config = config || {};\n    this.config.name = config.name || this.config.name;\n    this.config.description = config.description || this.config.description;\n\n    if (this.config.forwarding_functions) {\n      for (let func_name of this.config.forwarding_functions) {\n        const _remote = this._remote_interface;\n\n        if (_remote[func_name]) {\n          if (_interface.constructor === Object) {\n            if (!_interface[func_name]) {\n              _interface[func_name] = (...args) => {\n                _remote[func_name](...args);\n              };\n            }\n          } else if (_interface.constructor.constructor === Function) {\n            if (!_interface.constructor.prototype[func_name]) {\n              _interface.constructor.prototype[func_name] = (...args) => {\n                _remote[func_name](...args);\n              };\n            }\n          }\n        }\n      }\n    }\n\n    this._local_api = _interface;\n\n    this._fire(\"interfaceAvailable\");\n  }\n  /**\n   * Sends the actual interface to the remote site upon it was\n   * updated or by a special request of the remote site\n   */\n\n\n  sendInterface() {\n    if (!this._local_api) {\n      throw new Error(\"interface is not set.\");\n    }\n\n    this._encode(this._local_api, true).then(api => {\n      this._connection.emit({\n        type: \"setInterface\",\n        api: api\n      });\n    });\n  }\n\n  _disposeObject(objectId) {\n    if (this._object_store[objectId]) {\n      delete this._object_store[objectId];\n    } else {\n      throw new Error(`Object (id=${objectId}) not found.`);\n    }\n  }\n\n  disposeObject(obj) {\n    return new Promise((resolve, reject) => {\n      if (this._object_weakmap.has(obj)) {\n        const objectId = this._object_weakmap.get(obj);\n\n        this._connection.once(\"disposed\", data => {\n          if (data.error) reject(new Error(data.error));else resolve();\n        });\n\n        this._connection.emit({\n          type: \"disposeObject\",\n          object_id: objectId\n        });\n      } else {\n        throw new Error(\"Invalid object\");\n      }\n    });\n  }\n  /**\n   * Handles a message from the remote site\n   */\n\n\n  _setupMessageHanlders() {\n    this._connection.on(\"init\", this.init);\n\n    this._connection.on(\"execute\", data => {\n      Promise.resolve(this._connection.execute(data.code)).then(() => {\n        this._connection.emit({\n          type: \"executed\"\n        });\n      }).catch(e => {\n        console.error(e);\n\n        this._connection.emit({\n          type: \"executed\",\n          error: String(e)\n        });\n      });\n    });\n\n    this._connection.on(\"method\", async data => {\n      let resolve, reject, method, method_this, args, result;\n\n      try {\n        if (data.promise) {\n          [resolve, reject] = await this._unwrap(data.promise, false);\n        }\n\n        const _interface = this._object_store[data.object_id];\n        method = indexObject(_interface, data.name);\n\n        if (data.name.includes(\".\")) {\n          const tmp = data.name.split(\".\");\n          const intf_index = tmp.slice(0, tmp.length - 1).join(\".\");\n          method_this = indexObject(_interface, intf_index);\n        } else {\n          method_this = _interface;\n        }\n\n        args = await this._unwrap(data.args, true);\n\n        if (data.promise) {\n          result = method.apply(method_this, args);\n\n          if (result instanceof Promise || method.constructor && method.constructor.name === \"AsyncFunction\") {\n            result.then(resolve).catch(reject);\n          } else {\n            resolve(result);\n          }\n        } else {\n          method.apply(method_this, args);\n        }\n      } catch (err) {\n        console.error(this.config.name, err);\n\n        if (reject) {\n          reject(err);\n        }\n      }\n    });\n\n    this._connection.on(\"callback\", async data => {\n      let resolve, reject, method, args, result;\n\n      try {\n        if (data.promise) {\n          [resolve, reject] = await this._unwrap(data.promise, false);\n        }\n\n        if (data.promise) {\n          method = this._store.fetch(data.id);\n          args = await this._unwrap(data.args, true);\n\n          if (!method) {\n            throw new Error(\"Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\");\n          }\n\n          result = method.apply(null, args);\n\n          if (result instanceof Promise || method.constructor && method.constructor.name === \"AsyncFunction\") {\n            result.then(resolve).catch(reject);\n          } else {\n            resolve(result);\n          }\n        } else {\n          method = this._store.fetch(data.id);\n          args = await this._unwrap(data.args, true);\n\n          if (!method) {\n            throw new Error(\"Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.\");\n          }\n\n          method.apply(null, args);\n        }\n      } catch (err) {\n        console.error(this.config.name, err);\n\n        if (reject) {\n          reject(err);\n        }\n      }\n    });\n\n    this._connection.on(\"disposeObject\", data => {\n      try {\n        this._disposeObject(data.object_id);\n\n        this._connection.emit({\n          type: \"disposed\"\n        });\n      } catch (e) {\n        console.error(e);\n\n        this._connection.emit({\n          type: \"disposed\",\n          error: String(e)\n        });\n      }\n    });\n\n    this._connection.on(\"setInterface\", data => {\n      this._setRemoteInterface(data.api);\n    });\n\n    this._connection.on(\"getInterface\", () => {\n      this._fire(\"getInterface\");\n\n      if (this._local_api) {\n        this.sendInterface();\n      } else {\n        this.once(\"interfaceAvailable\", () => {\n          this.sendInterface();\n        });\n      }\n    });\n\n    this._connection.on(\"interfaceSetAsRemote\", () => {\n      this._fire(\"interfaceSetAsRemote\");\n    });\n\n    this._connection.on(\"disconnect\", () => {\n      this._fire(\"beforeDisconnect\");\n\n      this._connection.disconnect();\n\n      this._fire(\"disconnected\");\n    });\n  }\n  /**\n   * Sends a requests to the remote site asking it to provide its\n   * current interface\n   */\n\n\n  requestRemote() {\n    this._connection.emit({\n      type: \"getInterface\"\n    });\n  }\n\n  _ndarray(typedArray, shape, dtype) {\n    const _dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"typedArrayToDtype\"])(typedArray);\n\n    if (dtype && dtype !== _dtype) {\n      throw \"dtype doesn't match the type of the array: \" + _dtype + \" != \" + dtype;\n    }\n\n    shape = shape || [typedArray.length];\n    return {\n      _rtype: \"ndarray\",\n      _rvalue: typedArray.buffer,\n      _rshape: shape,\n      _rdtype: _dtype\n    };\n  }\n  /**\n   * Sets the new remote interface provided by the other site\n   *\n   * @param {Array} names list of function names\n   */\n\n\n  _setRemoteInterface(api) {\n    this._decode(api).then(intf => {\n      // update existing interface instead of recreating it\n      if (this._remote_interface) {\n        Object.assign(this._remote_interface, intf);\n      } else this._remote_interface = intf;\n\n      this._fire(\"remoteReady\");\n\n      this._reportRemoteSet();\n    });\n  }\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * method. When the generated function is called, it will send the\n   * corresponding message to the remote site asking it to execute\n   * the particular method of its interface\n   *\n   * @param {String} name of the remote method\n   *\n   * @returns {Function} wrapped remote method\n   */\n\n\n  _genRemoteMethod(targetId, name, objectId) {\n    const me = this;\n\n    const remoteMethod = function () {\n      return new Promise(async (resolve, reject) => {\n        let id = null;\n\n        try {\n          id = me._method_refs.put(objectId ? objectId + \"/\" + name : name);\n\n          const wrapped_resolve = function () {\n            if (id !== null) me._method_refs.fetch(id);\n            return resolve.apply(this, arguments);\n          };\n\n          const wrapped_reject = function () {\n            if (id !== null) me._method_refs.fetch(id);\n            return reject.apply(this, arguments);\n          };\n\n          const encodedPromise = await me._wrap([wrapped_resolve, wrapped_reject]); // store the key id for removing them from the reference store together\n\n          wrapped_resolve.__promise_pair = encodedPromise[1]._rvalue;\n          wrapped_reject.__promise_pair = encodedPromise[0]._rvalue;\n          let args = Array.prototype.slice.call(arguments);\n\n          if (name === \"register\" || name === \"registerService\" || name === \"export\" || name === \"on\") {\n            args = await me._wrap(args, true);\n          } else {\n            args = await me._wrap(args);\n          }\n\n          const transferables = args.__transferables__;\n          if (transferables) delete args.__transferables__;\n\n          me._connection.emit({\n            type: \"method\",\n            target_id: targetId,\n            name: name,\n            object_id: objectId,\n            args: args,\n            promise: encodedPromise\n          }, transferables);\n        } catch (e) {\n          if (id) me._method_refs.fetch(id);\n          reject(`Failed to exectue remote method (interface: ${objectId || me.id}, method: ${name}), error: ${e}`);\n        }\n      });\n    };\n\n    remoteMethod.__remote_method = true;\n    return remoteMethod;\n  }\n  /**\n   * Sends a responce reporting that interface just provided by the\n   * remote site was successfully set by this site as remote\n   */\n\n\n  _reportRemoteSet() {\n    this._connection.emit({\n      type: \"interfaceSetAsRemote\"\n    });\n  }\n  /**\n   * Prepares the provided set of remote method arguments for\n   * sending to the remote site, replaces all the callbacks with\n   * identifiers\n   *\n   * @param {Array} args to wrap\n   *\n   * @returns {Array} wrapped arguments\n   */\n\n\n  async _encode(aObject, asInterface, objectId) {\n    const aType = typeof aObject;\n\n    if (aType === \"number\" || aType === \"string\" || aType === \"boolean\" || aObject === null || aObject === undefined || aObject instanceof ArrayBuffer) {\n      return aObject;\n    }\n\n    let bObject;\n\n    if (typeof aObject === \"function\") {\n      if (asInterface) {\n        if (!objectId) throw new Error(\"objectId is not specified.\");\n        bObject = {\n          _rtype: \"interface\",\n          _rtarget_id: this._connection.peer_id,\n          _rintf: objectId,\n          _rvalue: asInterface\n        };\n\n        this._method_weakmap.set(aObject, bObject);\n      } else if (this._method_weakmap.has(aObject)) {\n        bObject = this._method_weakmap.get(aObject);\n      } else {\n        const cid = this._store.put(aObject);\n\n        bObject = {\n          _rtype: \"callback\",\n          _rtarget_id: this._connection.peer_id,\n          _rname: aObject.constructor && aObject.constructor.name || cid,\n          _rvalue: cid\n        };\n      }\n\n      return bObject;\n    } // skip if already encoded\n\n\n    if (aObject.constructor instanceof Object && aObject._rtype) {\n      // make sure the interface functions are encoded\n      if (aObject._rintf) {\n        const temp = aObject._rtype;\n        delete aObject._rtype;\n        bObject = await this._encode(aObject, asInterface, objectId);\n        bObject._rtype = temp;\n      } else {\n        bObject = aObject;\n      }\n\n      return bObject;\n    }\n\n    const transferables = [];\n    const _transfer = aObject._transfer;\n    const isarray = Array.isArray(aObject);\n\n    for (let tp of Object.keys(this._codecs)) {\n      const codec = this._codecs[tp];\n\n      if (codec.encoder && aObject instanceof codec.type) {\n        // TODO: what if multiple encoders found\n        let encodedObj = await Promise.resolve(codec.encoder(aObject));\n        if (encodedObj && !encodedObj._rtype) encodedObj._rtype = codec.name; // encode the functions in the interface object\n\n        if (encodedObj && encodedObj._rintf) {\n          const temp = encodedObj._rtype;\n          delete encodedObj._rtype;\n          encodedObj = await this._encode(encodedObj, asInterface, objectId);\n          encodedObj._rtype = temp;\n        }\n\n        bObject = encodedObj;\n        return bObject;\n      }\n    }\n\n    if (\n    /*global tf*/\n    typeof tf !== \"undefined\" && tf.Tensor && aObject instanceof tf.Tensor) {\n      const v_buffer = aObject.dataSync();\n\n      if (aObject._transfer || _transfer) {\n        transferables.push(v_buffer.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: \"ndarray\",\n        _rvalue: v_buffer.buffer,\n        _rshape: aObject.shape,\n        _rdtype: aObject.dtype\n      };\n    } else if (\n    /*global nj*/\n    typeof nj !== \"undefined\" && nj.NdArray && aObject instanceof nj.NdArray) {\n      const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"typedArrayToDtype\"])(aObject.selection.data);\n\n      if (aObject._transfer || _transfer) {\n        transferables.push(aObject.selection.data.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: \"ndarray\",\n        _rvalue: aObject.selection.data.buffer,\n        _rshape: aObject.shape,\n        _rdtype: dtype\n      };\n    } else if (aObject instanceof Error) {\n      console.error(aObject);\n      bObject = {\n        _rtype: \"error\",\n        _rvalue: aObject.toString()\n      };\n    } else if (typeof File !== \"undefined\" && aObject instanceof File) {\n      bObject = {\n        _rtype: \"file\",\n        _rvalue: aObject,\n        _rpath: aObject._path || aObject.webkitRelativePath\n      };\n    } // send objects supported by structure clone algorithm\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n    else if (aObject !== Object(aObject) || aObject instanceof Boolean || aObject instanceof String || aObject instanceof Date || aObject instanceof RegExp || aObject instanceof ImageData || typeof FileList !== \"undefined\" && aObject instanceof FileList || typeof FileSystemDirectoryHandle !== \"undefined\" && aObject instanceof FileSystemDirectoryHandle || typeof FileSystemFileHandle !== \"undefined\" && aObject instanceof FileSystemFileHandle || typeof FileSystemHandle !== \"undefined\" && aObject instanceof FileSystemHandle || typeof FileSystemWritableFileStream !== \"undefined\" && aObject instanceof FileSystemWritableFileStream) {\n        bObject = aObject; // TODO: avoid object such as DynamicPlugin instance.\n      } else if (typeof File !== \"undefined\" && aObject instanceof File) {\n        bObject = {\n          _rtype: \"file\",\n          _rname: aObject.name,\n          _rmime: aObject.type,\n          _rvalue: aObject,\n          _rpath: aObject._path || aObject.webkitRelativePath\n        };\n      } else if (aObject instanceof Blob) {\n        bObject = {\n          _rtype: \"blob\",\n          _rvalue: aObject\n        };\n      } else if (aObject instanceof ArrayBufferView) {\n        if (aObject._transfer || _transfer) {\n          transferables.push(aObject.buffer);\n          delete aObject._transfer;\n        }\n\n        const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"typedArrayToDtype\"])(aObject);\n        bObject = {\n          _rtype: \"typedarray\",\n          _rvalue: aObject.buffer,\n          _rdtype: dtype\n        };\n      } else if (aObject instanceof DataView) {\n        if (aObject._transfer || _transfer) {\n          transferables.push(aObject.buffer);\n          delete aObject._transfer;\n        }\n\n        bObject = {\n          _rtype: \"memoryview\",\n          _rvalue: aObject.buffer\n        };\n      } else if (aObject instanceof Set) {\n        bObject = {\n          _rtype: \"set\",\n          _rvalue: await this._encode(Array.from(aObject), asInterface)\n        };\n      } else if (aObject instanceof Map) {\n        bObject = {\n          _rtype: \"orderedmap\",\n          _rvalue: await this._encode(Array.from(aObject), asInterface)\n        };\n      } else if (aObject.constructor instanceof Object || Array.isArray(aObject)) {\n        bObject = isarray ? [] : {};\n        let keys; // an object/array\n\n        if (aObject.constructor === Object || Array.isArray(aObject)) {\n          keys = Object.keys(aObject);\n        } // a class\n        else if (aObject.constructor === Function) {\n            throw new Error(\"Please instantiate the class before exportting it.\");\n          } // instance of a class\n          else if (aObject.constructor.constructor === Function) {\n              keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject)); // TODO: use a proxy object to represent the actual object\n              // always encode class instance as interface\n\n              asInterface = true;\n            } else {\n              throw Error(\"Unsupported interface type\");\n            }\n\n        let hasFunction = false; // encode interfaces\n\n        if (aObject._rintf || asInterface) {\n          if (!objectId) {\n            objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"randId\"])();\n            this._object_store[objectId] = aObject;\n          }\n\n          for (let k of keys) {\n            if (k === \"constructor\") continue;\n\n            if (k.startsWith(\"_\")) {\n              continue;\n            }\n\n            bObject[k] = await this._encode(aObject[k], typeof asInterface === \"string\" ? asInterface + \".\" + k : k, objectId);\n\n            if (typeof aObject[k] === \"function\") {\n              hasFunction = true;\n            }\n          } // object id for dispose the object remotely\n\n\n          if (hasFunction) bObject._rintf = objectId; // remove interface when closed\n\n          if (aObject.on && typeof aObject.on === \"function\") {\n            aObject.on(\"close\", () => {\n              delete this._object_store[objectId];\n            });\n          }\n        } else {\n          for (let k of keys) {\n            if ([\"hasOwnProperty\", \"constructor\"].includes(k)) continue;\n            bObject[k] = await this._encode(aObject[k]);\n          }\n        } // for example, browserFS object\n\n      } else if (typeof aObject === \"object\") {\n        const keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject));\n        const objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"randId\"])();\n\n        for (let k of keys) {\n          if ([\"hasOwnProperty\", \"constructor\"].includes(k)) continue; // encode as interface\n\n          bObject[k] = await this._encode(aObject[k], k, bObject);\n        } // object id, used for dispose the object\n\n\n        bObject._rintf = objectId;\n      } else {\n        throw \"imjoy-rpc: Unsupported data type:\" + aObject;\n      }\n\n    if (transferables.length > 0) {\n      bObject.__transferables__ = transferables;\n    }\n\n    if (!bObject) {\n      throw new Error(\"Failed to encode object\");\n    }\n\n    return bObject;\n  }\n\n  async _decode(aObject, withPromise) {\n    if (!aObject) {\n      return aObject;\n    }\n\n    let bObject;\n\n    if (aObject[\"_rtype\"]) {\n      if (this._codecs[aObject._rtype] && this._codecs[aObject._rtype].decoder) {\n        if (aObject._rintf) {\n          const temp = aObject._rtype;\n          delete aObject._rtype;\n          aObject = await this._decode(aObject, withPromise);\n          aObject._rtype = temp;\n        }\n\n        bObject = await Promise.resolve(this._codecs[aObject._rtype].decoder(aObject));\n      } else if (aObject._rtype === \"callback\") {\n        bObject = this._genRemoteCallback(aObject._rtarget_id, aObject._rvalue, withPromise);\n      } else if (aObject._rtype === \"interface\") {\n        bObject = this._genRemoteMethod(aObject._rtarget_id, aObject._rvalue, aObject._rintf);\n      } else if (aObject._rtype === \"ndarray\") {\n        /*global nj tf*/\n        //create build array/tensor if used in the plugin\n        if (typeof nj !== \"undefined\" && nj.array) {\n          if (Array.isArray(aObject._rvalue)) {\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\n          }\n\n          bObject = nj.array(new Uint8(aObject._rvalue), aObject._rdtype).reshape(aObject._rshape);\n        } else if (typeof tf !== \"undefined\" && tf.Tensor) {\n          if (Array.isArray(aObject._rvalue)) {\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\n          }\n\n          const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"dtypeToTypedArray\"][aObject._rdtype];\n          bObject = tf.tensor(new arraytype(aObject._rvalue), aObject._rshape, aObject._rdtype);\n        } else {\n          //keep it as regular if transfered to the main app\n          bObject = aObject;\n        }\n      } else if (aObject._rtype === \"error\") {\n        bObject = new Error(aObject._rvalue);\n      } else if (aObject._rtype === \"file\") {\n        if (aObject._rvalue instanceof File) {\n          bObject = aObject._rvalue; //patch _path\n\n          bObject._path = aObject._rpath;\n        } else {\n          bObject = new File([aObject._rvalue], aObject._rname, {\n            type: aObject._rmime\n          });\n          bObject._path = aObject._rpath;\n        }\n      } else if (aObject._rtype === \"typedarray\") {\n        const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"dtypeToTypedArray\"][aObject._rdtype];\n        if (!arraytype) throw new Error(\"unsupported dtype: \" + aObject._rdtype);\n        bObject = new arraytype(aObject._rvalue);\n      } else if (aObject._rtype === \"memoryview\") {\n        bObject = new DataView(aObject._rvalue);\n      } else if (aObject._rtype === \"blob\") {\n        if (aObject._rvalue instanceof Blob) {\n          bObject = aObject._rvalue;\n        } else {\n          bObject = new Blob([aObject._rvalue], {\n            type: aObject._rmime\n          });\n        }\n      } else if (aObject._rtype === \"orderedmap\") {\n        bObject = new Map((await this._decode(aObject._rvalue, withPromise)));\n      } else if (aObject._rtype === \"set\") {\n        bObject = new Set((await this._decode(aObject._rvalue, withPromise)));\n      } else {\n        // make sure all the interface functions are decoded\n        if (aObject._rintf) {\n          const temp = aObject._rtype;\n          delete aObject._rtype;\n          bObject = await this._decode(aObject, withPromise);\n          bObject._rtype = temp;\n        } else bObject = aObject;\n      }\n    } else if (aObject.constructor === Object || Array.isArray(aObject)) {\n      const isarray = Array.isArray(aObject);\n      bObject = isarray ? [] : {};\n\n      for (let k of Object.keys(aObject)) {\n        if (isarray || aObject.hasOwnProperty(k)) {\n          const v = aObject[k];\n          bObject[k] = await this._decode(v, withPromise);\n        }\n      }\n    } else {\n      bObject = aObject;\n    }\n\n    if (bObject === undefined) {\n      throw new Error(\"Failed to decode object\");\n    } // store the object id for dispose\n\n\n    if (aObject._rintf) {\n      this._object_weakmap.set(bObject, aObject._rintf);\n    }\n\n    return bObject;\n  }\n\n  async _wrap(args, asInterface) {\n    return await this._encode(args, asInterface);\n  }\n  /**\n   * Unwraps the set of arguments delivered from the remote site,\n   * replaces all callback identifiers with a function which will\n   * initiate sending that callback identifier back to other site\n   *\n   * @param {Object} args to unwrap\n   *\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Array} unwrapped args\n   */\n\n\n  async _unwrap(args, withPromise) {\n    return await this._decode(args, withPromise);\n  }\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * callback. When the generated function is called, it will send\n   * the corresponding message to the remote site asking it to\n   * execute the particular callback previously saved during a call\n   * by the remote site a method from the interface of this site\n   *\n   * @param {Number} id of the remote callback to execute\n   * @param {Number} argNum argument index of the callback\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Function} wrapped remote callback\n   */\n\n\n  _genRemoteCallback(targetId, cid, withPromise) {\n    const me = this;\n    let remoteCallback;\n\n    if (withPromise) {\n      remoteCallback = function () {\n        return new Promise(async (resolve, reject) => {\n          const args = await me._wrap(Array.prototype.slice.call(arguments));\n          const transferables = args.__transferables__;\n          if (transferables) delete args.__transferables__;\n          const encodedPromise = await me._wrap([resolve, reject]); // store the key id for removing them from the reference store together\n\n          resolve.__promise_pair = encodedPromise[1]._rvalue;\n          reject.__promise_pair = encodedPromise[0]._rvalue;\n\n          try {\n            me._connection.emit({\n              type: \"callback\",\n              target_id: targetId,\n              id: cid,\n              args: args,\n              promise: encodedPromise\n            }, transferables);\n          } catch (e) {\n            reject(`Failed to exectue remote callback ( id: ${cid}).`);\n          }\n        });\n      };\n\n      return remoteCallback;\n    } else {\n      remoteCallback = async function () {\n        const args = await me._wrap(Array.prototype.slice.call(arguments));\n        const transferables = args.__transferables__;\n        if (transferables) delete args.__transferables__;\n        return me._connection.emit({\n          type: \"callback\",\n          target_id: targetId,\n          id: cid,\n          args: args\n        }, transferables);\n      };\n\n      return remoteCallback;\n    }\n  }\n\n  reset() {\n    this._event_handlers = {};\n    this._once_handlers = {};\n    this._remote_interface = null;\n    this._object_store = {};\n    this._method_weakmap = new WeakMap();\n    this._object_weakmap = new WeakMap();\n    this._local_api = null;\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n  }\n  /**\n   * Sends the notification message and breaks the connection\n   */\n\n\n  disconnect() {\n    this._connection.emit({\n      type: \"disconnect\"\n    });\n\n    this.reset();\n    setTimeout(() => {\n      this._connection.disconnect();\n    }, 2000);\n  }\n\n}\n/**\n * ReferenceStore is a special object which stores other objects\n * and provides the references (number) instead. This reference\n * may then be sent over a json-based communication channel (IPC\n * to another Node.js process or a message to the Worker). Other\n * site may then provide the reference in the responce message\n * implying the given object should be activated.\n *\n * Primary usage for the ReferenceStore is a storage for the\n * callbacks, which therefore makes it possible to initiate a\n * callback execution by the opposite site (which normally cannot\n * directly execute functions over the communication channel).\n *\n * Each stored object can only be fetched once and is not\n * available for the second time. Each stored object must be\n * fetched, since otherwise it will remain stored forever and\n * consume memory.\n *\n * Stored object indeces are simply the numbers, which are however\n * released along with the objects, and are later reused again (in\n * order to postpone the overflow, which should not likely happen,\n * but anyway).\n */\n\nclass ReferenceStore {\n  constructor() {\n    this._store = {}; // stored object\n\n    this._indices = [0]; // smallest available indices\n\n    this._readyHandler = function () {};\n\n    this._busyHandler = function () {};\n\n    this._readyHandler();\n  }\n  /**\n   * call handler when the store is empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n\n\n  onReady(readyHandler) {\n    this._readyHandler = readyHandler || function () {};\n  }\n  /**\n   * call handler when the store is not empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n\n\n  onBusy(busyHandler) {\n    this._busyHandler = busyHandler || function () {};\n  }\n  /**\n   * get the length of the store\n   *\n   */\n\n\n  getStack() {\n    return Object.keys(this._store).length;\n  }\n  /**\n   * @function _genId() generates the new reference id\n   *\n   * @returns {Number} smallest available id and reserves it\n   */\n\n\n  _genId() {\n    let id;\n\n    if (this._indices.length === 1) {\n      id = this._indices[0]++;\n    } else {\n      id = this._indices.shift();\n    }\n\n    return id;\n  }\n  /**\n   * Releases the given reference id so that it will be available by\n   * another object stored\n   *\n   * @param {Number} id to release\n   */\n\n\n  _releaseId(id) {\n    for (let i = 0; i < this._indices.length; i++) {\n      if (id < this._indices[i]) {\n        this._indices.splice(i, 0, id);\n\n        break;\n      }\n    } // cleaning-up the sequence tail\n\n\n    for (let i = this._indices.length - 1; i >= 0; i--) {\n      if (this._indices[i] - 1 === this._indices[i - 1]) {\n        this._indices.pop();\n      } else {\n        break;\n      }\n    }\n  }\n  /**\n   * Stores the given object and returns the refernce id instead\n   *\n   * @param {Object} obj to store\n   *\n   * @returns {Number} reference id of the stored object\n   */\n\n\n  put(obj) {\n    if (this._busyHandler && Object.keys(this._store).length === 0) {\n      this._busyHandler();\n    }\n\n    const id = this._genId();\n\n    this._store[id] = obj;\n    return id;\n  }\n  /**\n   * Retrieves previously stored object and releases its reference\n   *\n   * @param {Number} id of an object to retrieve\n   */\n\n\n  fetch(id) {\n    const obj = this._store[id];\n\n    if (obj && !obj.__remote_method) {\n      delete this._store[id];\n\n      this._releaseId(id);\n\n      if (this._readyHandler && Object.keys(this._store).length === 0) {\n        this._readyHandler();\n      }\n    }\n\n    if (obj && obj.__promise_pair) {\n      this.fetch(obj.__promise_pair);\n    }\n\n    return obj;\n  }\n\n}\n\n/***/ }),\n\n/***/ \"./src/socketIOMain.js\":\n/*!*****************************!*\\\n  !*** ./src/socketIOMain.js ***!\n  \\*****************************/\n/*! exports provided: setupRPC, waitForInitialization, VERSION, RPC, API_VERSION, Connection, connectToServer */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Connection\", function() { return Connection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"connectToServer\", function() { return connectToServer; });\n/* harmony import */ var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pluginCore.js */ \"./src/pluginCore.js\");\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rpc.js */ \"./src/rpc.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RPC\", function() { return _rpc_js__WEBPACK_IMPORTED_MODULE_1__[\"RPC\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"API_VERSION\", function() { return _rpc_js__WEBPACK_IMPORTED_MODULE_1__[\"API_VERSION\"]; });\n\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-client */ \"./node_modules/socket.io-client/build/index.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./main.js */ \"./src/main.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"setupRPC\", function() { return _main_js__WEBPACK_IMPORTED_MODULE_4__[\"setupRPC\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"waitForInitialization\", function() { return _main_js__WEBPACK_IMPORTED_MODULE_4__[\"waitForInitialization\"]; });\n\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_5___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../package.json */ \"./package.json\", 1);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"VERSION\", function() { return _package_json__WEBPACK_IMPORTED_MODULE_5__[\"version\"]; });\n\n/**\n * Contains the routines loaded by the plugin iframe under web-browser\n * in case when worker failed to initialize\n *\n * Initializes the web environment version of the platform-dependent\n * connection object for the plugin site\n */\n\n\n\n\n\n\n\nclass Connection extends _utils_js__WEBPACK_IMPORTED_MODULE_2__[\"MessageEmitter\"] {\n  constructor(config) {\n    super(config && config.debug);\n    this.config = config || {};\n    this.peer_id = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"randId\"])();\n  }\n\n  init() {\n    return new Promise((resolve, reject) => {\n      const config = this.config;\n      const url = config.server_url.replace(\"http://localhost\", \"http://127.0.0.1\");\n      const extraHeaders = {};\n\n      if (config.server_token) {\n        extraHeaders.Authorization = \"Bearer \" + config.server_token;\n      }\n\n      const socket = socket_io_client__WEBPACK_IMPORTED_MODULE_3___default()(url, {\n        transports: [\"websocket\", \"polling\", \"flashsocket\"],\n        withCredentials: false,\n        extraHeaders,\n        path: config.server_path || \"/socket.io\"\n      });\n      socket.on(\"connect\", () => {\n        socket.emit(\"register_plugin\", config, result => {\n          if (!result.success) {\n            console.error(result.detail);\n            reject(result.detail);\n            return;\n          }\n\n          this.plugin_id = result.plugin_id;\n          socket.on(\"plugin_message\", data => {\n            if (data.peer_id === this.peer_id) {\n              this._fire(data.type, data);\n            } else if (this.config.debug) {\n              console.log(`connection peer id mismatch ${data.peer_id} !== ${this.peer_id}`);\n            }\n          });\n          this.once(\"initialize\", () => {\n            if (!this.rpc) {\n              this.rpc = Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__[\"connectRPC\"])(this, config);\n            } else {\n              this.rpc.once(\"remoteReady\", () => {\n                this.rpc.sendInterface();\n              });\n            }\n\n            this.connect();\n            resolve();\n          });\n          this.emit({\n            type: \"imjoyRPCReady\",\n            config: config,\n            peer_id: this.peer_id\n          });\n        });\n        this._disconnected = false;\n      });\n      socket.on(\"connect_error\", () => {\n        reject(\"connection error\");\n\n        this._fire(\"connectFailure\");\n      });\n      socket.on(\"disconnect\", () => {\n        reject(\"disconnected\");\n        this.disconnect();\n\n        this._fire(\"disconnected\");\n      });\n      this.socket = socket;\n    });\n  }\n\n  connect() {\n    this.emit({\n      type: \"initialized\",\n      config: this.config,\n      origin: window.location.origin,\n      peer_id: this.peer_id\n    });\n\n    this._fire(\"connected\");\n  }\n\n  reset() {\n    this._event_handlers = {};\n    this._once_handlers = {};\n  }\n\n  execute() {\n    throw new Error(\"Execution is not allowed for socketio connection\");\n  }\n\n  disconnect() {\n    this._fire(\"beforeDisconnect\");\n\n    this.socket.disconnect();\n    this.init();\n\n    this._fire(\"disconnected\");\n  }\n\n  emit(data) {\n    data.plugin_id = this.plugin_id;\n    this.socket.emit(\"plugin_message\", data, result => {\n      if (!result.success) this._fire(\"error\", data.detail);\n    });\n  }\n\n}\nfunction connectToServer(config) {\n  config = config || {};\n  if (!config.name) throw new Error(\"Plugin name is not specified.\");\n  if (!config.server_url) throw new Error(\"Server URL is not specified.\");\n  config = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"normalizeConfig\"])(config);\n  return new Promise((resolve, reject) => {\n    const handleEvent = e => {\n      const api = e.detail;\n\n      if (config.expose_api_globally) {\n        window.api = api;\n      } // imjoy plugin api\n\n\n      resolve(api);\n      window.removeEventListener(\"imjoy_remote_api_ready\", handleEvent);\n    };\n\n    window.addEventListener(\"imjoy_remote_api_ready\", handleEvent);\n    config = config || {};\n    config.dedicated_thread = false;\n    config.lang = \"javascript\";\n    config.api_version = _rpc_js__WEBPACK_IMPORTED_MODULE_1__[\"API_VERSION\"];\n    const conn = new Connection(config);\n    conn.init().catch(reject);\n  });\n}\n\n/***/ }),\n\n/***/ \"./src/utils.js\":\n/*!**********************!*\\\n  !*** ./src/utils.js ***!\n  \\**********************/\n/*! exports provided: randId, dtypeToTypedArray, normalizeConfig, typedArrayToDtypeMapping, typedArrayToDtype, cacheRequirements, setupServiceWorker, urlJoin, MessageEmitter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"randId\", function() { return randId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dtypeToTypedArray\", function() { return dtypeToTypedArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalizeConfig\", function() { return normalizeConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"typedArrayToDtypeMapping\", function() { return typedArrayToDtypeMapping; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"typedArrayToDtype\", function() { return typedArrayToDtype; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cacheRequirements\", function() { return cacheRequirements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupServiceWorker\", function() { return setupServiceWorker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"urlJoin\", function() { return urlJoin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MessageEmitter\", function() { return MessageEmitter; });\nfunction randId() {\n  return Math.random().toString(36).substr(2, 10) + new Date().getTime();\n}\nconst dtypeToTypedArray = {\n  int8: Int8Array,\n  int16: Int16Array,\n  int32: Int32Array,\n  uint8: Uint8Array,\n  uint16: Uint16Array,\n  uint32: Uint32Array,\n  float32: Float32Array,\n  float64: Float64Array,\n  array: Array\n};\nfunction normalizeConfig(config) {\n  config.version = config.version || \"0.1.0\";\n  config.description = config.description || `[TODO: add description for ${config.name} ]`;\n  config.type = config.type || \"rpc-window\";\n  config.id = config.id || randId();\n  config.allow_execution = config.allow_execution || false;\n\n  if (config.enable_service_worker) {\n    setupServiceWorker(config.base_url, config.target_origin, config.cache_requirements);\n  }\n\n  if (config.cache_requirements) {\n    delete config.cache_requirements;\n  } // remove functions\n\n\n  config = Object.keys(config).reduce((p, c) => {\n    if (typeof config[c] !== \"function\") p[c] = config[c];\n    return p;\n  }, {});\n  return config;\n}\nconst typedArrayToDtypeMapping = {\n  Int8Array: \"int8\",\n  Int16Array: \"int16\",\n  Int32Array: \"int32\",\n  Uint8Array: \"uint8\",\n  Uint16Array: \"uint16\",\n  Uint32Array: \"uint32\",\n  Float32Array: \"float32\",\n  Float64Array: \"float64\",\n  Array: \"array\"\n};\nconst typedArrayToDtypeKeys = [];\n\nfor (const arrType of Object.keys(typedArrayToDtypeMapping)) {\n  typedArrayToDtypeKeys.push(eval(arrType));\n}\n\nfunction typedArrayToDtype(obj) {\n  let dtype = typedArrayToDtypeMapping[obj.constructor.name];\n\n  if (!dtype) {\n    const pt = Object.getPrototypeOf(obj);\n\n    for (const arrType of typedArrayToDtypeKeys) {\n      if (pt instanceof arrType) {\n        dtype = typedArrayToDtypeMapping[arrType.name];\n        break;\n      }\n    }\n  }\n\n  return dtype;\n}\n\nfunction cacheUrlInServiceWorker(url) {\n  return new Promise(function (resolve, reject) {\n    const message = {\n      command: \"add\",\n      url: url\n    };\n\n    if (!navigator.serviceWorker || !navigator.serviceWorker.register) {\n      reject(\"Service worker is not supported.\");\n      return;\n    }\n\n    const messageChannel = new MessageChannel();\n\n    messageChannel.port1.onmessage = function (event) {\n      if (event.data && event.data.error) {\n        reject(event.data.error);\n      } else {\n        resolve(event.data && event.data.result);\n      }\n    };\n\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage(message, [messageChannel.port2]);\n    } else {\n      reject(\"Service worker controller is not available\");\n    }\n  });\n}\n\nasync function cacheRequirements(requirements) {\n  if (!Array.isArray(requirements)) {\n    requirementsm.code.requirements = [requirements];\n  }\n\n  if (requirements && requirements.length > 0) {\n    for (let req of requirements) {\n      //remove prefix\n      if (req.startsWith(\"js:\")) req = req.slice(3);\n      if (req.startsWith(\"css:\")) req = req.slice(4);\n      if (req.startsWith(\"cache:\")) req = req.slice(6);\n      if (!req.startsWith(\"http\")) continue;\n      await cacheUrlInServiceWorker(req).catch(e => {\n        console.error(e);\n      });\n    }\n  }\n}\nfunction setupServiceWorker(baseUrl, targetOrigin, cacheCallback) {\n  // register service worker for offline access\n  if (\"serviceWorker\" in navigator) {\n    baseUrl = baseUrl || \"/\";\n    navigator.serviceWorker.register(baseUrl + \"plugin-service-worker.js\").then(function (registration) {\n      // Registration was successful\n      console.log(\"ServiceWorker registration successful with scope: \", registration.scope);\n    }, function (err) {\n      // registration failed :(\n      console.log(\"ServiceWorker registration failed: \", err);\n    });\n    targetOrigin = targetOrigin || \"*\";\n    cacheCallback = cacheCallback || cacheRequirements;\n\n    if (cacheCallback && typeof cacheCallback !== \"function\") {\n      throw new Error(\"config.cache_requirements must be a function\");\n    }\n\n    window.addEventListener(\"message\", function (e) {\n      if (targetOrigin === \"*\" || e.origin === targetOrigin) {\n        const m = e.data;\n\n        if (m.type === \"cacheRequirements\") {\n          cacheCallback(m.requirements);\n        }\n      }\n    });\n  }\n} //#Source https://bit.ly/2neWfJ2\n\nfunction urlJoin(...args) {\n  return args.join(\"/\").replace(/[\\/]+/g, \"/\").replace(/^(.+):\\//, \"$1://\").replace(/^file:/, \"file:/\").replace(/\\/(\\?|&|#[^!])/g, \"$1\").replace(/\\?/g, \"&\").replace(\"&\", \"?\");\n}\nclass MessageEmitter {\n  constructor(debug) {\n    this._event_handlers = {};\n    this._once_handlers = {};\n    this._debug = debug;\n  }\n\n  emit() {\n    throw new Error(\"emit is not implemented\");\n  }\n\n  on(event, handler) {\n    if (!this._event_handlers[event]) {\n      this._event_handlers[event] = [];\n    }\n\n    this._event_handlers[event].push(handler);\n  }\n\n  once(event, handler) {\n    handler.___event_run_once = true;\n    this.on(event, handler);\n  }\n\n  off(event, handler) {\n    if (!event && !handler) {\n      // remove all events handlers\n      this._event_handlers = {};\n    } else if (event && !handler) {\n      // remove all hanlders for the event\n      if (this._event_handlers[event]) this._event_handlers[event] = [];\n    } else {\n      // remove a specific handler\n      if (this._event_handlers[event]) {\n        const idx = this._event_handlers[event].indexOf(handler);\n\n        if (idx >= 0) {\n          this._event_handlers[event].splice(idx, 1);\n        }\n      }\n    }\n  }\n\n  _fire(event, data) {\n    if (this._event_handlers[event]) {\n      var i = this._event_handlers[event].length;\n\n      while (i--) {\n        const handler = this._event_handlers[event][i];\n\n        try {\n          handler(data);\n        } catch (e) {\n          console.error(e);\n        } finally {\n          if (handler.___event_run_once) {\n            this._event_handlers[event].splice(i, 1);\n          }\n        }\n      }\n    } else {\n      if (this._debug) {\n        console.warn(\"unhandled event\", event, data);\n      }\n    }\n  }\n\n}\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=imjoy-rpc-socketio.js.map","module.exports = {imjoyRPC: require('./dist/imjoy-rpc.js'), imjoyRPCSocketIO: require(\"./dist/imjoy-rpc-socketio\")};"],"names":["root","factory","modules","installedModules","__webpack_require__","moduleId","module","exports","name","getter","value","mode","ns","key","object","property","URL","content","url","blob","BlobBuilder","__webpack_exports__","waitForInitialization","setupRPC","_plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0__","_plugin_webworker_js__WEBPACK_IMPORTED_MODULE_0___default","_pluginIframe_js__WEBPACK_IMPORTED_MODULE_1__","_utils_js__WEBPACK_IMPORTED_MODULE_2__","_rpc_js__WEBPACK_IMPORTED_MODULE_3__","_package_json__WEBPACK_IMPORTED_MODULE_4__","_inIframe","setupWebWorker","config","worker","fallbackTimeout","peer_id","e","transferables","m","targetOrigin","done","handleEvent","cfg","result","resolve","reject","api","connectRPC","_rpc_js__WEBPACK_IMPORTED_MODULE_0__","connection","codecs","rpc","launchConnected","k","obj","_interface","handler","checkHandler","connected","connectedHandlers","type","msg","html","template","scriptTag","args","len","i","data","style_node","link_node_","conn","API_VERSION","RPC","_utils_js__WEBPACK_IMPORTED_MODULE_0__","ArrayBufferView","_appendBuffer","buffer1","buffer2","tmp","indexObject","is","ReferenceStore","func_name","_remote","objectId","method","method_this","intf_index","err","typedArray","shape","dtype","_dtype","intf","targetId","me","remoteMethod","id","wrapped_resolve","wrapped_reject","encodedPromise","aObject","asInterface","aType","bObject","cid","temp","_transfer","isarray","tp","codec","encodedObj","v_buffer","keys","hasFunction","withPromise","arraytype","v","remoteCallback","readyHandler","busyHandler","p","pt","arrType","message","messageChannel","event","requirements","req","baseUrl","cacheCallback","registration","debug","idx","Backoff","opts","ms","rand","deviation","min","max","jitter","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","code","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","arr","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","output","extraBytes","parts","maxChunkLength","len2","global","base64","ieee754","isArray","Buffer","SlowBuffer","typedArraySupport","kMaxLength","createBuffer","that","length","arg","encodingOrOffset","allocUnsafe","from","fromArrayBuffer","fromString","fromObject","assertSize","size","alloc","fill","encoding","checked","string","actual","fromArrayLike","array","byteOffset","isnan","b","a","x","y","list","buffer","pos","buf","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","str","target","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","val","dir","arrayIndexOf","indexSize","arrLength","valLength","read","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","ret","out","toHex","bytes","newBuf","sliceLen","checkOffset","ext","noAssert","mul","checkInt","maxBytes","objectWriteUInt16","littleEndian","objectWriteUInt32","limit","sub","checkIEEE754","writeFloat","writeDouble","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","units","leadSurrogate","byteArray","c","hi","lo","src","dst","Emitter","mixin","fn","on","callbacks","cb","Socket","uri","transports","parser","parseuri","parseqs","query","clone","transport","self","packet","failed","onTransportOpen","upgradeLosesBinary","cleanup","freezeTransport","onerror","error","onTransportClose","onclose","onupgrade","to","l","options","waitForUpgrade","close","cleanupAndClose","reason","desc","upgrades","filteredUpgrades","o","Transport","packets","XMLHttpRequest","XHR","JSONP","websocket","polling","xhr","xd","xs","jsonp","isSSL","port","Polling","globalThis","rNewline","rEscapedNewline","JSONPPolling","script","insertAt","iframe","form","area","complete","initIframe","pick","empty","hasXHR2","forceBase64","Request","fromError","unloadHandler","terminationEvent","yeast","onPause","pause","total","callback","index","schema","ipv6","WebSocket","usingBrowserWebSocket","defaultBinaryType","isReactNative","WS","protocols","ev","attr","acc","hasCORS","xdomain","xscheme","enablesXDR","chars","arraybuffer","bufferLength","encoded1","encoded2","encoded3","encoded4","process","formatArgs","save","load","useColors","localstorage","warned","lastC","match","namespaces","r","formatters","setup","env","createDebug","coerce","disable","enable","enabled","destroy","selectColor","namespace","hash","prevTime","enableOverride","curr","format","formatter","extend","delimiter","newDebug","split","toNamespace","regexp","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeArrayBuffer","base64decoder","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","decoded","withNativeBlob","isView","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","SEPARATOR","encodePayload","encodedPackets","count","decodePayload","encodedPayload","decodedPacket","qs","qry","pairs","pair","re","pathNames","queryKey","path","regx","names","$0","$1","$2","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","rt","toString","h","w","parse","fmtLong","fmtShort","msAbs","plural","isPlural","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","Item","noop","url_1","manager_1","socket_1","cache","source","sameNamespace","newConnection","io","socket_io_parser_1","manager_2","eio","on_1","typed_events_1","Manager","_parser","_a","socket","openSubDestroy","errorSub","timer","nsp","nsps","subDestroy","delay","attempt","RESERVED_EVENTS","isTransportWritable","listeners","listener","sent","ack","compress","StrictEventEmitter","loc","host","is_binary_1","deconstructPacket","buffers","packetData","pack","_deconstructPacket","placeholder","newData","reconstructPacket","_reconstructPacket","binary_1","PacketType","Encoder","deconstruction","Decoder","BinaryReconstructor","next","payload","tryParse","binData","withNativeFile","isBinary","hasBinary","toJSON","g","alphabet","map","seed","prev","encode","encoded","decode","now","Connection","connectToServer","_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__","_rpc_js__WEBPACK_IMPORTED_MODULE_1__","socket_io_client__WEBPACK_IMPORTED_MODULE_3__","socket_io_client__WEBPACK_IMPORTED_MODULE_3___default","_main_js__WEBPACK_IMPORTED_MODULE_4__","_package_json__WEBPACK_IMPORTED_MODULE_5__","extraHeaders","require$$0","require$$1"],"mappings":"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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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","x_google_ignoreList":[0,1,2]}