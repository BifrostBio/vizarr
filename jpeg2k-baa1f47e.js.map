{"version":3,"file":"jpeg2k-baa1f47e.js","sources":["../src/codecs/jpeg2k.ts"],"sourcesContent":["// TODO: Remove dependency on CDN for pdf.js source. Could use git submodule or\n// `deno bundle` since the pdf.js dist does not include ESM source code (only UMD or CJS).\n\n// @ts-ignore\nimport { JpxImage } from 'https://cdn.jsdelivr.net/gh/mozilla/pdf.js@30bd5f0/src/core/jpx.js';\n\nexport default class Jpeg2k {\n  static codecId: 'jpeg2k';\n  static fromConfig(_: Record<string, any>): Jpeg2k {\n    return new Jpeg2k();\n  }\n\n  encode(_: Uint8Array): never {\n    throw new Error('encode not implemented');\n  }\n\n  async decode(data: Uint8Array): Promise<Uint8Array> {\n    const img = new JpxImage();\n    img.failOnCorruptedImage = true;\n    img.parse(data);\n    return img.tiles[0].items;\n  }\n}\n"],"names":["_Jpeg2k","_","data","img","JpxImage","__publicField","Jpeg2k"],"mappings":"sQAMA,MAAqBA,EAArB,MAAqBA,CAAO,CAE1B,OAAO,WAAWC,EAAgC,CAChD,OAAO,IAAID,CACb,CAEA,OAAOC,EAAsB,CACrB,MAAA,IAAI,MAAM,wBAAwB,CAC1C,CAEA,MAAM,OAAOC,EAAuC,CAC5C,MAAAC,EAAM,IAAIC,EAChB,OAAAD,EAAI,qBAAuB,GAC3BA,EAAI,MAAMD,CAAI,EACPC,EAAI,MAAM,CAAC,EAAE,KACtB,CACF,EAfEE,EADmBL,EACZ,WADT,IAAqBM,EAArBN"}